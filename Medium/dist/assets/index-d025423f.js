var DC=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var _X=DC((kX,ah)=>{function MC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $a(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var T2={exports:{}},pd={},S2={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ic=Symbol.for("react.element"),LC=Symbol.for("react.portal"),jC=Symbol.for("react.fragment"),VC=Symbol.for("react.strict_mode"),FC=Symbol.for("react.profiler"),UC=Symbol.for("react.provider"),$C=Symbol.for("react.context"),BC=Symbol.for("react.forward_ref"),zC=Symbol.for("react.suspense"),qC=Symbol.for("react.memo"),WC=Symbol.for("react.lazy"),$1=Symbol.iterator;function HC(t){return t===null||typeof t!="object"?null:(t=$1&&t[$1]||t["@@iterator"],typeof t=="function"?t:null)}var k2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b2=Object.assign,x2={};function Ba(t,e,n){this.props=t,this.context=e,this.refs=x2,this.updater=n||k2}Ba.prototype.isReactComponent={};Ba.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ba.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function I2(){}I2.prototype=Ba.prototype;function av(t,e,n){this.props=t,this.context=e,this.refs=x2,this.updater=n||k2}var lv=av.prototype=new I2;lv.constructor=av;b2(lv,Ba.prototype);lv.isPureReactComponent=!0;var B1=Array.isArray,O2=Object.prototype.hasOwnProperty,uv={current:null},A2={key:!0,ref:!0,__self:!0,__source:!0};function P2(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)O2.call(e,r)&&!A2.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ic,type:t,key:s,ref:o,props:i,_owner:uv.current}}function YC(t,e){return{$$typeof:ic,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cv(t){return typeof t=="object"&&t!==null&&t.$$typeof===ic}function GC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var z1=/\/+/g;function sm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GC(""+t.key):e.toString(36)}function jf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ic:case LC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+sm(o,0):r,B1(i)?(n="",t!=null&&(n=t.replace(z1,"$&/")+"/"),jf(i,e,n,"",function(c){return c})):i!=null&&(cv(i)&&(i=YC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(z1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",B1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+sm(s,a);o+=jf(s,e,n,l,i)}else if(l=HC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+sm(s,a++),o+=jf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function tf(t,e,n){if(t==null)return t;var r=[],i=0;return jf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function KC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cn={current:null},Vf={transition:null},QC={ReactCurrentDispatcher:Cn,ReactCurrentBatchConfig:Vf,ReactCurrentOwner:uv};$e.Children={map:tf,forEach:function(t,e,n){tf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tf(t,function(){e++}),e},toArray:function(t){return tf(t,function(e){return e})||[]},only:function(t){if(!cv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$e.Component=Ba;$e.Fragment=jC;$e.Profiler=FC;$e.PureComponent=av;$e.StrictMode=VC;$e.Suspense=zC;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QC;$e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=b2({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=uv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)O2.call(e,l)&&!A2.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ic,type:t.type,key:i,ref:s,props:r,_owner:o}};$e.createContext=function(t){return t={$$typeof:$C,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UC,_context:t},t.Consumer=t};$e.createElement=P2;$e.createFactory=function(t){var e=P2.bind(null,t);return e.type=t,e};$e.createRef=function(){return{current:null}};$e.forwardRef=function(t){return{$$typeof:BC,render:t}};$e.isValidElement=cv;$e.lazy=function(t){return{$$typeof:WC,_payload:{_status:-1,_result:t},_init:KC}};$e.memo=function(t,e){return{$$typeof:qC,type:t,compare:e===void 0?null:e}};$e.startTransition=function(t){var e=Vf.transition;Vf.transition={};try{t()}finally{Vf.transition=e}};$e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};$e.useCallback=function(t,e){return Cn.current.useCallback(t,e)};$e.useContext=function(t){return Cn.current.useContext(t)};$e.useDebugValue=function(){};$e.useDeferredValue=function(t){return Cn.current.useDeferredValue(t)};$e.useEffect=function(t,e){return Cn.current.useEffect(t,e)};$e.useId=function(){return Cn.current.useId()};$e.useImperativeHandle=function(t,e,n){return Cn.current.useImperativeHandle(t,e,n)};$e.useInsertionEffect=function(t,e){return Cn.current.useInsertionEffect(t,e)};$e.useLayoutEffect=function(t,e){return Cn.current.useLayoutEffect(t,e)};$e.useMemo=function(t,e){return Cn.current.useMemo(t,e)};$e.useReducer=function(t,e,n){return Cn.current.useReducer(t,e,n)};$e.useRef=function(t){return Cn.current.useRef(t)};$e.useState=function(t){return Cn.current.useState(t)};$e.useSyncExternalStore=function(t,e,n){return Cn.current.useSyncExternalStore(t,e,n)};$e.useTransition=function(){return Cn.current.useTransition()};$e.version="18.2.0";S2.exports=$e;var K=S2.exports;const We=$a(K),ZC=MC({__proto__:null,default:We},[K]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XC=K,JC=Symbol.for("react.element"),e4=Symbol.for("react.fragment"),t4=Object.prototype.hasOwnProperty,n4=XC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r4={key:!0,ref:!0,__self:!0,__source:!0};function R2(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)t4.call(e,r)&&!r4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:JC,type:t,key:s,ref:o,props:i,_owner:n4.current}}pd.Fragment=e4;pd.jsx=R2;pd.jsxs=R2;T2.exports=pd;var R=T2.exports,mg={},N2={exports:{}},nr={},C2={exports:{}},D2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,z){var F=Q.length;Q.push(z);e:for(;0<F;){var D=F-1>>>1,V=Q[D];if(0<i(V,z))Q[D]=z,Q[F]=V,F=D;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var z=Q[0],F=Q.pop();if(F!==z){Q[0]=F;e:for(var D=0,V=Q.length,B=V>>>1;D<B;){var Z=2*(D+1)-1,q=Q[Z],U=Z+1,Y=Q[U];if(0>i(q,F))U<V&&0>i(Y,q)?(Q[D]=Y,Q[U]=F,D=U):(Q[D]=q,Q[Z]=F,D=Z);else if(U<V&&0>i(Y,F))Q[D]=Y,Q[U]=F,D=U;else break e}}return z}function i(Q,z){var F=Q.sortIndex-z.sortIndex;return F!==0?F:Q.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,h=null,d=3,p=!1,w=!1,E=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(Q){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=Q)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function v(Q){if(E=!1,T(Q),!w)if(n(l)!==null)w=!0,H(S);else{var z=n(c);z!==null&&G(v,z.startTime-Q)}}function S(Q,z){w=!1,E&&(E=!1,g(x),x=-1),p=!0;var F=d;try{for(T(z),h=n(l);h!==null&&(!(h.expirationTime>z)||Q&&!A());){var D=h.callback;if(typeof D=="function"){h.callback=null,d=h.priorityLevel;var V=D(h.expirationTime<=z);z=t.unstable_now(),typeof V=="function"?h.callback=V:h===n(l)&&r(l),T(z)}else r(l);h=n(l)}if(h!==null)var B=!0;else{var Z=n(c);Z!==null&&G(v,Z.startTime-z),B=!1}return B}finally{h=null,d=F,p=!1}}var P=!1,I=null,x=-1,N=5,b=-1;function A(){return!(t.unstable_now()-b<N)}function C(){if(I!==null){var Q=t.unstable_now();b=Q;var z=!0;try{z=I(!0,Q)}finally{z?M():(P=!1,I=null)}}else P=!1}var M;if(typeof m=="function")M=function(){m(C)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,$=j.port2;j.port1.onmessage=C,M=function(){$.postMessage(null)}}else M=function(){_(C,0)};function H(Q){I=Q,P||(P=!0,M())}function G(Q,z){x=_(function(){Q(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){w||p||(w=!0,H(S))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Q){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var F=d;d=z;try{return Q()}finally{d=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,z){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var F=d;d=Q;try{return z()}finally{d=F}},t.unstable_scheduleCallback=function(Q,z,F){var D=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?D+F:D):F=D,Q){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=F+V,Q={id:f++,callback:z,priorityLevel:Q,startTime:F,expirationTime:V,sortIndex:-1},F>D?(Q.sortIndex=F,e(c,Q),n(l)===null&&Q===n(c)&&(E?(g(x),x=-1):E=!0,G(v,F-D))):(Q.sortIndex=V,e(l,Q),w||p||(w=!0,H(S))),Q},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(Q){var z=d;return function(){var F=d;d=z;try{return Q.apply(this,arguments)}finally{d=F}}}})(D2);C2.exports=D2;var i4=C2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M2=K,er=i4;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L2=new Set,fu={};function So(t,e){ka(t,e),ka(t+"Capture",e)}function ka(t,e){for(fu[t]=e,t=0;t<e.length;t++)L2.add(e[t])}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gg=Object.prototype.hasOwnProperty,s4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q1={},W1={};function o4(t){return gg.call(W1,t)?!0:gg.call(q1,t)?!1:s4.test(t)?W1[t]=!0:(q1[t]=!0,!1)}function a4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function l4(t,e,n,r){if(e===null||typeof e>"u"||a4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ln[t]=new Dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ln[e]=new Dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ln[t]=new Dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ln[t]=new Dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ln[t]=new Dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ln[t]=new Dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ln[t]=new Dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ln[t]=new Dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ln[t]=new Dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var fv=/[\-:]([a-z])/g;function hv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fv,hv);ln[e]=new Dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fv,hv);ln[e]=new Dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fv,hv);ln[e]=new Dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ln[t]=new Dn(t,1,!1,t.toLowerCase(),null,!1,!1)});ln.xlinkHref=new Dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ln[t]=new Dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function dv(t,e,n,r){var i=ln.hasOwnProperty(e)?ln[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(l4(e,n,i,r)&&(n=null),r||i===null?o4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Li=M2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nf=Symbol.for("react.element"),Ko=Symbol.for("react.portal"),Qo=Symbol.for("react.fragment"),pv=Symbol.for("react.strict_mode"),yg=Symbol.for("react.profiler"),j2=Symbol.for("react.provider"),V2=Symbol.for("react.context"),mv=Symbol.for("react.forward_ref"),vg=Symbol.for("react.suspense"),_g=Symbol.for("react.suspense_list"),gv=Symbol.for("react.memo"),Hi=Symbol.for("react.lazy"),F2=Symbol.for("react.offscreen"),H1=Symbol.iterator;function yl(t){return t===null||typeof t!="object"?null:(t=H1&&t[H1]||t["@@iterator"],typeof t=="function"?t:null)}var xt=Object.assign,om;function Cl(t){if(om===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);om=e&&e[1]||""}return`
`+om+t}var am=!1;function lm(t,e){if(!t||am)return"";am=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{am=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Cl(t):""}function u4(t){switch(t.tag){case 5:return Cl(t.type);case 16:return Cl("Lazy");case 13:return Cl("Suspense");case 19:return Cl("SuspenseList");case 0:case 2:case 15:return t=lm(t.type,!1),t;case 11:return t=lm(t.type.render,!1),t;case 1:return t=lm(t.type,!0),t;default:return""}}function wg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qo:return"Fragment";case Ko:return"Portal";case yg:return"Profiler";case pv:return"StrictMode";case vg:return"Suspense";case _g:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V2:return(t.displayName||"Context")+".Consumer";case j2:return(t._context.displayName||"Context")+".Provider";case mv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gv:return e=t.displayName||null,e!==null?e:wg(t.type)||"Memo";case Hi:e=t._payload,t=t._init;try{return wg(t(e))}catch{}}return null}function c4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wg(e);case 8:return e===pv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ts(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function U2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function f4(t){var e=U2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rf(t){t._valueTracker||(t._valueTracker=f4(t))}function $2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=U2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function lh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Eg(t,e){var n=e.checked;return xt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Y1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ts(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function B2(t,e){e=e.checked,e!=null&&dv(t,"checked",e,!1)}function Tg(t,e){B2(t,e);var n=Ts(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sg(t,e.type,Ts(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function G1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sg(t,e,n){(e!=="number"||lh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Dl=Array.isArray;function ca(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ts(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function kg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return xt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function K1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ae(92));if(Dl(n)){if(1<n.length)throw Error(ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ts(n)}}function z2(t,e){var n=Ts(e.value),r=Ts(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Q1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function q2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?q2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sf,W2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sf=sf||document.createElement("div"),sf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h4=["Webkit","ms","Moz","O"];Object.keys(Wl).forEach(function(t){h4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wl[e]=Wl[t]})});function H2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wl.hasOwnProperty(t)&&Wl[t]?(""+e).trim():e+"px"}function Y2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=H2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var d4=xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xg(t,e){if(e){if(d4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function Ig(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Og=null;function yv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ag=null,fa=null,ha=null;function Z1(t){if(t=ac(t)){if(typeof Ag!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=_d(e),Ag(t.stateNode,t.type,e))}}function G2(t){fa?ha?ha.push(t):ha=[t]:fa=t}function K2(){if(fa){var t=fa,e=ha;if(ha=fa=null,Z1(t),e)for(t=0;t<e.length;t++)Z1(e[t])}}function Q2(t,e){return t(e)}function Z2(){}var um=!1;function X2(t,e,n){if(um)return t(e,n);um=!0;try{return Q2(t,e,n)}finally{um=!1,(fa!==null||ha!==null)&&(Z2(),K2())}}function du(t,e){var n=t.stateNode;if(n===null)return null;var r=_d(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var Pg=!1;if(Ii)try{var vl={};Object.defineProperty(vl,"passive",{get:function(){Pg=!0}}),window.addEventListener("test",vl,vl),window.removeEventListener("test",vl,vl)}catch{Pg=!1}function p4(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Hl=!1,uh=null,ch=!1,Rg=null,m4={onError:function(t){Hl=!0,uh=t}};function g4(t,e,n,r,i,s,o,a,l){Hl=!1,uh=null,p4.apply(m4,arguments)}function y4(t,e,n,r,i,s,o,a,l){if(g4.apply(this,arguments),Hl){if(Hl){var c=uh;Hl=!1,uh=null}else throw Error(ae(198));ch||(ch=!0,Rg=c)}}function ko(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function J2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function X1(t){if(ko(t)!==t)throw Error(ae(188))}function v4(t){var e=t.alternate;if(!e){if(e=ko(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return X1(i),t;if(s===r)return X1(i),e;s=s.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function eS(t){return t=v4(t),t!==null?tS(t):null}function tS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tS(t);if(e!==null)return e;t=t.sibling}return null}var nS=er.unstable_scheduleCallback,J1=er.unstable_cancelCallback,_4=er.unstable_shouldYield,w4=er.unstable_requestPaint,jt=er.unstable_now,E4=er.unstable_getCurrentPriorityLevel,vv=er.unstable_ImmediatePriority,rS=er.unstable_UserBlockingPriority,fh=er.unstable_NormalPriority,T4=er.unstable_LowPriority,iS=er.unstable_IdlePriority,md=null,Wr=null;function S4(t){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(md,t,void 0,(t.current.flags&128)===128)}catch{}}var Ir=Math.clz32?Math.clz32:x4,k4=Math.log,b4=Math.LN2;function x4(t){return t>>>=0,t===0?32:31-(k4(t)/b4|0)|0}var of=64,af=4194304;function Ml(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ml(a):(s&=o,s!==0&&(r=Ml(s)))}else o=n&~i,o!==0?r=Ml(o):s!==0&&(r=Ml(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ir(e),i=1<<n,r|=t[n],e&=~i;return r}function I4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ir(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=I4(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ng(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sS(){var t=of;return of<<=1,!(of&4194240)&&(of=64),t}function cm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ir(e),t[e]=n}function A4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ir(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function _v(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ir(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Je=0;function oS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var aS,wv,lS,uS,cS,Cg=!1,lf=[],as=null,ls=null,us=null,pu=new Map,mu=new Map,Gi=[],P4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ew(t,e){switch(t){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":pu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(e.pointerId)}}function _l(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ac(e),e!==null&&wv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function R4(t,e,n,r,i){switch(e){case"focusin":return as=_l(as,t,e,n,r,i),!0;case"dragenter":return ls=_l(ls,t,e,n,r,i),!0;case"mouseover":return us=_l(us,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return pu.set(s,_l(pu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,mu.set(s,_l(mu.get(s)||null,t,e,n,r,i)),!0}return!1}function fS(t){var e=Ys(t.target);if(e!==null){var n=ko(e);if(n!==null){if(e=n.tag,e===13){if(e=J2(n),e!==null){t.blockedOn=e,cS(t.priority,function(){lS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ff(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Og=r,n.target.dispatchEvent(r),Og=null}else return e=ac(n),e!==null&&wv(e),t.blockedOn=n,!1;e.shift()}return!0}function tw(t,e,n){Ff(t)&&n.delete(e)}function N4(){Cg=!1,as!==null&&Ff(as)&&(as=null),ls!==null&&Ff(ls)&&(ls=null),us!==null&&Ff(us)&&(us=null),pu.forEach(tw),mu.forEach(tw)}function wl(t,e){t.blockedOn===e&&(t.blockedOn=null,Cg||(Cg=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,N4)))}function gu(t){function e(i){return wl(i,t)}if(0<lf.length){wl(lf[0],t);for(var n=1;n<lf.length;n++){var r=lf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(as!==null&&wl(as,t),ls!==null&&wl(ls,t),us!==null&&wl(us,t),pu.forEach(e),mu.forEach(e),n=0;n<Gi.length;n++)r=Gi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gi.length&&(n=Gi[0],n.blockedOn===null);)fS(n),n.blockedOn===null&&Gi.shift()}var da=Li.ReactCurrentBatchConfig,dh=!0;function C4(t,e,n,r){var i=Je,s=da.transition;da.transition=null;try{Je=1,Ev(t,e,n,r)}finally{Je=i,da.transition=s}}function D4(t,e,n,r){var i=Je,s=da.transition;da.transition=null;try{Je=4,Ev(t,e,n,r)}finally{Je=i,da.transition=s}}function Ev(t,e,n,r){if(dh){var i=Dg(t,e,n,r);if(i===null)wm(t,e,r,ph,n),ew(t,r);else if(R4(i,t,e,n,r))r.stopPropagation();else if(ew(t,r),e&4&&-1<P4.indexOf(t)){for(;i!==null;){var s=ac(i);if(s!==null&&aS(s),s=Dg(t,e,n,r),s===null&&wm(t,e,r,ph,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else wm(t,e,r,null,n)}}var ph=null;function Dg(t,e,n,r){if(ph=null,t=yv(r),t=Ys(t),t!==null)if(e=ko(t),e===null)t=null;else if(n=e.tag,n===13){if(t=J2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ph=t,null}function hS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(E4()){case vv:return 1;case rS:return 4;case fh:case T4:return 16;case iS:return 536870912;default:return 16}default:return 16}}var es=null,Tv=null,Uf=null;function dS(){if(Uf)return Uf;var t,e=Tv,n=e.length,r,i="value"in es?es.value:es.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Uf=i.slice(t,1<r?1-r:void 0)}function $f(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uf(){return!0}function nw(){return!1}function rr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?uf:nw,this.isPropagationStopped=nw,this}return xt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uf)},persist:function(){},isPersistent:uf}),e}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sv=rr(za),oc=xt({},za,{view:0,detail:0}),M4=rr(oc),fm,hm,El,gd=xt({},oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==El&&(El&&t.type==="mousemove"?(fm=t.screenX-El.screenX,hm=t.screenY-El.screenY):hm=fm=0,El=t),fm)},movementY:function(t){return"movementY"in t?t.movementY:hm}}),rw=rr(gd),L4=xt({},gd,{dataTransfer:0}),j4=rr(L4),V4=xt({},oc,{relatedTarget:0}),dm=rr(V4),F4=xt({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),U4=rr(F4),$4=xt({},za,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),B4=rr($4),z4=xt({},za,{data:0}),iw=rr(z4),q4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=H4[t])?!!e[t]:!1}function kv(){return Y4}var G4=xt({},oc,{key:function(t){if(t.key){var e=q4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$f(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?W4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kv,charCode:function(t){return t.type==="keypress"?$f(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$f(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),K4=rr(G4),Q4=xt({},gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sw=rr(Q4),Z4=xt({},oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kv}),X4=rr(Z4),J4=xt({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),eD=rr(J4),tD=xt({},gd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nD=rr(tD),rD=[9,13,27,32],bv=Ii&&"CompositionEvent"in window,Yl=null;Ii&&"documentMode"in document&&(Yl=document.documentMode);var iD=Ii&&"TextEvent"in window&&!Yl,pS=Ii&&(!bv||Yl&&8<Yl&&11>=Yl),ow=String.fromCharCode(32),aw=!1;function mS(t,e){switch(t){case"keyup":return rD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zo=!1;function sD(t,e){switch(t){case"compositionend":return gS(e);case"keypress":return e.which!==32?null:(aw=!0,ow);case"textInput":return t=e.data,t===ow&&aw?null:t;default:return null}}function oD(t,e){if(Zo)return t==="compositionend"||!bv&&mS(t,e)?(t=dS(),Uf=Tv=es=null,Zo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pS&&e.locale!=="ko"?null:e.data;default:return null}}var aD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aD[t.type]:e==="textarea"}function yS(t,e,n,r){G2(r),e=mh(e,"onChange"),0<e.length&&(n=new Sv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gl=null,yu=null;function lD(t){OS(t,0)}function yd(t){var e=ea(t);if($2(e))return t}function uD(t,e){if(t==="change")return e}var vS=!1;if(Ii){var pm;if(Ii){var mm="oninput"in document;if(!mm){var uw=document.createElement("div");uw.setAttribute("oninput","return;"),mm=typeof uw.oninput=="function"}pm=mm}else pm=!1;vS=pm&&(!document.documentMode||9<document.documentMode)}function cw(){Gl&&(Gl.detachEvent("onpropertychange",_S),yu=Gl=null)}function _S(t){if(t.propertyName==="value"&&yd(yu)){var e=[];yS(e,yu,t,yv(t)),X2(lD,e)}}function cD(t,e,n){t==="focusin"?(cw(),Gl=e,yu=n,Gl.attachEvent("onpropertychange",_S)):t==="focusout"&&cw()}function fD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yd(yu)}function hD(t,e){if(t==="click")return yd(e)}function dD(t,e){if(t==="input"||t==="change")return yd(e)}function pD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ar=typeof Object.is=="function"?Object.is:pD;function vu(t,e){if(Ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gg.call(e,i)||!Ar(t[i],e[i]))return!1}return!0}function fw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hw(t,e){var n=fw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fw(n)}}function wS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ES(){for(var t=window,e=lh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lh(t.document)}return e}function xv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mD(t){var e=ES(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wS(n.ownerDocument.documentElement,n)){if(r!==null&&xv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=hw(n,s);var o=hw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gD=Ii&&"documentMode"in document&&11>=document.documentMode,Xo=null,Mg=null,Kl=null,Lg=!1;function dw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lg||Xo==null||Xo!==lh(r)||(r=Xo,"selectionStart"in r&&xv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kl&&vu(Kl,r)||(Kl=r,r=mh(Mg,"onSelect"),0<r.length&&(e=new Sv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xo)))}function cf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Jo={animationend:cf("Animation","AnimationEnd"),animationiteration:cf("Animation","AnimationIteration"),animationstart:cf("Animation","AnimationStart"),transitionend:cf("Transition","TransitionEnd")},gm={},TS={};Ii&&(TS=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function vd(t){if(gm[t])return gm[t];if(!Jo[t])return t;var e=Jo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in TS)return gm[t]=e[n];return t}var SS=vd("animationend"),kS=vd("animationiteration"),bS=vd("animationstart"),xS=vd("transitionend"),IS=new Map,pw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function As(t,e){IS.set(t,e),So(e,[t])}for(var ym=0;ym<pw.length;ym++){var vm=pw[ym],yD=vm.toLowerCase(),vD=vm[0].toUpperCase()+vm.slice(1);As(yD,"on"+vD)}As(SS,"onAnimationEnd");As(kS,"onAnimationIteration");As(bS,"onAnimationStart");As("dblclick","onDoubleClick");As("focusin","onFocus");As("focusout","onBlur");As(xS,"onTransitionEnd");ka("onMouseEnter",["mouseout","mouseover"]);ka("onMouseLeave",["mouseout","mouseover"]);ka("onPointerEnter",["pointerout","pointerover"]);ka("onPointerLeave",["pointerout","pointerover"]);So("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));So("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));So("onBeforeInput",["compositionend","keypress","textInput","paste"]);So("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));So("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));So("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_D=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ll));function mw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,y4(r,e,void 0,t),t.currentTarget=null}function OS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;mw(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;mw(i,a,c),s=l}}}if(ch)throw t=Rg,ch=!1,Rg=null,t}function ct(t,e){var n=e[$g];n===void 0&&(n=e[$g]=new Set);var r=t+"__bubble";n.has(r)||(AS(e,t,2,!1),n.add(r))}function _m(t,e,n){var r=0;e&&(r|=4),AS(n,t,r,e)}var ff="_reactListening"+Math.random().toString(36).slice(2);function _u(t){if(!t[ff]){t[ff]=!0,L2.forEach(function(n){n!=="selectionchange"&&(_D.has(n)||_m(n,!1,t),_m(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ff]||(e[ff]=!0,_m("selectionchange",!1,e))}}function AS(t,e,n,r){switch(hS(e)){case 1:var i=C4;break;case 4:i=D4;break;default:i=Ev}n=i.bind(null,e,n,t),i=void 0,!Pg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ys(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}X2(function(){var c=s,f=yv(n),h=[];e:{var d=IS.get(t);if(d!==void 0){var p=Sv,w=t;switch(t){case"keypress":if($f(n)===0)break e;case"keydown":case"keyup":p=K4;break;case"focusin":w="focus",p=dm;break;case"focusout":w="blur",p=dm;break;case"beforeblur":case"afterblur":p=dm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=rw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=j4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=X4;break;case SS:case kS:case bS:p=U4;break;case xS:p=eD;break;case"scroll":p=M4;break;case"wheel":p=nD;break;case"copy":case"cut":case"paste":p=B4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=sw}var E=(e&4)!==0,_=!E&&t==="scroll",g=E?d!==null?d+"Capture":null:d;E=[];for(var m=c,T;m!==null;){T=m;var v=T.stateNode;if(T.tag===5&&v!==null&&(T=v,g!==null&&(v=du(m,g),v!=null&&E.push(wu(m,v,T)))),_)break;m=m.return}0<E.length&&(d=new p(d,w,null,n,f),h.push({event:d,listeners:E}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Og&&(w=n.relatedTarget||n.fromElement)&&(Ys(w)||w[Oi]))break e;if((p||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=c,w=w?Ys(w):null,w!==null&&(_=ko(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=c),p!==w)){if(E=rw,v="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(E=sw,v="onPointerLeave",g="onPointerEnter",m="pointer"),_=p==null?d:ea(p),T=w==null?d:ea(w),d=new E(v,m+"leave",p,n,f),d.target=_,d.relatedTarget=T,v=null,Ys(f)===c&&(E=new E(g,m+"enter",w,n,f),E.target=T,E.relatedTarget=_,v=E),_=v,p&&w)t:{for(E=p,g=w,m=0,T=E;T;T=Bo(T))m++;for(T=0,v=g;v;v=Bo(v))T++;for(;0<m-T;)E=Bo(E),m--;for(;0<T-m;)g=Bo(g),T--;for(;m--;){if(E===g||g!==null&&E===g.alternate)break t;E=Bo(E),g=Bo(g)}E=null}else E=null;p!==null&&gw(h,d,p,E,!1),w!==null&&_!==null&&gw(h,_,w,E,!0)}}e:{if(d=c?ea(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var S=uD;else if(lw(d))if(vS)S=dD;else{S=fD;var P=cD}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=hD);if(S&&(S=S(t,c))){yS(h,S,n,f);break e}P&&P(t,d,c),t==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&Sg(d,"number",d.value)}switch(P=c?ea(c):window,t){case"focusin":(lw(P)||P.contentEditable==="true")&&(Xo=P,Mg=c,Kl=null);break;case"focusout":Kl=Mg=Xo=null;break;case"mousedown":Lg=!0;break;case"contextmenu":case"mouseup":case"dragend":Lg=!1,dw(h,n,f);break;case"selectionchange":if(gD)break;case"keydown":case"keyup":dw(h,n,f)}var I;if(bv)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Zo?mS(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(pS&&n.locale!=="ko"&&(Zo||x!=="onCompositionStart"?x==="onCompositionEnd"&&Zo&&(I=dS()):(es=f,Tv="value"in es?es.value:es.textContent,Zo=!0)),P=mh(c,x),0<P.length&&(x=new iw(x,t,null,n,f),h.push({event:x,listeners:P}),I?x.data=I:(I=gS(n),I!==null&&(x.data=I)))),(I=iD?sD(t,n):oD(t,n))&&(c=mh(c,"onBeforeInput"),0<c.length&&(f=new iw("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=I))}OS(h,e)})}function wu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=du(t,n),s!=null&&r.unshift(wu(t,s,i)),s=du(t,e),s!=null&&r.push(wu(t,s,i))),t=t.return}return r}function Bo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=du(n,s),l!=null&&o.unshift(wu(n,l,a))):i||(l=du(n,s),l!=null&&o.push(wu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var wD=/\r\n?/g,ED=/\u0000|\uFFFD/g;function yw(t){return(typeof t=="string"?t:""+t).replace(wD,`
`).replace(ED,"")}function hf(t,e,n){if(e=yw(e),yw(t)!==e&&n)throw Error(ae(425))}function gh(){}var jg=null,Vg=null;function Fg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ug=typeof setTimeout=="function"?setTimeout:void 0,TD=typeof clearTimeout=="function"?clearTimeout:void 0,vw=typeof Promise=="function"?Promise:void 0,SD=typeof queueMicrotask=="function"?queueMicrotask:typeof vw<"u"?function(t){return vw.resolve(null).then(t).catch(kD)}:Ug;function kD(t){setTimeout(function(){throw t})}function Em(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),gu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);gu(e)}function cs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _w(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qa=Math.random().toString(36).slice(2),Fr="__reactFiber$"+qa,Eu="__reactProps$"+qa,Oi="__reactContainer$"+qa,$g="__reactEvents$"+qa,bD="__reactListeners$"+qa,xD="__reactHandles$"+qa;function Ys(t){var e=t[Fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Oi]||n[Fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_w(t);t!==null;){if(n=t[Fr])return n;t=_w(t)}return e}t=n,n=t.parentNode}return null}function ac(t){return t=t[Fr]||t[Oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ea(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function _d(t){return t[Eu]||null}var Bg=[],ta=-1;function Ps(t){return{current:t}}function pt(t){0>ta||(t.current=Bg[ta],Bg[ta]=null,ta--)}function ot(t,e){ta++,Bg[ta]=t.current,t.current=e}var Ss={},En=Ps(Ss),Bn=Ps(!1),ao=Ss;function ba(t,e){var n=t.type.contextTypes;if(!n)return Ss;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zn(t){return t=t.childContextTypes,t!=null}function yh(){pt(Bn),pt(En)}function ww(t,e,n){if(En.current!==Ss)throw Error(ae(168));ot(En,e),ot(Bn,n)}function PS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ae(108,c4(t)||"Unknown",i));return xt({},n,r)}function vh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ss,ao=En.current,ot(En,t),ot(Bn,Bn.current),!0}function Ew(t,e,n){var r=t.stateNode;if(!r)throw Error(ae(169));n?(t=PS(t,e,ao),r.__reactInternalMemoizedMergedChildContext=t,pt(Bn),pt(En),ot(En,t)):pt(Bn),ot(Bn,n)}var mi=null,wd=!1,Tm=!1;function RS(t){mi===null?mi=[t]:mi.push(t)}function ID(t){wd=!0,RS(t)}function Rs(){if(!Tm&&mi!==null){Tm=!0;var t=0,e=Je;try{var n=mi;for(Je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}mi=null,wd=!1}catch(i){throw mi!==null&&(mi=mi.slice(t+1)),nS(vv,Rs),i}finally{Je=e,Tm=!1}}return null}var na=[],ra=0,_h=null,wh=0,or=[],ar=0,lo=null,yi=1,vi="";function Bs(t,e){na[ra++]=wh,na[ra++]=_h,_h=t,wh=e}function NS(t,e,n){or[ar++]=yi,or[ar++]=vi,or[ar++]=lo,lo=t;var r=yi;t=vi;var i=32-Ir(r)-1;r&=~(1<<i),n+=1;var s=32-Ir(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,yi=1<<32-Ir(e)+i|n<<i|r,vi=s+t}else yi=1<<s|n<<i|r,vi=t}function Iv(t){t.return!==null&&(Bs(t,1),NS(t,1,0))}function Ov(t){for(;t===_h;)_h=na[--ra],na[ra]=null,wh=na[--ra],na[ra]=null;for(;t===lo;)lo=or[--ar],or[ar]=null,vi=or[--ar],or[ar]=null,yi=or[--ar],or[ar]=null}var Jn=null,Qn=null,Et=!1,br=null;function CS(t,e){var n=fr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Tw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jn=t,Qn=cs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jn=t,Qn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=lo!==null?{id:yi,overflow:vi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jn=t,Qn=null,!0):!1;default:return!1}}function zg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qg(t){if(Et){var e=Qn;if(e){var n=e;if(!Tw(t,e)){if(zg(t))throw Error(ae(418));e=cs(n.nextSibling);var r=Jn;e&&Tw(t,e)?CS(r,n):(t.flags=t.flags&-4097|2,Et=!1,Jn=t)}}else{if(zg(t))throw Error(ae(418));t.flags=t.flags&-4097|2,Et=!1,Jn=t}}}function Sw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jn=t}function df(t){if(t!==Jn)return!1;if(!Et)return Sw(t),Et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fg(t.type,t.memoizedProps)),e&&(e=Qn)){if(zg(t))throw DS(),Error(ae(418));for(;e;)CS(t,e),e=cs(e.nextSibling)}if(Sw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qn=cs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qn=null}}else Qn=Jn?cs(t.stateNode.nextSibling):null;return!0}function DS(){for(var t=Qn;t;)t=cs(t.nextSibling)}function xa(){Qn=Jn=null,Et=!1}function Av(t){br===null?br=[t]:br.push(t)}var OD=Li.ReactCurrentBatchConfig;function Sr(t,e){if(t&&t.defaultProps){e=xt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Eh=Ps(null),Th=null,ia=null,Pv=null;function Rv(){Pv=ia=Th=null}function Nv(t){var e=Eh.current;pt(Eh),t._currentValue=e}function Wg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pa(t,e){Th=t,Pv=ia=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Un=!0),t.firstContext=null)}function mr(t){var e=t._currentValue;if(Pv!==t)if(t={context:t,memoizedValue:e,next:null},ia===null){if(Th===null)throw Error(ae(308));ia=t,Th.dependencies={lanes:0,firstContext:t}}else ia=ia.next=t;return e}var Gs=null;function Cv(t){Gs===null?Gs=[t]:Gs.push(t)}function MS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Cv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ai(t,r)}function Ai(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yi=!1;function Dv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ai(t,n)}return i=r.interleaved,i===null?(e.next=e,Cv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ai(t,n)}function Bf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_v(t,n)}}function kw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sh(t,e,n,r){var i=t.updateQueue;Yi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,f=c=l=null,a=s;do{var d=a.lane,p=a.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,E=a;switch(d=e,p=n,E.tag){case 1:if(w=E.payload,typeof w=="function"){h=w.call(p,h,d);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=E.payload,d=typeof w=="function"?w.call(p,h,d):w,d==null)break e;h=xt({},h,d);break e;case 2:Yi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=p,l=h):f=f.next=p,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);co|=o,t.lanes=o,t.memoizedState=h}}function bw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var jS=new M2.Component().refs;function Hg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ed={isMounted:function(t){return(t=t._reactInternals)?ko(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nn(),i=ds(t),s=bi(r,i);s.payload=e,n!=null&&(s.callback=n),e=fs(t,s,i),e!==null&&(Or(e,t,i,r),Bf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nn(),i=ds(t),s=bi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=fs(t,s,i),e!==null&&(Or(e,t,i,r),Bf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nn(),r=ds(t),i=bi(n,r);i.tag=2,e!=null&&(i.callback=e),e=fs(t,i,r),e!==null&&(Or(e,t,r,n),Bf(e,t,r))}};function xw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!vu(n,r)||!vu(i,s):!0}function VS(t,e,n){var r=!1,i=Ss,s=e.contextType;return typeof s=="object"&&s!==null?s=mr(s):(i=zn(e)?ao:En.current,r=e.contextTypes,s=(r=r!=null)?ba(t,i):Ss),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ed,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Iw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ed.enqueueReplaceState(e,e.state,null)}function Yg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=jS,Dv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=mr(s):(s=zn(e)?ao:En.current,i.context=ba(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Hg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ed.enqueueReplaceState(i,i.state,null),Sh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Tl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===jS&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,t))}return t}function pf(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ow(t){var e=t._init;return e(t._payload)}function FS(t){function e(g,m){if(t){var T=g.deletions;T===null?(g.deletions=[m],g.flags|=16):T.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=ps(g,m),g.index=0,g.sibling=null,g}function s(g,m,T){return g.index=T,t?(T=g.alternate,T!==null?(T=T.index,T<m?(g.flags|=2,m):T):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,T,v){return m===null||m.tag!==6?(m=Am(T,g.mode,v),m.return=g,m):(m=i(m,T),m.return=g,m)}function l(g,m,T,v){var S=T.type;return S===Qo?f(g,m,T.props.children,v,T.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Hi&&Ow(S)===m.type)?(v=i(m,T.props),v.ref=Tl(g,m,T),v.return=g,v):(v=Gf(T.type,T.key,T.props,null,g.mode,v),v.ref=Tl(g,m,T),v.return=g,v)}function c(g,m,T,v){return m===null||m.tag!==4||m.stateNode.containerInfo!==T.containerInfo||m.stateNode.implementation!==T.implementation?(m=Pm(T,g.mode,v),m.return=g,m):(m=i(m,T.children||[]),m.return=g,m)}function f(g,m,T,v,S){return m===null||m.tag!==7?(m=no(T,g.mode,v,S),m.return=g,m):(m=i(m,T),m.return=g,m)}function h(g,m,T){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Am(""+m,g.mode,T),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case nf:return T=Gf(m.type,m.key,m.props,null,g.mode,T),T.ref=Tl(g,null,m),T.return=g,T;case Ko:return m=Pm(m,g.mode,T),m.return=g,m;case Hi:var v=m._init;return h(g,v(m._payload),T)}if(Dl(m)||yl(m))return m=no(m,g.mode,T,null),m.return=g,m;pf(g,m)}return null}function d(g,m,T,v){var S=m!==null?m.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return S!==null?null:a(g,m,""+T,v);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case nf:return T.key===S?l(g,m,T,v):null;case Ko:return T.key===S?c(g,m,T,v):null;case Hi:return S=T._init,d(g,m,S(T._payload),v)}if(Dl(T)||yl(T))return S!==null?null:f(g,m,T,v,null);pf(g,T)}return null}function p(g,m,T,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return g=g.get(T)||null,a(m,g,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case nf:return g=g.get(v.key===null?T:v.key)||null,l(m,g,v,S);case Ko:return g=g.get(v.key===null?T:v.key)||null,c(m,g,v,S);case Hi:var P=v._init;return p(g,m,T,P(v._payload),S)}if(Dl(v)||yl(v))return g=g.get(T)||null,f(m,g,v,S,null);pf(m,v)}return null}function w(g,m,T,v){for(var S=null,P=null,I=m,x=m=0,N=null;I!==null&&x<T.length;x++){I.index>x?(N=I,I=null):N=I.sibling;var b=d(g,I,T[x],v);if(b===null){I===null&&(I=N);break}t&&I&&b.alternate===null&&e(g,I),m=s(b,m,x),P===null?S=b:P.sibling=b,P=b,I=N}if(x===T.length)return n(g,I),Et&&Bs(g,x),S;if(I===null){for(;x<T.length;x++)I=h(g,T[x],v),I!==null&&(m=s(I,m,x),P===null?S=I:P.sibling=I,P=I);return Et&&Bs(g,x),S}for(I=r(g,I);x<T.length;x++)N=p(I,g,x,T[x],v),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?x:N.key),m=s(N,m,x),P===null?S=N:P.sibling=N,P=N);return t&&I.forEach(function(A){return e(g,A)}),Et&&Bs(g,x),S}function E(g,m,T,v){var S=yl(T);if(typeof S!="function")throw Error(ae(150));if(T=S.call(T),T==null)throw Error(ae(151));for(var P=S=null,I=m,x=m=0,N=null,b=T.next();I!==null&&!b.done;x++,b=T.next()){I.index>x?(N=I,I=null):N=I.sibling;var A=d(g,I,b.value,v);if(A===null){I===null&&(I=N);break}t&&I&&A.alternate===null&&e(g,I),m=s(A,m,x),P===null?S=A:P.sibling=A,P=A,I=N}if(b.done)return n(g,I),Et&&Bs(g,x),S;if(I===null){for(;!b.done;x++,b=T.next())b=h(g,b.value,v),b!==null&&(m=s(b,m,x),P===null?S=b:P.sibling=b,P=b);return Et&&Bs(g,x),S}for(I=r(g,I);!b.done;x++,b=T.next())b=p(I,g,x,b.value,v),b!==null&&(t&&b.alternate!==null&&I.delete(b.key===null?x:b.key),m=s(b,m,x),P===null?S=b:P.sibling=b,P=b);return t&&I.forEach(function(C){return e(g,C)}),Et&&Bs(g,x),S}function _(g,m,T,v){if(typeof T=="object"&&T!==null&&T.type===Qo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case nf:e:{for(var S=T.key,P=m;P!==null;){if(P.key===S){if(S=T.type,S===Qo){if(P.tag===7){n(g,P.sibling),m=i(P,T.props.children),m.return=g,g=m;break e}}else if(P.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Hi&&Ow(S)===P.type){n(g,P.sibling),m=i(P,T.props),m.ref=Tl(g,P,T),m.return=g,g=m;break e}n(g,P);break}else e(g,P);P=P.sibling}T.type===Qo?(m=no(T.props.children,g.mode,v,T.key),m.return=g,g=m):(v=Gf(T.type,T.key,T.props,null,g.mode,v),v.ref=Tl(g,m,T),v.return=g,g=v)}return o(g);case Ko:e:{for(P=T.key;m!==null;){if(m.key===P)if(m.tag===4&&m.stateNode.containerInfo===T.containerInfo&&m.stateNode.implementation===T.implementation){n(g,m.sibling),m=i(m,T.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=Pm(T,g.mode,v),m.return=g,g=m}return o(g);case Hi:return P=T._init,_(g,m,P(T._payload),v)}if(Dl(T))return w(g,m,T,v);if(yl(T))return E(g,m,T,v);pf(g,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,T),m.return=g,g=m):(n(g,m),m=Am(T,g.mode,v),m.return=g,g=m),o(g)):n(g,m)}return _}var Ia=FS(!0),US=FS(!1),lc={},Hr=Ps(lc),Tu=Ps(lc),Su=Ps(lc);function Ks(t){if(t===lc)throw Error(ae(174));return t}function Mv(t,e){switch(ot(Su,e),ot(Tu,t),ot(Hr,lc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bg(e,t)}pt(Hr),ot(Hr,e)}function Oa(){pt(Hr),pt(Tu),pt(Su)}function $S(t){Ks(Su.current);var e=Ks(Hr.current),n=bg(e,t.type);e!==n&&(ot(Tu,t),ot(Hr,n))}function Lv(t){Tu.current===t&&(pt(Hr),pt(Tu))}var St=Ps(0);function kh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sm=[];function jv(){for(var t=0;t<Sm.length;t++)Sm[t]._workInProgressVersionPrimary=null;Sm.length=0}var zf=Li.ReactCurrentDispatcher,km=Li.ReactCurrentBatchConfig,uo=0,kt=null,qt=null,Qt=null,bh=!1,Ql=!1,ku=0,AD=0;function fn(){throw Error(ae(321))}function Vv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ar(t[n],e[n]))return!1;return!0}function Fv(t,e,n,r,i,s){if(uo=s,kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zf.current=t===null||t.memoizedState===null?CD:DD,t=n(r,i),Ql){s=0;do{if(Ql=!1,ku=0,25<=s)throw Error(ae(301));s+=1,Qt=qt=null,e.updateQueue=null,zf.current=MD,t=n(r,i)}while(Ql)}if(zf.current=xh,e=qt!==null&&qt.next!==null,uo=0,Qt=qt=kt=null,bh=!1,e)throw Error(ae(300));return t}function Uv(){var t=ku!==0;return ku=0,t}function Vr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?kt.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function gr(){if(qt===null){var t=kt.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var e=Qt===null?kt.memoizedState:Qt.next;if(e!==null)Qt=e,qt=t;else{if(t===null)throw Error(ae(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Qt===null?kt.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function bu(t,e){return typeof e=="function"?e(t):e}function bm(t){var e=gr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=qt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var f=c.lane;if((uo&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,kt.lanes|=f,co|=f}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Ar(r,e.memoizedState)||(Un=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,kt.lanes|=s,co|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xm(t){var e=gr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ar(s,e.memoizedState)||(Un=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function BS(){}function zS(t,e){var n=kt,r=gr(),i=e(),s=!Ar(r.memoizedState,i);if(s&&(r.memoizedState=i,Un=!0),r=r.queue,$v(HS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Qt!==null&&Qt.memoizedState.tag&1){if(n.flags|=2048,xu(9,WS.bind(null,n,r,i,e),void 0,null),Zt===null)throw Error(ae(349));uo&30||qS(n,e,i)}return i}function qS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=kt.updateQueue,e===null?(e={lastEffect:null,stores:null},kt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function WS(t,e,n,r){e.value=n,e.getSnapshot=r,YS(e)&&GS(t)}function HS(t,e,n){return n(function(){YS(e)&&GS(t)})}function YS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ar(t,n)}catch{return!0}}function GS(t){var e=Ai(t,1);e!==null&&Or(e,t,1,-1)}function Aw(t){var e=Vr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bu,lastRenderedState:t},e.queue=t,t=t.dispatch=ND.bind(null,kt,t),[e.memoizedState,t]}function xu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=kt.updateQueue,e===null?(e={lastEffect:null,stores:null},kt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function KS(){return gr().memoizedState}function qf(t,e,n,r){var i=Vr();kt.flags|=t,i.memoizedState=xu(1|e,n,void 0,r===void 0?null:r)}function Td(t,e,n,r){var i=gr();r=r===void 0?null:r;var s=void 0;if(qt!==null){var o=qt.memoizedState;if(s=o.destroy,r!==null&&Vv(r,o.deps)){i.memoizedState=xu(e,n,s,r);return}}kt.flags|=t,i.memoizedState=xu(1|e,n,s,r)}function Pw(t,e){return qf(8390656,8,t,e)}function $v(t,e){return Td(2048,8,t,e)}function QS(t,e){return Td(4,2,t,e)}function ZS(t,e){return Td(4,4,t,e)}function XS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JS(t,e,n){return n=n!=null?n.concat([t]):null,Td(4,4,XS.bind(null,e,t),n)}function Bv(){}function ek(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tk(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function nk(t,e,n){return uo&21?(Ar(n,e)||(n=sS(),kt.lanes|=n,co|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Un=!0),t.memoizedState=n)}function PD(t,e){var n=Je;Je=n!==0&&4>n?n:4,t(!0);var r=km.transition;km.transition={};try{t(!1),e()}finally{Je=n,km.transition=r}}function rk(){return gr().memoizedState}function RD(t,e,n){var r=ds(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ik(t))sk(e,n);else if(n=MS(t,e,n,r),n!==null){var i=Nn();Or(n,t,r,i),ok(n,e,r)}}function ND(t,e,n){var r=ds(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ik(t))sk(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ar(a,o)){var l=e.interleaved;l===null?(i.next=i,Cv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=MS(t,e,i,r),n!==null&&(i=Nn(),Or(n,t,r,i),ok(n,e,r))}}function ik(t){var e=t.alternate;return t===kt||e!==null&&e===kt}function sk(t,e){Ql=bh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ok(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_v(t,n)}}var xh={readContext:mr,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},CD={readContext:mr,useCallback:function(t,e){return Vr().memoizedState=[t,e===void 0?null:e],t},useContext:mr,useEffect:Pw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qf(4194308,4,XS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qf(4194308,4,t,e)},useInsertionEffect:function(t,e){return qf(4,2,t,e)},useMemo:function(t,e){var n=Vr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=RD.bind(null,kt,t),[r.memoizedState,t]},useRef:function(t){var e=Vr();return t={current:t},e.memoizedState=t},useState:Aw,useDebugValue:Bv,useDeferredValue:function(t){return Vr().memoizedState=t},useTransition:function(){var t=Aw(!1),e=t[0];return t=PD.bind(null,t[1]),Vr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=kt,i=Vr();if(Et){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),Zt===null)throw Error(ae(349));uo&30||qS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Pw(HS.bind(null,r,s,t),[t]),r.flags|=2048,xu(9,WS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Vr(),e=Zt.identifierPrefix;if(Et){var n=vi,r=yi;n=(r&~(1<<32-Ir(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ku++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=AD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},DD={readContext:mr,useCallback:ek,useContext:mr,useEffect:$v,useImperativeHandle:JS,useInsertionEffect:QS,useLayoutEffect:ZS,useMemo:tk,useReducer:bm,useRef:KS,useState:function(){return bm(bu)},useDebugValue:Bv,useDeferredValue:function(t){var e=gr();return nk(e,qt.memoizedState,t)},useTransition:function(){var t=bm(bu)[0],e=gr().memoizedState;return[t,e]},useMutableSource:BS,useSyncExternalStore:zS,useId:rk,unstable_isNewReconciler:!1},MD={readContext:mr,useCallback:ek,useContext:mr,useEffect:$v,useImperativeHandle:JS,useInsertionEffect:QS,useLayoutEffect:ZS,useMemo:tk,useReducer:xm,useRef:KS,useState:function(){return xm(bu)},useDebugValue:Bv,useDeferredValue:function(t){var e=gr();return qt===null?e.memoizedState=t:nk(e,qt.memoizedState,t)},useTransition:function(){var t=xm(bu)[0],e=gr().memoizedState;return[t,e]},useMutableSource:BS,useSyncExternalStore:zS,useId:rk,unstable_isNewReconciler:!1};function Aa(t,e){try{var n="",r=e;do n+=u4(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Im(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var LD=typeof WeakMap=="function"?WeakMap:Map;function ak(t,e,n){n=bi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Oh||(Oh=!0,iy=r),Gg(t,e)},n}function lk(t,e,n){n=bi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Gg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Gg(t,e),typeof r!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Rw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new LD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=QD.bind(null,t,e,n),e.then(t,t))}function Nw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bi(-1,1),e.tag=2,fs(n,e,1))),n.lanes|=1),t)}var jD=Li.ReactCurrentOwner,Un=!1;function An(t,e,n,r){e.child=t===null?US(e,null,n,r):Ia(e,t.child,n,r)}function Dw(t,e,n,r,i){n=n.render;var s=e.ref;return pa(e,i),r=Fv(t,e,n,r,s,i),n=Uv(),t!==null&&!Un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pi(t,e,i)):(Et&&n&&Iv(e),e.flags|=1,An(t,e,r,i),e.child)}function Mw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Qv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,uk(t,e,s,r,i)):(t=Gf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:vu,n(o,r)&&t.ref===e.ref)return Pi(t,e,i)}return e.flags|=1,t=ps(s,r),t.ref=e.ref,t.return=e,e.child=t}function uk(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(vu(s,r)&&t.ref===e.ref)if(Un=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Un=!0);else return e.lanes=t.lanes,Pi(t,e,i)}return Kg(t,e,n,r,i)}function ck(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(oa,Gn),Gn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ot(oa,Gn),Gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ot(oa,Gn),Gn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ot(oa,Gn),Gn|=r;return An(t,e,i,n),e.child}function fk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Kg(t,e,n,r,i){var s=zn(n)?ao:En.current;return s=ba(e,s),pa(e,i),n=Fv(t,e,n,r,s,i),r=Uv(),t!==null&&!Un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pi(t,e,i)):(Et&&r&&Iv(e),e.flags|=1,An(t,e,n,i),e.child)}function Lw(t,e,n,r,i){if(zn(n)){var s=!0;vh(e)}else s=!1;if(pa(e,i),e.stateNode===null)Wf(t,e),VS(e,n,r),Yg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=mr(c):(c=zn(n)?ao:En.current,c=ba(e,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Iw(e,o,r,c),Yi=!1;var d=e.memoizedState;o.state=d,Sh(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Bn.current||Yi?(typeof f=="function"&&(Hg(e,n,f,r),l=e.memoizedState),(a=Yi||xw(e,n,a,r,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,LS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Sr(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=mr(l):(l=zn(n)?ao:En.current,l=ba(e,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Iw(e,o,r,l),Yi=!1,d=e.memoizedState,o.state=d,Sh(e,r,o,i);var w=e.memoizedState;a!==h||d!==w||Bn.current||Yi?(typeof p=="function"&&(Hg(e,n,p,r),w=e.memoizedState),(c=Yi||xw(e,n,c,r,d,w,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Qg(t,e,n,r,s,i)}function Qg(t,e,n,r,i,s){fk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Ew(e,n,!1),Pi(t,e,s);r=e.stateNode,jD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ia(e,t.child,null,s),e.child=Ia(e,null,a,s)):An(t,e,a,s),e.memoizedState=r.state,i&&Ew(e,n,!0),e.child}function hk(t){var e=t.stateNode;e.pendingContext?ww(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ww(t,e.context,!1),Mv(t,e.containerInfo)}function jw(t,e,n,r,i){return xa(),Av(i),e.flags|=256,An(t,e,n,r),e.child}var Zg={dehydrated:null,treeContext:null,retryLane:0};function Xg(t){return{baseLanes:t,cachePool:null,transitions:null}}function dk(t,e,n){var r=e.pendingProps,i=St.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ot(St,i&1),t===null)return qg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=bd(o,r,0,null),t=no(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Xg(n),e.memoizedState=Zg,t):zv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return VD(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ps(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ps(a,s):(s=no(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Xg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Zg,r}return s=t.child,t=s.sibling,r=ps(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zv(t,e){return e=bd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mf(t,e,n,r){return r!==null&&Av(r),Ia(e,t.child,null,n),t=zv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function VD(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Im(Error(ae(422))),mf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=bd({mode:"visible",children:r.children},i,0,null),s=no(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ia(e,t.child,null,o),e.child.memoizedState=Xg(o),e.memoizedState=Zg,s);if(!(e.mode&1))return mf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ae(419)),r=Im(s,r,void 0),mf(t,e,o,r)}if(a=(o&t.childLanes)!==0,Un||a){if(r=Zt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ai(t,i),Or(r,t,i,-1))}return Kv(),r=Im(Error(ae(421))),mf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ZD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Qn=cs(i.nextSibling),Jn=e,Et=!0,br=null,t!==null&&(or[ar++]=yi,or[ar++]=vi,or[ar++]=lo,yi=t.id,vi=t.overflow,lo=e),e=zv(e,r.children),e.flags|=4096,e)}function Vw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wg(t.return,e,n)}function Om(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function pk(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(An(t,e,r.children,n),r=St.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vw(t,n,e);else if(t.tag===19)Vw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ot(St,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&kh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Om(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&kh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Om(e,!0,n,null,s);break;case"together":Om(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),co|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=ps(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ps(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function FD(t,e,n){switch(e.tag){case 3:hk(e),xa();break;case 5:$S(e);break;case 1:zn(e.type)&&vh(e);break;case 4:Mv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ot(Eh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ot(St,St.current&1),e.flags|=128,null):n&e.child.childLanes?dk(t,e,n):(ot(St,St.current&1),t=Pi(t,e,n),t!==null?t.sibling:null);ot(St,St.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return pk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ot(St,St.current),r)break;return null;case 22:case 23:return e.lanes=0,ck(t,e,n)}return Pi(t,e,n)}var mk,Jg,gk,yk;mk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jg=function(){};gk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ks(Hr.current);var s=null;switch(n){case"input":i=Eg(t,i),r=Eg(t,r),s=[];break;case"select":i=xt({},i,{value:void 0}),r=xt({},r,{value:void 0}),s=[];break;case"textarea":i=kg(t,i),r=kg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=gh)}xg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(fu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(fu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ct("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};yk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Sl(t,e){if(!Et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UD(t,e,n){var r=e.pendingProps;switch(Ov(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(e),null;case 1:return zn(e.type)&&yh(),hn(e),null;case 3:return r=e.stateNode,Oa(),pt(Bn),pt(En),jv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(df(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,br!==null&&(ay(br),br=null))),Jg(t,e),hn(e),null;case 5:Lv(e);var i=Ks(Su.current);if(n=e.type,t!==null&&e.stateNode!=null)gk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return hn(e),null}if(t=Ks(Hr.current),df(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Fr]=e,r[Eu]=s,t=(e.mode&1)!==0,n){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(i=0;i<Ll.length;i++)ct(Ll[i],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":Y1(r,s),ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ct("invalid",r);break;case"textarea":K1(r,s),ct("invalid",r)}xg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&hf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&hf(r.textContent,a,t),i=["children",""+a]):fu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ct("scroll",r)}switch(n){case"input":rf(r),G1(r,s,!0);break;case"textarea":rf(r),Q1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=gh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=q2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Fr]=e,t[Eu]=r,mk(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ig(n,r),n){case"dialog":ct("cancel",t),ct("close",t),i=r;break;case"iframe":case"object":case"embed":ct("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ll.length;i++)ct(Ll[i],t);i=r;break;case"source":ct("error",t),i=r;break;case"img":case"image":case"link":ct("error",t),ct("load",t),i=r;break;case"details":ct("toggle",t),i=r;break;case"input":Y1(t,r),i=Eg(t,r),ct("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xt({},r,{value:void 0}),ct("invalid",t);break;case"textarea":K1(t,r),i=kg(t,r),ct("invalid",t);break;default:i=r}xg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Y2(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&W2(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&hu(t,l):typeof l=="number"&&hu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ct("scroll",t):l!=null&&dv(t,s,l,o))}switch(n){case"input":rf(t),G1(t,r,!1);break;case"textarea":rf(t),Q1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ts(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ca(t,!!r.multiple,s,!1):r.defaultValue!=null&&ca(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=gh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hn(e),null;case 6:if(t&&e.stateNode!=null)yk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(n=Ks(Su.current),Ks(Hr.current),df(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fr]=e,(s=r.nodeValue!==n)&&(t=Jn,t!==null))switch(t.tag){case 3:hf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fr]=e,e.stateNode=r}return hn(e),null;case 13:if(pt(St),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Et&&Qn!==null&&e.mode&1&&!(e.flags&128))DS(),xa(),e.flags|=98560,s=!1;else if(s=df(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ae(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ae(317));s[Fr]=e}else xa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hn(e),s=!1}else br!==null&&(ay(br),br=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||St.current&1?Wt===0&&(Wt=3):Kv())),e.updateQueue!==null&&(e.flags|=4),hn(e),null);case 4:return Oa(),Jg(t,e),t===null&&_u(e.stateNode.containerInfo),hn(e),null;case 10:return Nv(e.type._context),hn(e),null;case 17:return zn(e.type)&&yh(),hn(e),null;case 19:if(pt(St),s=e.memoizedState,s===null)return hn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Sl(s,!1);else{if(Wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=kh(t),o!==null){for(e.flags|=128,Sl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ot(St,St.current&1|2),e.child}t=t.sibling}s.tail!==null&&jt()>Pa&&(e.flags|=128,r=!0,Sl(s,!1),e.lanes=4194304)}else{if(!r)if(t=kh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Sl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Et)return hn(e),null}else 2*jt()-s.renderingStartTime>Pa&&n!==1073741824&&(e.flags|=128,r=!0,Sl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=jt(),e.sibling=null,n=St.current,ot(St,r?n&1|2:n&1),e):(hn(e),null);case 22:case 23:return Gv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gn&1073741824&&(hn(e),e.subtreeFlags&6&&(e.flags|=8192)):hn(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function $D(t,e){switch(Ov(e),e.tag){case 1:return zn(e.type)&&yh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oa(),pt(Bn),pt(En),jv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lv(e),null;case 13:if(pt(St),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));xa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pt(St),null;case 4:return Oa(),null;case 10:return Nv(e.type._context),null;case 22:case 23:return Gv(),null;case 24:return null;default:return null}}var gf=!1,mn=!1,BD=typeof WeakSet=="function"?WeakSet:Set,ye=null;function sa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){At(t,e,r)}else n.current=null}function ey(t,e,n){try{n()}catch(r){At(t,e,r)}}var Fw=!1;function zD(t,e){if(jg=dh,t=ES(),xv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,f=0,h=t,d=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++c===i&&(a=o),d===s&&++f===r&&(l=o),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vg={focusedElem:t,selectionRange:n},dh=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var E=w.memoizedProps,_=w.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?E:Sr(e.type,E),_);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(v){At(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return w=Fw,Fw=!1,w}function Zl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ey(e,n,s)}i=i.next}while(i!==r)}}function Sd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ty(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vk(t){var e=t.alternate;e!==null&&(t.alternate=null,vk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fr],delete e[Eu],delete e[$g],delete e[bD],delete e[xD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _k(t){return t.tag===5||t.tag===3||t.tag===4}function Uw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_k(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ny(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gh));else if(r!==4&&(t=t.child,t!==null))for(ny(t,e,n),t=t.sibling;t!==null;)ny(t,e,n),t=t.sibling}function ry(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ry(t,e,n),t=t.sibling;t!==null;)ry(t,e,n),t=t.sibling}var en=null,kr=!1;function qi(t,e,n){for(n=n.child;n!==null;)wk(t,e,n),n=n.sibling}function wk(t,e,n){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(md,n)}catch{}switch(n.tag){case 5:mn||sa(n,e);case 6:var r=en,i=kr;en=null,qi(t,e,n),en=r,kr=i,en!==null&&(kr?(t=en,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):en.removeChild(n.stateNode));break;case 18:en!==null&&(kr?(t=en,n=n.stateNode,t.nodeType===8?Em(t.parentNode,n):t.nodeType===1&&Em(t,n),gu(t)):Em(en,n.stateNode));break;case 4:r=en,i=kr,en=n.stateNode.containerInfo,kr=!0,qi(t,e,n),en=r,kr=i;break;case 0:case 11:case 14:case 15:if(!mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ey(n,e,o),i=i.next}while(i!==r)}qi(t,e,n);break;case 1:if(!mn&&(sa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){At(n,e,a)}qi(t,e,n);break;case 21:qi(t,e,n);break;case 22:n.mode&1?(mn=(r=mn)||n.memoizedState!==null,qi(t,e,n),mn=r):qi(t,e,n);break;default:qi(t,e,n)}}function $w(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new BD),e.forEach(function(r){var i=XD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:en=a.stateNode,kr=!1;break e;case 3:en=a.stateNode.containerInfo,kr=!0;break e;case 4:en=a.stateNode.containerInfo,kr=!0;break e}a=a.return}if(en===null)throw Error(ae(160));wk(s,o,i),en=null,kr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){At(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ek(e,t),e=e.sibling}function Ek(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tr(e,t),Lr(t),r&4){try{Zl(3,t,t.return),Sd(3,t)}catch(E){At(t,t.return,E)}try{Zl(5,t,t.return)}catch(E){At(t,t.return,E)}}break;case 1:Tr(e,t),Lr(t),r&512&&n!==null&&sa(n,n.return);break;case 5:if(Tr(e,t),Lr(t),r&512&&n!==null&&sa(n,n.return),t.flags&32){var i=t.stateNode;try{hu(i,"")}catch(E){At(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&B2(i,s),Ig(a,o);var c=Ig(a,s);for(o=0;o<l.length;o+=2){var f=l[o],h=l[o+1];f==="style"?Y2(i,h):f==="dangerouslySetInnerHTML"?W2(i,h):f==="children"?hu(i,h):dv(i,f,h,c)}switch(a){case"input":Tg(i,s);break;case"textarea":z2(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ca(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?ca(i,!!s.multiple,s.defaultValue,!0):ca(i,!!s.multiple,s.multiple?[]:"",!1))}i[Eu]=s}catch(E){At(t,t.return,E)}}break;case 6:if(Tr(e,t),Lr(t),r&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){At(t,t.return,E)}}break;case 3:if(Tr(e,t),Lr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gu(e.containerInfo)}catch(E){At(t,t.return,E)}break;case 4:Tr(e,t),Lr(t);break;case 13:Tr(e,t),Lr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Hv=jt())),r&4&&$w(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(mn=(c=mn)||f,Tr(e,t),mn=c):Tr(e,t),Lr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(ye=t,f=t.child;f!==null;){for(h=ye=f;ye!==null;){switch(d=ye,p=d.child,d.tag){case 0:case 11:case 14:case 15:Zl(4,d,d.return);break;case 1:sa(d,d.return);var w=d.stateNode;if(typeof w.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(E){At(r,n,E)}}break;case 5:sa(d,d.return);break;case 22:if(d.memoizedState!==null){zw(h);continue}}p!==null?(p.return=d,ye=p):zw(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=H2("display",o))}catch(E){At(t,t.return,E)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(E){At(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tr(e,t),Lr(t),r&4&&$w(t);break;case 21:break;default:Tr(e,t),Lr(t)}}function Lr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_k(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hu(i,""),r.flags&=-33);var s=Uw(t);ry(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Uw(t);ny(t,a,o);break;default:throw Error(ae(161))}}catch(l){At(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qD(t,e,n){ye=t,Tk(t)}function Tk(t,e,n){for(var r=(t.mode&1)!==0;ye!==null;){var i=ye,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||gf;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||mn;a=gf;var c=mn;if(gf=o,(mn=l)&&!c)for(ye=i;ye!==null;)o=ye,l=o.child,o.tag===22&&o.memoizedState!==null?qw(i):l!==null?(l.return=o,ye=l):qw(i);for(;s!==null;)ye=s,Tk(s),s=s.sibling;ye=i,gf=a,mn=c}Bw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ye=s):Bw(t)}}function Bw(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mn||Sd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Sr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&bw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&gu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}mn||e.flags&512&&ty(e)}catch(d){At(e,e.return,d)}}if(e===t){ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,ye=n;break}ye=e.return}}function zw(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ye=n;break}ye=e.return}}function qw(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sd(4,e)}catch(l){At(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){At(e,i,l)}}var s=e.return;try{ty(e)}catch(l){At(e,s,l)}break;case 5:var o=e.return;try{ty(e)}catch(l){At(e,o,l)}}}catch(l){At(e,e.return,l)}if(e===t){ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ye=a;break}ye=e.return}}var WD=Math.ceil,Ih=Li.ReactCurrentDispatcher,qv=Li.ReactCurrentOwner,hr=Li.ReactCurrentBatchConfig,Ye=0,Zt=null,$t=null,sn=0,Gn=0,oa=Ps(0),Wt=0,Iu=null,co=0,kd=0,Wv=0,Xl=null,Vn=null,Hv=0,Pa=1/0,di=null,Oh=!1,iy=null,hs=null,yf=!1,ts=null,Ah=0,Jl=0,sy=null,Hf=-1,Yf=0;function Nn(){return Ye&6?jt():Hf!==-1?Hf:Hf=jt()}function ds(t){return t.mode&1?Ye&2&&sn!==0?sn&-sn:OD.transition!==null?(Yf===0&&(Yf=sS()),Yf):(t=Je,t!==0||(t=window.event,t=t===void 0?16:hS(t.type)),t):1}function Or(t,e,n,r){if(50<Jl)throw Jl=0,sy=null,Error(ae(185));sc(t,n,r),(!(Ye&2)||t!==Zt)&&(t===Zt&&(!(Ye&2)&&(kd|=n),Wt===4&&Ki(t,sn)),qn(t,r),n===1&&Ye===0&&!(e.mode&1)&&(Pa=jt()+500,wd&&Rs()))}function qn(t,e){var n=t.callbackNode;O4(t,e);var r=hh(t,t===Zt?sn:0);if(r===0)n!==null&&J1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&J1(n),e===1)t.tag===0?ID(Ww.bind(null,t)):RS(Ww.bind(null,t)),SD(function(){!(Ye&6)&&Rs()}),n=null;else{switch(oS(r)){case 1:n=vv;break;case 4:n=rS;break;case 16:n=fh;break;case 536870912:n=iS;break;default:n=fh}n=Pk(n,Sk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Sk(t,e){if(Hf=-1,Yf=0,Ye&6)throw Error(ae(327));var n=t.callbackNode;if(ma()&&t.callbackNode!==n)return null;var r=hh(t,t===Zt?sn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ph(t,r);else{e=r;var i=Ye;Ye|=2;var s=bk();(Zt!==t||sn!==e)&&(di=null,Pa=jt()+500,to(t,e));do try{GD();break}catch(a){kk(t,a)}while(1);Rv(),Ih.current=s,Ye=i,$t!==null?e=0:(Zt=null,sn=0,e=Wt)}if(e!==0){if(e===2&&(i=Ng(t),i!==0&&(r=i,e=oy(t,i))),e===1)throw n=Iu,to(t,0),Ki(t,r),qn(t,jt()),n;if(e===6)Ki(t,r);else{if(i=t.current.alternate,!(r&30)&&!HD(i)&&(e=Ph(t,r),e===2&&(s=Ng(t),s!==0&&(r=s,e=oy(t,s))),e===1))throw n=Iu,to(t,0),Ki(t,r),qn(t,jt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ae(345));case 2:zs(t,Vn,di);break;case 3:if(Ki(t,r),(r&130023424)===r&&(e=Hv+500-jt(),10<e)){if(hh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ug(zs.bind(null,t,Vn,di),e);break}zs(t,Vn,di);break;case 4:if(Ki(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ir(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WD(r/1960))-r,10<r){t.timeoutHandle=Ug(zs.bind(null,t,Vn,di),r);break}zs(t,Vn,di);break;case 5:zs(t,Vn,di);break;default:throw Error(ae(329))}}}return qn(t,jt()),t.callbackNode===n?Sk.bind(null,t):null}function oy(t,e){var n=Xl;return t.current.memoizedState.isDehydrated&&(to(t,e).flags|=256),t=Ph(t,e),t!==2&&(e=Vn,Vn=n,e!==null&&ay(e)),t}function ay(t){Vn===null?Vn=t:Vn.push.apply(Vn,t)}function HD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ar(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ki(t,e){for(e&=~Wv,e&=~kd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ir(e),r=1<<n;t[n]=-1,e&=~r}}function Ww(t){if(Ye&6)throw Error(ae(327));ma();var e=hh(t,0);if(!(e&1))return qn(t,jt()),null;var n=Ph(t,e);if(t.tag!==0&&n===2){var r=Ng(t);r!==0&&(e=r,n=oy(t,r))}if(n===1)throw n=Iu,to(t,0),Ki(t,e),qn(t,jt()),n;if(n===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zs(t,Vn,di),qn(t,jt()),null}function Yv(t,e){var n=Ye;Ye|=1;try{return t(e)}finally{Ye=n,Ye===0&&(Pa=jt()+500,wd&&Rs())}}function fo(t){ts!==null&&ts.tag===0&&!(Ye&6)&&ma();var e=Ye;Ye|=1;var n=hr.transition,r=Je;try{if(hr.transition=null,Je=1,t)return t()}finally{Je=r,hr.transition=n,Ye=e,!(Ye&6)&&Rs()}}function Gv(){Gn=oa.current,pt(oa)}function to(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,TD(n)),$t!==null)for(n=$t.return;n!==null;){var r=n;switch(Ov(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yh();break;case 3:Oa(),pt(Bn),pt(En),jv();break;case 5:Lv(r);break;case 4:Oa();break;case 13:pt(St);break;case 19:pt(St);break;case 10:Nv(r.type._context);break;case 22:case 23:Gv()}n=n.return}if(Zt=t,$t=t=ps(t.current,null),sn=Gn=e,Wt=0,Iu=null,Wv=kd=co=0,Vn=Xl=null,Gs!==null){for(e=0;e<Gs.length;e++)if(n=Gs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Gs=null}return t}function kk(t,e){do{var n=$t;try{if(Rv(),zf.current=xh,bh){for(var r=kt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bh=!1}if(uo=0,Qt=qt=kt=null,Ql=!1,ku=0,qv.current=null,n===null||n.return===null){Wt=1,Iu=e,$t=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=sn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Nw(o);if(p!==null){p.flags&=-257,Cw(p,o,a,s,e),p.mode&1&&Rw(s,c,e),e=p,l=c;var w=e.updateQueue;if(w===null){var E=new Set;E.add(l),e.updateQueue=E}else w.add(l);break e}else{if(!(e&1)){Rw(s,c,e),Kv();break e}l=Error(ae(426))}}else if(Et&&a.mode&1){var _=Nw(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Cw(_,o,a,s,e),Av(Aa(l,a));break e}}s=l=Aa(l,a),Wt!==4&&(Wt=2),Xl===null?Xl=[s]:Xl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=ak(s,l,e);kw(s,g);break e;case 1:a=l;var m=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(hs===null||!hs.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var v=lk(s,a,e);kw(s,v);break e}}s=s.return}while(s!==null)}Ik(n)}catch(S){e=S,$t===n&&n!==null&&($t=n=n.return);continue}break}while(1)}function bk(){var t=Ih.current;return Ih.current=xh,t===null?xh:t}function Kv(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),Zt===null||!(co&268435455)&&!(kd&268435455)||Ki(Zt,sn)}function Ph(t,e){var n=Ye;Ye|=2;var r=bk();(Zt!==t||sn!==e)&&(di=null,to(t,e));do try{YD();break}catch(i){kk(t,i)}while(1);if(Rv(),Ye=n,Ih.current=r,$t!==null)throw Error(ae(261));return Zt=null,sn=0,Wt}function YD(){for(;$t!==null;)xk($t)}function GD(){for(;$t!==null&&!_4();)xk($t)}function xk(t){var e=Ak(t.alternate,t,Gn);t.memoizedProps=t.pendingProps,e===null?Ik(t):$t=e,qv.current=null}function Ik(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$D(n,e),n!==null){n.flags&=32767,$t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Wt=6,$t=null;return}}else if(n=UD(n,e,Gn),n!==null){$t=n;return}if(e=e.sibling,e!==null){$t=e;return}$t=e=t}while(e!==null);Wt===0&&(Wt=5)}function zs(t,e,n){var r=Je,i=hr.transition;try{hr.transition=null,Je=1,KD(t,e,n,r)}finally{hr.transition=i,Je=r}return null}function KD(t,e,n,r){do ma();while(ts!==null);if(Ye&6)throw Error(ae(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(A4(t,s),t===Zt&&($t=Zt=null,sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yf||(yf=!0,Pk(fh,function(){return ma(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=hr.transition,hr.transition=null;var o=Je;Je=1;var a=Ye;Ye|=4,qv.current=null,zD(t,n),Ek(n,t),mD(Vg),dh=!!jg,Vg=jg=null,t.current=n,qD(n),w4(),Ye=a,Je=o,hr.transition=s}else t.current=n;if(yf&&(yf=!1,ts=t,Ah=i),s=t.pendingLanes,s===0&&(hs=null),S4(n.stateNode),qn(t,jt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Oh)throw Oh=!1,t=iy,iy=null,t;return Ah&1&&t.tag!==0&&ma(),s=t.pendingLanes,s&1?t===sy?Jl++:(Jl=0,sy=t):Jl=0,Rs(),null}function ma(){if(ts!==null){var t=oS(Ah),e=hr.transition,n=Je;try{if(hr.transition=null,Je=16>t?16:t,ts===null)var r=!1;else{if(t=ts,ts=null,Ah=0,Ye&6)throw Error(ae(331));var i=Ye;for(Ye|=4,ye=t.current;ye!==null;){var s=ye,o=s.child;if(ye.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ye=c;ye!==null;){var f=ye;switch(f.tag){case 0:case 11:case 15:Zl(8,f,s)}var h=f.child;if(h!==null)h.return=f,ye=h;else for(;ye!==null;){f=ye;var d=f.sibling,p=f.return;if(vk(f),f===c){ye=null;break}if(d!==null){d.return=p,ye=d;break}ye=p}}}var w=s.alternate;if(w!==null){var E=w.child;if(E!==null){w.child=null;do{var _=E.sibling;E.sibling=null,E=_}while(E!==null)}}ye=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ye=o;else e:for(;ye!==null;){if(s=ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ye=g;break e}ye=s.return}}var m=t.current;for(ye=m;ye!==null;){o=ye;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ye=T;else e:for(o=m;ye!==null;){if(a=ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sd(9,a)}}catch(S){At(a,a.return,S)}if(a===o){ye=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,ye=v;break e}ye=a.return}}if(Ye=i,Rs(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(md,t)}catch{}r=!0}return r}finally{Je=n,hr.transition=e}}return!1}function Hw(t,e,n){e=Aa(n,e),e=ak(t,e,1),t=fs(t,e,1),e=Nn(),t!==null&&(sc(t,1,e),qn(t,e))}function At(t,e,n){if(t.tag===3)Hw(t,t,n);else for(;e!==null;){if(e.tag===3){Hw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hs===null||!hs.has(r))){t=Aa(n,t),t=lk(e,t,1),e=fs(e,t,1),t=Nn(),e!==null&&(sc(e,1,t),qn(e,t));break}}e=e.return}}function QD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nn(),t.pingedLanes|=t.suspendedLanes&n,Zt===t&&(sn&n)===n&&(Wt===4||Wt===3&&(sn&130023424)===sn&&500>jt()-Hv?to(t,0):Wv|=n),qn(t,e)}function Ok(t,e){e===0&&(t.mode&1?(e=af,af<<=1,!(af&130023424)&&(af=4194304)):e=1);var n=Nn();t=Ai(t,e),t!==null&&(sc(t,e,n),qn(t,n))}function ZD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ok(t,n)}function XD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(e),Ok(t,n)}var Ak;Ak=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bn.current)Un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Un=!1,FD(t,e,n);Un=!!(t.flags&131072)}else Un=!1,Et&&e.flags&1048576&&NS(e,wh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wf(t,e),t=e.pendingProps;var i=ba(e,En.current);pa(e,n),i=Fv(null,e,r,t,i,n);var s=Uv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zn(r)?(s=!0,vh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Dv(e),i.updater=Ed,e.stateNode=i,i._reactInternals=e,Yg(e,r,t,n),e=Qg(null,e,r,!0,s,n)):(e.tag=0,Et&&s&&Iv(e),An(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=eM(r),t=Sr(r,t),i){case 0:e=Kg(null,e,r,t,n);break e;case 1:e=Lw(null,e,r,t,n);break e;case 11:e=Dw(null,e,r,t,n);break e;case 14:e=Mw(null,e,r,Sr(r.type,t),n);break e}throw Error(ae(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),Kg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),Lw(t,e,r,i,n);case 3:e:{if(hk(e),t===null)throw Error(ae(387));r=e.pendingProps,s=e.memoizedState,i=s.element,LS(t,e),Sh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Aa(Error(ae(423)),e),e=jw(t,e,r,n,i);break e}else if(r!==i){i=Aa(Error(ae(424)),e),e=jw(t,e,r,n,i);break e}else for(Qn=cs(e.stateNode.containerInfo.firstChild),Jn=e,Et=!0,br=null,n=US(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xa(),r===i){e=Pi(t,e,n);break e}An(t,e,r,n)}e=e.child}return e;case 5:return $S(e),t===null&&qg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Fg(r,i)?o=null:s!==null&&Fg(r,s)&&(e.flags|=32),fk(t,e),An(t,e,o,n),e.child;case 6:return t===null&&qg(e),null;case 13:return dk(t,e,n);case 4:return Mv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ia(e,null,r,n):An(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),Dw(t,e,r,i,n);case 7:return An(t,e,e.pendingProps,n),e.child;case 8:return An(t,e,e.pendingProps.children,n),e.child;case 12:return An(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ot(Eh,r._currentValue),r._currentValue=o,s!==null)if(Ar(s.value,o)){if(s.children===i.children&&!Bn.current){e=Pi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=bi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Wg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ae(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}An(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,pa(e,n),i=mr(i),r=r(i),e.flags|=1,An(t,e,r,n),e.child;case 14:return r=e.type,i=Sr(r,e.pendingProps),i=Sr(r.type,i),Mw(t,e,r,i,n);case 15:return uk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),Wf(t,e),e.tag=1,zn(r)?(t=!0,vh(e)):t=!1,pa(e,n),VS(e,r,i),Yg(e,r,i,n),Qg(null,e,r,!0,t,n);case 19:return pk(t,e,n);case 22:return ck(t,e,n)}throw Error(ae(156,e.tag))};function Pk(t,e){return nS(t,e)}function JD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(t,e,n,r){return new JD(t,e,n,r)}function Qv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eM(t){if(typeof t=="function")return Qv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mv)return 11;if(t===gv)return 14}return 2}function ps(t,e){var n=t.alternate;return n===null?(n=fr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Qv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qo:return no(n.children,i,s,e);case pv:o=8,i|=8;break;case yg:return t=fr(12,n,e,i|2),t.elementType=yg,t.lanes=s,t;case vg:return t=fr(13,n,e,i),t.elementType=vg,t.lanes=s,t;case _g:return t=fr(19,n,e,i),t.elementType=_g,t.lanes=s,t;case F2:return bd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case j2:o=10;break e;case V2:o=9;break e;case mv:o=11;break e;case gv:o=14;break e;case Hi:o=16,r=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=fr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function no(t,e,n,r){return t=fr(7,t,r,e),t.lanes=n,t}function bd(t,e,n,r){return t=fr(22,t,r,e),t.elementType=F2,t.lanes=n,t.stateNode={isHidden:!1},t}function Am(t,e,n){return t=fr(6,t,null,e),t.lanes=n,t}function Pm(t,e,n){return e=fr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cm(0),this.expirationTimes=cm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zv(t,e,n,r,i,s,o,a,l){return t=new tM(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dv(s),t}function nM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ko,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Rk(t){if(!t)return Ss;t=t._reactInternals;e:{if(ko(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var n=t.type;if(zn(n))return PS(t,n,e)}return e}function Nk(t,e,n,r,i,s,o,a,l){return t=Zv(n,r,!0,t,i,s,o,a,l),t.context=Rk(null),n=t.current,r=Nn(),i=ds(n),s=bi(r,i),s.callback=e??null,fs(n,s,i),t.current.lanes=i,sc(t,i,r),qn(t,r),t}function xd(t,e,n,r){var i=e.current,s=Nn(),o=ds(i);return n=Rk(n),e.context===null?e.context=n:e.pendingContext=n,e=bi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=fs(i,e,o),t!==null&&(Or(t,i,o,s),Bf(t,i,o)),o}function Rh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xv(t,e){Yw(t,e),(t=t.alternate)&&Yw(t,e)}function rM(){return null}var Ck=typeof reportError=="function"?reportError:function(t){console.error(t)};function Jv(t){this._internalRoot=t}Id.prototype.render=Jv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));xd(t,e,null,null)};Id.prototype.unmount=Jv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fo(function(){xd(null,t,null,null)}),e[Oi]=null}};function Id(t){this._internalRoot=t}Id.prototype.unstable_scheduleHydration=function(t){if(t){var e=uS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gi.length&&e!==0&&e<Gi[n].priority;n++);Gi.splice(n,0,t),n===0&&fS(t)}};function e0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Od(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Gw(){}function iM(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Rh(o);s.call(c)}}var o=Nk(e,r,t,0,null,!1,!1,"",Gw);return t._reactRootContainer=o,t[Oi]=o.current,_u(t.nodeType===8?t.parentNode:t),fo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Rh(l);a.call(c)}}var l=Zv(t,0,!1,null,null,!1,!1,"",Gw);return t._reactRootContainer=l,t[Oi]=l.current,_u(t.nodeType===8?t.parentNode:t),fo(function(){xd(e,l,n,r)}),l}function Ad(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Rh(o);a.call(l)}}xd(e,o,t,i)}else o=iM(n,e,t,i,r);return Rh(o)}aS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ml(e.pendingLanes);n!==0&&(_v(e,n|1),qn(e,jt()),!(Ye&6)&&(Pa=jt()+500,Rs()))}break;case 13:fo(function(){var r=Ai(t,1);if(r!==null){var i=Nn();Or(r,t,1,i)}}),Xv(t,1)}};wv=function(t){if(t.tag===13){var e=Ai(t,134217728);if(e!==null){var n=Nn();Or(e,t,134217728,n)}Xv(t,134217728)}};lS=function(t){if(t.tag===13){var e=ds(t),n=Ai(t,e);if(n!==null){var r=Nn();Or(n,t,e,r)}Xv(t,e)}};uS=function(){return Je};cS=function(t,e){var n=Je;try{return Je=t,e()}finally{Je=n}};Ag=function(t,e,n){switch(e){case"input":if(Tg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_d(r);if(!i)throw Error(ae(90));$2(r),Tg(r,i)}}}break;case"textarea":z2(t,n);break;case"select":e=n.value,e!=null&&ca(t,!!n.multiple,e,!1)}};Q2=Yv;Z2=fo;var sM={usingClientEntryPoint:!1,Events:[ac,ea,_d,G2,K2,Yv]},kl={findFiberByHostInstance:Ys,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},oM={bundleType:kl.bundleType,version:kl.version,rendererPackageName:kl.rendererPackageName,rendererConfig:kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Li.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=eS(t),t===null?null:t.stateNode},findFiberByHostInstance:kl.findFiberByHostInstance||rM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vf.isDisabled&&vf.supportsFiber)try{md=vf.inject(oM),Wr=vf}catch{}}nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sM;nr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e0(e))throw Error(ae(200));return nM(t,e,null,n)};nr.createRoot=function(t,e){if(!e0(t))throw Error(ae(299));var n=!1,r="",i=Ck;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Zv(t,1,!1,null,null,n,!1,r,i),t[Oi]=e.current,_u(t.nodeType===8?t.parentNode:t),new Jv(e)};nr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=eS(e),t=t===null?null:t.stateNode,t};nr.flushSync=function(t){return fo(t)};nr.hydrate=function(t,e,n){if(!Od(e))throw Error(ae(200));return Ad(null,t,e,!0,n)};nr.hydrateRoot=function(t,e,n){if(!e0(t))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Ck;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Nk(e,null,t,1,n??null,i,!1,s,o),t[Oi]=e.current,_u(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Id(e)};nr.render=function(t,e,n){if(!Od(e))throw Error(ae(200));return Ad(null,t,e,!1,n)};nr.unmountComponentAtNode=function(t){if(!Od(t))throw Error(ae(40));return t._reactRootContainer?(fo(function(){Ad(null,null,t,!1,function(){t._reactRootContainer=null,t[Oi]=null})}),!0):!1};nr.unstable_batchedUpdates=Yv;nr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Od(n))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return Ad(t,e,n,!1,r)};nr.version="18.2.0-next-9e3b772b8-20220608";function Dk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dk)}catch(t){console.error(t)}}Dk(),N2.exports=nr;var Mk=N2.exports,Kw=Mk;mg.createRoot=Kw.createRoot,mg.hydrateRoot=Kw.hydrateRoot;/**
 * @remix-run/router v1.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ou.apply(this,arguments)}var ns;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ns||(ns={}));const Qw="popstate";function aM(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ly("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Nh(i)}return uM(e,n,null,t)}function Vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lM(){return Math.random().toString(36).substr(2,8)}function Zw(t,e){return{usr:t.state,key:t.key,idx:e}}function ly(t,e,n,r){return n===void 0&&(n=null),Ou({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wa(e):e,{state:n,key:e&&e.key||r||lM()})}function Nh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function uM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ns.Pop,l=null,c=f();c==null&&(c=0,o.replaceState(Ou({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function h(){a=ns.Pop;let _=f(),g=_==null?null:_-c;c=_,l&&l({action:a,location:E.location,delta:g})}function d(_,g){a=ns.Push;let m=ly(E.location,_,g);n&&n(m,_),c=f()+1;let T=Zw(m,c),v=E.createHref(m);try{o.pushState(T,"",v)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(v)}s&&l&&l({action:a,location:E.location,delta:1})}function p(_,g){a=ns.Replace;let m=ly(E.location,_,g);n&&n(m,_),c=f();let T=Zw(m,c),v=E.createHref(m);o.replaceState(T,"",v),s&&l&&l({action:a,location:E.location,delta:0})}function w(_){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof _=="string"?_:Nh(_);return m=m.replace(/ $/,"%20"),Vt(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let E={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Qw,h),l=_,()=>{i.removeEventListener(Qw,h),l=null}},createHref(_){return e(i,_)},createURL:w,encodeLocation(_){let g=w(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:p,go(_){return o.go(_)}};return E}var Xw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Xw||(Xw={}));function cM(t,e,n){return n===void 0&&(n="/"),fM(t,e,n,!1)}function fM(t,e,n,r){let i=typeof e=="string"?Wa(e):e,s=t0(i.pathname||"/",n);if(s==null)return null;let o=jk(t);hM(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=SM(s);a=EM(o[l],c,r)}return a}function jk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Vt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ms([r,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(Vt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jk(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:_M(c,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Vk(s.path))i(s,o,l)}),e}function Vk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Vk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function hM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const dM=/^:[\w-]+$/,pM=3,mM=2,gM=1,yM=10,vM=-2,Jw=t=>t==="*";function _M(t,e){let n=t.split("/"),r=n.length;return n.some(Jw)&&(r+=vM),e&&(r+=mM),n.filter(i=>!Jw(i)).reduce((i,s)=>i+(dM.test(s)?pM:s===""?gM:yM),r)}function wM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function EM(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=eE({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),d=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=eE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:ms([s,h.pathname]),pathnameBase:IM(ms([s,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(s=ms([s,h.pathnameBase]))}return o}function eE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=TM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,f,h)=>{let{paramName:d,isOptional:p}=f;if(d==="*"){let E=a[h]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const w=a[h];return p&&!w?c[d]=void 0:c[d]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function TM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Lk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function SM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function t0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function kM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Wa(t):t;return{pathname:n?n.startsWith("/")?n:bM(n,e):e,search:OM(r),hash:AM(i)}}function bM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Rm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function n0(t,e){let n=xM(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function r0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Wa(t):(i=Ou({},t),Vt(!i.pathname||!i.pathname.includes("?"),Rm("?","pathname","search",i)),Vt(!i.pathname||!i.pathname.includes("#"),Rm("#","pathname","hash",i)),Vt(!i.search||!i.search.includes("#"),Rm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=kM(i,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}const ms=t=>t.join("/").replace(/\/\/+/g,"/"),IM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Fk=["post","put","patch","delete"];new Set(Fk);const RM=["get",...Fk];new Set(RM);/**
 * React Router v6.24.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Au(){return Au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Au.apply(this,arguments)}const i0=K.createContext(null),NM=K.createContext(null),Ns=K.createContext(null),Pd=K.createContext(null),ji=K.createContext({outlet:null,matches:[],isDataRoute:!1}),Uk=K.createContext(null);function CM(t,e){let{relative:n}=e===void 0?{}:e;Ha()||Vt(!1);let{basename:r,navigator:i}=K.useContext(Ns),{hash:s,pathname:o,search:a}=Bk(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ms([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ha(){return K.useContext(Pd)!=null}function bo(){return Ha()||Vt(!1),K.useContext(Pd).location}function $k(t){K.useContext(Ns).static||K.useLayoutEffect(t)}function kn(){let{isDataRoute:t}=K.useContext(ji);return t?HM():DM()}function DM(){Ha()||Vt(!1);let t=K.useContext(i0),{basename:e,future:n,navigator:r}=K.useContext(Ns),{matches:i}=K.useContext(ji),{pathname:s}=bo(),o=JSON.stringify(n0(i,n.v7_relativeSplatPath)),a=K.useRef(!1);return $k(()=>{a.current=!0}),K.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=r0(c,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ms([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,o,s,t])}function s0(){let{matches:t}=K.useContext(ji),e=t[t.length-1];return e?e.params:{}}function Bk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=K.useContext(Ns),{matches:i}=K.useContext(ji),{pathname:s}=bo(),o=JSON.stringify(n0(i,r.v7_relativeSplatPath));return K.useMemo(()=>r0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function MM(t,e){return LM(t,e)}function LM(t,e,n,r){Ha()||Vt(!1);let{navigator:i}=K.useContext(Ns),{matches:s}=K.useContext(ji),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=bo(),f;if(e){var h;let _=typeof e=="string"?Wa(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||Vt(!1),f=_}else f=c;let d=f.pathname||"/",p=d;if(l!=="/"){let _=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=cM(t,{pathname:p}),E=$M(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:ms([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:ms([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&E?K.createElement(Pd.Provider,{value:{location:Au({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ns.Pop}},E):E}function jM(){let t=WM(),e=PM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:i},n):null,s)}const VM=K.createElement(jM,null);class FM extends K.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?K.createElement(ji.Provider,{value:this.props.routeContext},K.createElement(Uk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UM(t){let{routeContext:e,match:n,children:r}=t,i=K.useContext(i0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),K.createElement(ji.Provider,{value:e},r)}function $M(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||Vt(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:d,errors:p}=n,w=h.route.loader&&d[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,h,d)=>{let p,w=!1,E=null,_=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,E=h.route.errorElement||VM,l&&(c<0&&d===0?(YM("route-fallback",!1),w=!0,_=null):c===d&&(w=!0,_=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,d+1)),m=()=>{let T;return p?T=E:w?T=_:h.route.Component?T=K.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=f,K.createElement(UM,{match:h,routeContext:{outlet:f,matches:g,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?K.createElement(FM,{location:n.location,revalidation:n.revalidation,component:E,error:p,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var zk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zk||{}),Ch=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ch||{});function BM(t){let e=K.useContext(i0);return e||Vt(!1),e}function zM(t){let e=K.useContext(NM);return e||Vt(!1),e}function qM(t){let e=K.useContext(ji);return e||Vt(!1),e}function qk(t){let e=qM(),n=e.matches[e.matches.length-1];return n.route.id||Vt(!1),n.route.id}function WM(){var t;let e=K.useContext(Uk),n=zM(Ch.UseRouteError),r=qk(Ch.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function HM(){let{router:t}=BM(zk.UseNavigateStable),e=qk(Ch.UseNavigateStable),n=K.useRef(!1);return $k(()=>{n.current=!0}),K.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Au({fromRouteId:e},s)))},[t,e])}const tE={};function YM(t,e,n){!e&&!tE[t]&&(tE[t]=!0)}function GM(t){let{to:e,replace:n,state:r,relative:i}=t;Ha()||Vt(!1);let{future:s,static:o}=K.useContext(Ns),{matches:a}=K.useContext(ji),{pathname:l}=bo(),c=kn(),f=r0(e,n0(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(f);return K.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function hi(t){Vt(!1)}function KM(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ns.Pop,navigator:s,static:o=!1,future:a}=t;Ha()&&Vt(!1);let l=e.replace(/^\/*/,"/"),c=K.useMemo(()=>({basename:l,navigator:s,static:o,future:Au({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Wa(r));let{pathname:f="/",search:h="",hash:d="",state:p=null,key:w="default"}=r,E=K.useMemo(()=>{let _=t0(f,l);return _==null?null:{location:{pathname:_,search:h,hash:d,state:p,key:w},navigationType:i}},[l,f,h,d,p,w,i]);return E==null?null:K.createElement(Ns.Provider,{value:c},K.createElement(Pd.Provider,{children:n,value:E}))}function QM(t){let{children:e,location:n}=t;return MM(uy(e),n)}new Promise(()=>{});function uy(t,e){e===void 0&&(e=[]);let n=[];return K.Children.forEach(t,(r,i)=>{if(!K.isValidElement(r))return;let s=[...e,i];if(r.type===K.Fragment){n.push.apply(n,uy(r.props.children,s));return}r.type!==hi&&Vt(!1),!r.props.index||!r.props.children||Vt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=uy(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.24.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cy(){return cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cy.apply(this,arguments)}function ZM(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function XM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function JM(t,e){return t.button===0&&(!e||e==="_self")&&!XM(t)}const eL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],tL="6";try{window.__reactRouterVersion=tL}catch{}const nL="startTransition",nE=ZC[nL];function rL(t){let{basename:e,children:n,future:r,window:i}=t,s=K.useRef();s.current==null&&(s.current=aM({window:i,v5Compat:!0}));let o=s.current,[a,l]=K.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},f=K.useCallback(h=>{c&&nE?nE(()=>l(h)):l(h)},[l,c]);return K.useLayoutEffect(()=>o.listen(f),[o,f]),K.createElement(KM,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const iL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ra=K.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:f,unstable_viewTransition:h}=e,d=ZM(e,eL),{basename:p}=K.useContext(Ns),w,E=!1;if(typeof c=="string"&&sL.test(c)&&(w=c,iL))try{let T=new URL(window.location.href),v=c.startsWith("//")?new URL(T.protocol+c):new URL(c),S=t0(v.pathname,p);v.origin===T.origin&&S!=null?c=S+v.search+v.hash:E=!0}catch{}let _=CM(c,{relative:i}),g=oL(c,{replace:o,state:a,target:l,preventScrollReset:f,relative:i,unstable_viewTransition:h});function m(T){r&&r(T),T.defaultPrevented||g(T)}return K.createElement("a",cy({},d,{href:w||_,onClick:E||s?r:m,ref:n,target:l}))});var rE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(rE||(rE={}));var iE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(iE||(iE={}));function oL(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=kn(),c=bo(),f=Bk(t,{relative:o});return K.useCallback(h=>{if(JM(h,n)){h.preventDefault();let d=r!==void 0?r:Nh(c)===Nh(f);l(t,{replace:d,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,f,r,i,n,t,s,o,a])}const Cs=()=>R.jsx("div",{className:"fixed inset-0 grid place-items-center bg-white z-30",children:R.jsx("img",{className:"w-[20rem]",src:"/loading2.gif",alt:"loading"})}),aL=t=>{const[e,n]=t.split("@");return`${e.substring(0,2)+"*".repeat(e.length-2)}@${n}`},Rd=t=>{const n=document.createElement("div");n.innerHTML=t.__html;const i=(n.textContent||n.innerHTML).trim().split(/\s+/);return Math.ceil(i.length/225)},Wk=t=>t>=1e9?(t/1e9).toFixed(1)+"B":t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toString();function lL(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Hk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Pn,function(){var n;function r(){return n.apply(null,arguments)}function i(u){n=u}function s(u){return u instanceof Array||Object.prototype.toString.call(u)==="[object Array]"}function o(u){return u!=null&&Object.prototype.toString.call(u)==="[object Object]"}function a(u,y){return Object.prototype.hasOwnProperty.call(u,y)}function l(u){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(u).length===0;var y;for(y in u)if(a(u,y))return!1;return!0}function c(u){return u===void 0}function f(u){return typeof u=="number"||Object.prototype.toString.call(u)==="[object Number]"}function h(u){return u instanceof Date||Object.prototype.toString.call(u)==="[object Date]"}function d(u,y){var k=[],O,L=u.length;for(O=0;O<L;++O)k.push(y(u[O],O));return k}function p(u,y){for(var k in y)a(y,k)&&(u[k]=y[k]);return a(y,"toString")&&(u.toString=y.toString),a(y,"valueOf")&&(u.valueOf=y.valueOf),u}function w(u,y,k,O){return _1(u,y,k,O,!0).utc()}function E(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function _(u){return u._pf==null&&(u._pf=E()),u._pf}var g;Array.prototype.some?g=Array.prototype.some:g=function(u){var y=Object(this),k=y.length>>>0,O;for(O=0;O<k;O++)if(O in y&&u.call(this,y[O],O,y))return!0;return!1};function m(u){if(u._isValid==null){var y=_(u),k=g.call(y.parsedDateParts,function(L){return L!=null}),O=!isNaN(u._d.getTime())&&y.overflow<0&&!y.empty&&!y.invalidEra&&!y.invalidMonth&&!y.invalidWeekday&&!y.weekdayMismatch&&!y.nullInput&&!y.invalidFormat&&!y.userInvalidated&&(!y.meridiem||y.meridiem&&k);if(u._strict&&(O=O&&y.charsLeftOver===0&&y.unusedTokens.length===0&&y.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(u))u._isValid=O;else return O}return u._isValid}function T(u){var y=w(NaN);return u!=null?p(_(y),u):_(y).userInvalidated=!0,y}var v=r.momentProperties=[],S=!1;function P(u,y){var k,O,L,W=v.length;if(c(y._isAMomentObject)||(u._isAMomentObject=y._isAMomentObject),c(y._i)||(u._i=y._i),c(y._f)||(u._f=y._f),c(y._l)||(u._l=y._l),c(y._strict)||(u._strict=y._strict),c(y._tzm)||(u._tzm=y._tzm),c(y._isUTC)||(u._isUTC=y._isUTC),c(y._offset)||(u._offset=y._offset),c(y._pf)||(u._pf=_(y)),c(y._locale)||(u._locale=y._locale),W>0)for(k=0;k<W;k++)O=v[k],L=y[O],c(L)||(u[O]=L);return u}function I(u){P(this,u),this._d=new Date(u._d!=null?u._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),S===!1&&(S=!0,r.updateOffset(this),S=!1)}function x(u){return u instanceof I||u!=null&&u._isAMomentObject!=null}function N(u){r.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+u)}function b(u,y){var k=!0;return p(function(){if(r.deprecationHandler!=null&&r.deprecationHandler(null,u),k){var O=[],L,W,ee,Ee=arguments.length;for(W=0;W<Ee;W++){if(L="",typeof arguments[W]=="object"){L+=`
[`+W+"] ";for(ee in arguments[0])a(arguments[0],ee)&&(L+=ee+": "+arguments[0][ee]+", ");L=L.slice(0,-2)}else L=arguments[W];O.push(L)}N(u+`
Arguments: `+Array.prototype.slice.call(O).join("")+`
`+new Error().stack),k=!1}return y.apply(this,arguments)},y)}var A={};function C(u,y){r.deprecationHandler!=null&&r.deprecationHandler(u,y),A[u]||(N(y),A[u]=!0)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null;function M(u){return typeof Function<"u"&&u instanceof Function||Object.prototype.toString.call(u)==="[object Function]"}function j(u){var y,k;for(k in u)a(u,k)&&(y=u[k],M(y)?this[k]=y:this["_"+k]=y);this._config=u,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function $(u,y){var k=p({},u),O;for(O in y)a(y,O)&&(o(u[O])&&o(y[O])?(k[O]={},p(k[O],u[O]),p(k[O],y[O])):y[O]!=null?k[O]=y[O]:delete k[O]);for(O in u)a(u,O)&&!a(y,O)&&o(u[O])&&(k[O]=p({},k[O]));return k}function H(u){u!=null&&this.set(u)}var G;Object.keys?G=Object.keys:G=function(u){var y,k=[];for(y in u)a(u,y)&&k.push(y);return k};var Q={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function z(u,y,k){var O=this._calendar[u]||this._calendar.sameElse;return M(O)?O.call(y,k):O}function F(u,y,k){var O=""+Math.abs(u),L=y-O.length,W=u>=0;return(W?k?"+":"":"-")+Math.pow(10,Math.max(0,L)).toString().substr(1)+O}var D=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,V=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,B={},Z={};function q(u,y,k,O){var L=O;typeof O=="string"&&(L=function(){return this[O]()}),u&&(Z[u]=L),y&&(Z[y[0]]=function(){return F(L.apply(this,arguments),y[1],y[2])}),k&&(Z[k]=function(){return this.localeData().ordinal(L.apply(this,arguments),u)})}function U(u){return u.match(/\[[\s\S]/)?u.replace(/^\[|\]$/g,""):u.replace(/\\/g,"")}function Y(u){var y=u.match(D),k,O;for(k=0,O=y.length;k<O;k++)Z[y[k]]?y[k]=Z[y[k]]:y[k]=U(y[k]);return function(L){var W="",ee;for(ee=0;ee<O;ee++)W+=M(y[ee])?y[ee].call(L,u):y[ee];return W}}function X(u,y){return u.isValid()?(y=J(y,u.localeData()),B[y]=B[y]||Y(y),B[y](u)):u.localeData().invalidDate()}function J(u,y){var k=5;function O(L){return y.longDateFormat(L)||L}for(V.lastIndex=0;k>=0&&V.test(u);)u=u.replace(V,O),V.lastIndex=0,k-=1;return u}var se={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function pe(u){var y=this._longDateFormat[u],k=this._longDateFormat[u.toUpperCase()];return y||!k?y:(this._longDateFormat[u]=k.match(D).map(function(O){return O==="MMMM"||O==="MM"||O==="DD"||O==="dddd"?O.slice(1):O}).join(""),this._longDateFormat[u])}var be="Invalid date";function Ae(){return this._invalidDate}var Ve="%d",Ze=/\d{1,2}/;function un(u){return this._ordinal.replace("%d",u)}var Dt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function te(u,y,k,O){var L=this._relativeTime[k];return M(L)?L(u,y,k,O):L.replace(/%d/i,u)}function ne(u,y){var k=this._relativeTime[u>0?"future":"past"];return M(k)?k(y):k.replace(/%s/i,y)}var fe={};function ce(u,y){var k=u.toLowerCase();fe[k]=fe[k+"s"]=fe[y]=u}function re(u){return typeof u=="string"?fe[u]||fe[u.toLowerCase()]:void 0}function Re(u){var y={},k,O;for(O in u)a(u,O)&&(k=re(O),k&&(y[k]=u[O]));return y}var Ce={};function Se(u,y){Ce[u]=y}function Mn(u){var y=[],k;for(k in u)a(u,k)&&y.push({unit:k,priority:Ce[k]});return y.sort(function(O,L){return O.priority-L.priority}),y}function Ln(u){return u%4===0&&u%100!==0||u%400===0}function Fe(u){return u<0?Math.ceil(u)||0:Math.floor(u)}function Me(u){var y=+u,k=0;return y!==0&&isFinite(y)&&(k=Fe(y)),k}function it(u,y){return function(k){return k!=null?(J_(this,u,k),r.updateOffset(this,y),this):Wn(this,u)}}function Wn(u,y){return u.isValid()?u._d["get"+(u._isUTC?"UTC":"")+y]():NaN}function J_(u,y,k){u.isValid()&&!isNaN(k)&&(y==="FullYear"&&Ln(u.year())&&u.month()===1&&u.date()===29?(k=Me(k),u._d["set"+(u._isUTC?"UTC":"")+y](k,u.month(),zc(k,u.month()))):u._d["set"+(u._isUTC?"UTC":"")+y](k))}function XA(u){return u=re(u),M(this[u])?this[u]():this}function JA(u,y){if(typeof u=="object"){u=Re(u);var k=Mn(u),O,L=k.length;for(O=0;O<L;O++)this[k[O].unit](u[k[O].unit])}else if(u=re(u),M(this[u]))return this[u](y);return this}var e1=/\d/,Hn=/\d\d/,t1=/\d{3}/,Fp=/\d{4}/,jc=/[+-]?\d{6}/,lt=/\d\d?/,n1=/\d\d\d\d?/,r1=/\d\d\d\d\d\d?/,Vc=/\d{1,3}/,Up=/\d{1,4}/,Fc=/[+-]?\d{1,6}/,Lo=/\d+/,Uc=/[+-]?\d+/,eP=/Z|[+-]\d\d:?\d\d/gi,$c=/Z|[+-]\d\d(?::?\d\d)?/gi,tP=/[+-]?\d+(\.\d{1,3})?/,ul=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Bc;Bc={};function me(u,y,k){Bc[u]=M(y)?y:function(O,L){return O&&k?k:y}}function nP(u,y){return a(Bc,u)?Bc[u](y._strict,y._locale):new RegExp(rP(u))}function rP(u){return Yn(u.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(y,k,O,L,W){return k||O||L||W}))}function Yn(u){return u.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var $p={};function tt(u,y){var k,O=y,L;for(typeof u=="string"&&(u=[u]),f(y)&&(O=function(W,ee){ee[y]=Me(W)}),L=u.length,k=0;k<L;k++)$p[u[k]]=O}function cl(u,y){tt(u,function(k,O,L,W){L._w=L._w||{},y(k,L._w,L,W)})}function iP(u,y,k){y!=null&&a($p,u)&&$p[u](y,k._a,k,u)}var cn=0,ri=1,Mr=2,zt=3,wr=4,ii=5,Vs=6,sP=7,oP=8;function aP(u,y){return(u%y+y)%y}var Mt;Array.prototype.indexOf?Mt=Array.prototype.indexOf:Mt=function(u){var y;for(y=0;y<this.length;++y)if(this[y]===u)return y;return-1};function zc(u,y){if(isNaN(u)||isNaN(y))return NaN;var k=aP(y,12);return u+=(y-k)/12,k===1?Ln(u)?29:28:31-k%7%2}q("M",["MM",2],"Mo",function(){return this.month()+1}),q("MMM",0,0,function(u){return this.localeData().monthsShort(this,u)}),q("MMMM",0,0,function(u){return this.localeData().months(this,u)}),ce("month","M"),Se("month",8),me("M",lt),me("MM",lt,Hn),me("MMM",function(u,y){return y.monthsShortRegex(u)}),me("MMMM",function(u,y){return y.monthsRegex(u)}),tt(["M","MM"],function(u,y){y[ri]=Me(u)-1}),tt(["MMM","MMMM"],function(u,y,k,O){var L=k._locale.monthsParse(u,O,k._strict);L!=null?y[ri]=L:_(k).invalidMonth=u});var lP="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),i1="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),s1=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,uP=ul,cP=ul;function fP(u,y){return u?s(this._months)?this._months[u.month()]:this._months[(this._months.isFormat||s1).test(y)?"format":"standalone"][u.month()]:s(this._months)?this._months:this._months.standalone}function hP(u,y){return u?s(this._monthsShort)?this._monthsShort[u.month()]:this._monthsShort[s1.test(y)?"format":"standalone"][u.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function dP(u,y,k){var O,L,W,ee=u.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],O=0;O<12;++O)W=w([2e3,O]),this._shortMonthsParse[O]=this.monthsShort(W,"").toLocaleLowerCase(),this._longMonthsParse[O]=this.months(W,"").toLocaleLowerCase();return k?y==="MMM"?(L=Mt.call(this._shortMonthsParse,ee),L!==-1?L:null):(L=Mt.call(this._longMonthsParse,ee),L!==-1?L:null):y==="MMM"?(L=Mt.call(this._shortMonthsParse,ee),L!==-1?L:(L=Mt.call(this._longMonthsParse,ee),L!==-1?L:null)):(L=Mt.call(this._longMonthsParse,ee),L!==-1?L:(L=Mt.call(this._shortMonthsParse,ee),L!==-1?L:null))}function pP(u,y,k){var O,L,W;if(this._monthsParseExact)return dP.call(this,u,y,k);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),O=0;O<12;O++){if(L=w([2e3,O]),k&&!this._longMonthsParse[O]&&(this._longMonthsParse[O]=new RegExp("^"+this.months(L,"").replace(".","")+"$","i"),this._shortMonthsParse[O]=new RegExp("^"+this.monthsShort(L,"").replace(".","")+"$","i")),!k&&!this._monthsParse[O]&&(W="^"+this.months(L,"")+"|^"+this.monthsShort(L,""),this._monthsParse[O]=new RegExp(W.replace(".",""),"i")),k&&y==="MMMM"&&this._longMonthsParse[O].test(u))return O;if(k&&y==="MMM"&&this._shortMonthsParse[O].test(u))return O;if(!k&&this._monthsParse[O].test(u))return O}}function o1(u,y){var k;if(!u.isValid())return u;if(typeof y=="string"){if(/^\d+$/.test(y))y=Me(y);else if(y=u.localeData().monthsParse(y),!f(y))return u}return k=Math.min(u.date(),zc(u.year(),y)),u._d["set"+(u._isUTC?"UTC":"")+"Month"](y,k),u}function a1(u){return u!=null?(o1(this,u),r.updateOffset(this,!0),this):Wn(this,"Month")}function mP(){return zc(this.year(),this.month())}function gP(u){return this._monthsParseExact?(a(this,"_monthsRegex")||l1.call(this),u?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=uP),this._monthsShortStrictRegex&&u?this._monthsShortStrictRegex:this._monthsShortRegex)}function yP(u){return this._monthsParseExact?(a(this,"_monthsRegex")||l1.call(this),u?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=cP),this._monthsStrictRegex&&u?this._monthsStrictRegex:this._monthsRegex)}function l1(){function u(ee,Ee){return Ee.length-ee.length}var y=[],k=[],O=[],L,W;for(L=0;L<12;L++)W=w([2e3,L]),y.push(this.monthsShort(W,"")),k.push(this.months(W,"")),O.push(this.months(W,"")),O.push(this.monthsShort(W,""));for(y.sort(u),k.sort(u),O.sort(u),L=0;L<12;L++)y[L]=Yn(y[L]),k[L]=Yn(k[L]);for(L=0;L<24;L++)O[L]=Yn(O[L]);this._monthsRegex=new RegExp("^("+O.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+k.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+y.join("|")+")","i")}q("Y",0,0,function(){var u=this.year();return u<=9999?F(u,4):"+"+u}),q(0,["YY",2],0,function(){return this.year()%100}),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),ce("year","y"),Se("year",1),me("Y",Uc),me("YY",lt,Hn),me("YYYY",Up,Fp),me("YYYYY",Fc,jc),me("YYYYYY",Fc,jc),tt(["YYYYY","YYYYYY"],cn),tt("YYYY",function(u,y){y[cn]=u.length===2?r.parseTwoDigitYear(u):Me(u)}),tt("YY",function(u,y){y[cn]=r.parseTwoDigitYear(u)}),tt("Y",function(u,y){y[cn]=parseInt(u,10)});function fl(u){return Ln(u)?366:365}r.parseTwoDigitYear=function(u){return Me(u)+(Me(u)>68?1900:2e3)};var u1=it("FullYear",!0);function vP(){return Ln(this.year())}function _P(u,y,k,O,L,W,ee){var Ee;return u<100&&u>=0?(Ee=new Date(u+400,y,k,O,L,W,ee),isFinite(Ee.getFullYear())&&Ee.setFullYear(u)):Ee=new Date(u,y,k,O,L,W,ee),Ee}function hl(u){var y,k;return u<100&&u>=0?(k=Array.prototype.slice.call(arguments),k[0]=u+400,y=new Date(Date.UTC.apply(null,k)),isFinite(y.getUTCFullYear())&&y.setUTCFullYear(u)):y=new Date(Date.UTC.apply(null,arguments)),y}function qc(u,y,k){var O=7+y-k,L=(7+hl(u,0,O).getUTCDay()-y)%7;return-L+O-1}function c1(u,y,k,O,L){var W=(7+k-O)%7,ee=qc(u,O,L),Ee=1+7*(y-1)+W+ee,Le,nt;return Ee<=0?(Le=u-1,nt=fl(Le)+Ee):Ee>fl(u)?(Le=u+1,nt=Ee-fl(u)):(Le=u,nt=Ee),{year:Le,dayOfYear:nt}}function dl(u,y,k){var O=qc(u.year(),y,k),L=Math.floor((u.dayOfYear()-O-1)/7)+1,W,ee;return L<1?(ee=u.year()-1,W=L+si(ee,y,k)):L>si(u.year(),y,k)?(W=L-si(u.year(),y,k),ee=u.year()+1):(ee=u.year(),W=L),{week:W,year:ee}}function si(u,y,k){var O=qc(u,y,k),L=qc(u+1,y,k);return(fl(u)-O+L)/7}q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),ce("week","w"),ce("isoWeek","W"),Se("week",5),Se("isoWeek",5),me("w",lt),me("ww",lt,Hn),me("W",lt),me("WW",lt,Hn),cl(["w","ww","W","WW"],function(u,y,k,O){y[O.substr(0,1)]=Me(u)});function wP(u){return dl(u,this._week.dow,this._week.doy).week}var EP={dow:0,doy:6};function TP(){return this._week.dow}function SP(){return this._week.doy}function kP(u){var y=this.localeData().week(this);return u==null?y:this.add((u-y)*7,"d")}function bP(u){var y=dl(this,1,4).week;return u==null?y:this.add((u-y)*7,"d")}q("d",0,"do","day"),q("dd",0,0,function(u){return this.localeData().weekdaysMin(this,u)}),q("ddd",0,0,function(u){return this.localeData().weekdaysShort(this,u)}),q("dddd",0,0,function(u){return this.localeData().weekdays(this,u)}),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),ce("day","d"),ce("weekday","e"),ce("isoWeekday","E"),Se("day",11),Se("weekday",11),Se("isoWeekday",11),me("d",lt),me("e",lt),me("E",lt),me("dd",function(u,y){return y.weekdaysMinRegex(u)}),me("ddd",function(u,y){return y.weekdaysShortRegex(u)}),me("dddd",function(u,y){return y.weekdaysRegex(u)}),cl(["dd","ddd","dddd"],function(u,y,k,O){var L=k._locale.weekdaysParse(u,O,k._strict);L!=null?y.d=L:_(k).invalidWeekday=u}),cl(["d","e","E"],function(u,y,k,O){y[O]=Me(u)});function xP(u,y){return typeof u!="string"?u:isNaN(u)?(u=y.weekdaysParse(u),typeof u=="number"?u:null):parseInt(u,10)}function IP(u,y){return typeof u=="string"?y.weekdaysParse(u)%7||7:isNaN(u)?null:u}function Bp(u,y){return u.slice(y,7).concat(u.slice(0,y))}var OP="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),f1="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),AP="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),PP=ul,RP=ul,NP=ul;function CP(u,y){var k=s(this._weekdays)?this._weekdays:this._weekdays[u&&u!==!0&&this._weekdays.isFormat.test(y)?"format":"standalone"];return u===!0?Bp(k,this._week.dow):u?k[u.day()]:k}function DP(u){return u===!0?Bp(this._weekdaysShort,this._week.dow):u?this._weekdaysShort[u.day()]:this._weekdaysShort}function MP(u){return u===!0?Bp(this._weekdaysMin,this._week.dow):u?this._weekdaysMin[u.day()]:this._weekdaysMin}function LP(u,y,k){var O,L,W,ee=u.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],O=0;O<7;++O)W=w([2e3,1]).day(O),this._minWeekdaysParse[O]=this.weekdaysMin(W,"").toLocaleLowerCase(),this._shortWeekdaysParse[O]=this.weekdaysShort(W,"").toLocaleLowerCase(),this._weekdaysParse[O]=this.weekdays(W,"").toLocaleLowerCase();return k?y==="dddd"?(L=Mt.call(this._weekdaysParse,ee),L!==-1?L:null):y==="ddd"?(L=Mt.call(this._shortWeekdaysParse,ee),L!==-1?L:null):(L=Mt.call(this._minWeekdaysParse,ee),L!==-1?L:null):y==="dddd"?(L=Mt.call(this._weekdaysParse,ee),L!==-1||(L=Mt.call(this._shortWeekdaysParse,ee),L!==-1)?L:(L=Mt.call(this._minWeekdaysParse,ee),L!==-1?L:null)):y==="ddd"?(L=Mt.call(this._shortWeekdaysParse,ee),L!==-1||(L=Mt.call(this._weekdaysParse,ee),L!==-1)?L:(L=Mt.call(this._minWeekdaysParse,ee),L!==-1?L:null)):(L=Mt.call(this._minWeekdaysParse,ee),L!==-1||(L=Mt.call(this._weekdaysParse,ee),L!==-1)?L:(L=Mt.call(this._shortWeekdaysParse,ee),L!==-1?L:null))}function jP(u,y,k){var O,L,W;if(this._weekdaysParseExact)return LP.call(this,u,y,k);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),O=0;O<7;O++){if(L=w([2e3,1]).day(O),k&&!this._fullWeekdaysParse[O]&&(this._fullWeekdaysParse[O]=new RegExp("^"+this.weekdays(L,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[O]=new RegExp("^"+this.weekdaysShort(L,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[O]=new RegExp("^"+this.weekdaysMin(L,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[O]||(W="^"+this.weekdays(L,"")+"|^"+this.weekdaysShort(L,"")+"|^"+this.weekdaysMin(L,""),this._weekdaysParse[O]=new RegExp(W.replace(".",""),"i")),k&&y==="dddd"&&this._fullWeekdaysParse[O].test(u))return O;if(k&&y==="ddd"&&this._shortWeekdaysParse[O].test(u))return O;if(k&&y==="dd"&&this._minWeekdaysParse[O].test(u))return O;if(!k&&this._weekdaysParse[O].test(u))return O}}function VP(u){if(!this.isValid())return u!=null?this:NaN;var y=this._isUTC?this._d.getUTCDay():this._d.getDay();return u!=null?(u=xP(u,this.localeData()),this.add(u-y,"d")):y}function FP(u){if(!this.isValid())return u!=null?this:NaN;var y=(this.day()+7-this.localeData()._week.dow)%7;return u==null?y:this.add(u-y,"d")}function UP(u){if(!this.isValid())return u!=null?this:NaN;if(u!=null){var y=IP(u,this.localeData());return this.day(this.day()%7?y:y-7)}else return this.day()||7}function $P(u){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||zp.call(this),u?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=PP),this._weekdaysStrictRegex&&u?this._weekdaysStrictRegex:this._weekdaysRegex)}function BP(u){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||zp.call(this),u?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=RP),this._weekdaysShortStrictRegex&&u?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function zP(u){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||zp.call(this),u?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=NP),this._weekdaysMinStrictRegex&&u?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function zp(){function u(In,ci){return ci.length-In.length}var y=[],k=[],O=[],L=[],W,ee,Ee,Le,nt;for(W=0;W<7;W++)ee=w([2e3,1]).day(W),Ee=Yn(this.weekdaysMin(ee,"")),Le=Yn(this.weekdaysShort(ee,"")),nt=Yn(this.weekdays(ee,"")),y.push(Ee),k.push(Le),O.push(nt),L.push(Ee),L.push(Le),L.push(nt);y.sort(u),k.sort(u),O.sort(u),L.sort(u),this._weekdaysRegex=new RegExp("^("+L.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+O.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+k.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+y.join("|")+")","i")}function qp(){return this.hours()%12||12}function qP(){return this.hours()||24}q("H",["HH",2],0,"hour"),q("h",["hh",2],0,qp),q("k",["kk",2],0,qP),q("hmm",0,0,function(){return""+qp.apply(this)+F(this.minutes(),2)}),q("hmmss",0,0,function(){return""+qp.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)}),q("Hmm",0,0,function(){return""+this.hours()+F(this.minutes(),2)}),q("Hmmss",0,0,function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)});function h1(u,y){q(u,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),y)})}h1("a",!0),h1("A",!1),ce("hour","h"),Se("hour",13);function d1(u,y){return y._meridiemParse}me("a",d1),me("A",d1),me("H",lt),me("h",lt),me("k",lt),me("HH",lt,Hn),me("hh",lt,Hn),me("kk",lt,Hn),me("hmm",n1),me("hmmss",r1),me("Hmm",n1),me("Hmmss",r1),tt(["H","HH"],zt),tt(["k","kk"],function(u,y,k){var O=Me(u);y[zt]=O===24?0:O}),tt(["a","A"],function(u,y,k){k._isPm=k._locale.isPM(u),k._meridiem=u}),tt(["h","hh"],function(u,y,k){y[zt]=Me(u),_(k).bigHour=!0}),tt("hmm",function(u,y,k){var O=u.length-2;y[zt]=Me(u.substr(0,O)),y[wr]=Me(u.substr(O)),_(k).bigHour=!0}),tt("hmmss",function(u,y,k){var O=u.length-4,L=u.length-2;y[zt]=Me(u.substr(0,O)),y[wr]=Me(u.substr(O,2)),y[ii]=Me(u.substr(L)),_(k).bigHour=!0}),tt("Hmm",function(u,y,k){var O=u.length-2;y[zt]=Me(u.substr(0,O)),y[wr]=Me(u.substr(O))}),tt("Hmmss",function(u,y,k){var O=u.length-4,L=u.length-2;y[zt]=Me(u.substr(0,O)),y[wr]=Me(u.substr(O,2)),y[ii]=Me(u.substr(L))});function WP(u){return(u+"").toLowerCase().charAt(0)==="p"}var HP=/[ap]\.?m?\.?/i,YP=it("Hours",!0);function GP(u,y,k){return u>11?k?"pm":"PM":k?"am":"AM"}var p1={calendar:Q,longDateFormat:se,invalidDate:be,ordinal:Ve,dayOfMonthOrdinalParse:Ze,relativeTime:Dt,months:lP,monthsShort:i1,week:EP,weekdays:OP,weekdaysMin:AP,weekdaysShort:f1,meridiemParse:HP},_t={},pl={},ml;function KP(u,y){var k,O=Math.min(u.length,y.length);for(k=0;k<O;k+=1)if(u[k]!==y[k])return k;return O}function m1(u){return u&&u.toLowerCase().replace("_","-")}function QP(u){for(var y=0,k,O,L,W;y<u.length;){for(W=m1(u[y]).split("-"),k=W.length,O=m1(u[y+1]),O=O?O.split("-"):null;k>0;){if(L=Wc(W.slice(0,k).join("-")),L)return L;if(O&&O.length>=k&&KP(W,O)>=k-1)break;k--}y++}return ml}function ZP(u){return u.match("^[^/\\\\]*$")!=null}function Wc(u){var y=null,k;if(_t[u]===void 0&&t&&t.exports&&ZP(u))try{y=ml._abbr,k=lL,k("./locale/"+u),$i(y)}catch{_t[u]=null}return _t[u]}function $i(u,y){var k;return u&&(c(y)?k=oi(u):k=Wp(u,y),k?ml=k:typeof console<"u"&&console.warn&&console.warn("Locale "+u+" not found. Did you forget to load it?")),ml._abbr}function Wp(u,y){if(y!==null){var k,O=p1;if(y.abbr=u,_t[u]!=null)C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),O=_t[u]._config;else if(y.parentLocale!=null)if(_t[y.parentLocale]!=null)O=_t[y.parentLocale]._config;else if(k=Wc(y.parentLocale),k!=null)O=k._config;else return pl[y.parentLocale]||(pl[y.parentLocale]=[]),pl[y.parentLocale].push({name:u,config:y}),null;return _t[u]=new H($(O,y)),pl[u]&&pl[u].forEach(function(L){Wp(L.name,L.config)}),$i(u),_t[u]}else return delete _t[u],null}function XP(u,y){if(y!=null){var k,O,L=p1;_t[u]!=null&&_t[u].parentLocale!=null?_t[u].set($(_t[u]._config,y)):(O=Wc(u),O!=null&&(L=O._config),y=$(L,y),O==null&&(y.abbr=u),k=new H(y),k.parentLocale=_t[u],_t[u]=k),$i(u)}else _t[u]!=null&&(_t[u].parentLocale!=null?(_t[u]=_t[u].parentLocale,u===$i()&&$i(u)):_t[u]!=null&&delete _t[u]);return _t[u]}function oi(u){var y;if(u&&u._locale&&u._locale._abbr&&(u=u._locale._abbr),!u)return ml;if(!s(u)){if(y=Wc(u),y)return y;u=[u]}return QP(u)}function JP(){return G(_t)}function Hp(u){var y,k=u._a;return k&&_(u).overflow===-2&&(y=k[ri]<0||k[ri]>11?ri:k[Mr]<1||k[Mr]>zc(k[cn],k[ri])?Mr:k[zt]<0||k[zt]>24||k[zt]===24&&(k[wr]!==0||k[ii]!==0||k[Vs]!==0)?zt:k[wr]<0||k[wr]>59?wr:k[ii]<0||k[ii]>59?ii:k[Vs]<0||k[Vs]>999?Vs:-1,_(u)._overflowDayOfYear&&(y<cn||y>Mr)&&(y=Mr),_(u)._overflowWeeks&&y===-1&&(y=sP),_(u)._overflowWeekday&&y===-1&&(y=oP),_(u).overflow=y),u}var eR=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tR=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nR=/Z|[+-]\d\d(?::?\d\d)?/,Hc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Yp=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],rR=/^\/?Date\((-?\d+)/i,iR=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,sR={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function g1(u){var y,k,O=u._i,L=eR.exec(O)||tR.exec(O),W,ee,Ee,Le,nt=Hc.length,In=Yp.length;if(L){for(_(u).iso=!0,y=0,k=nt;y<k;y++)if(Hc[y][1].exec(L[1])){ee=Hc[y][0],W=Hc[y][2]!==!1;break}if(ee==null){u._isValid=!1;return}if(L[3]){for(y=0,k=In;y<k;y++)if(Yp[y][1].exec(L[3])){Ee=(L[2]||" ")+Yp[y][0];break}if(Ee==null){u._isValid=!1;return}}if(!W&&Ee!=null){u._isValid=!1;return}if(L[4])if(nR.exec(L[4]))Le="Z";else{u._isValid=!1;return}u._f=ee+(Ee||"")+(Le||""),Kp(u)}else u._isValid=!1}function oR(u,y,k,O,L,W){var ee=[aR(u),i1.indexOf(y),parseInt(k,10),parseInt(O,10),parseInt(L,10)];return W&&ee.push(parseInt(W,10)),ee}function aR(u){var y=parseInt(u,10);return y<=49?2e3+y:y<=999?1900+y:y}function lR(u){return u.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function uR(u,y,k){if(u){var O=f1.indexOf(u),L=new Date(y[0],y[1],y[2]).getDay();if(O!==L)return _(k).weekdayMismatch=!0,k._isValid=!1,!1}return!0}function cR(u,y,k){if(u)return sR[u];if(y)return 0;var O=parseInt(k,10),L=O%100,W=(O-L)/100;return W*60+L}function y1(u){var y=iR.exec(lR(u._i)),k;if(y){if(k=oR(y[4],y[3],y[2],y[5],y[6],y[7]),!uR(y[1],k,u))return;u._a=k,u._tzm=cR(y[8],y[9],y[10]),u._d=hl.apply(null,u._a),u._d.setUTCMinutes(u._d.getUTCMinutes()-u._tzm),_(u).rfc2822=!0}else u._isValid=!1}function fR(u){var y=rR.exec(u._i);if(y!==null){u._d=new Date(+y[1]);return}if(g1(u),u._isValid===!1)delete u._isValid;else return;if(y1(u),u._isValid===!1)delete u._isValid;else return;u._strict?u._isValid=!1:r.createFromInputFallback(u)}r.createFromInputFallback=b("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(u){u._d=new Date(u._i+(u._useUTC?" UTC":""))});function jo(u,y,k){return u??y??k}function hR(u){var y=new Date(r.now());return u._useUTC?[y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()]:[y.getFullYear(),y.getMonth(),y.getDate()]}function Gp(u){var y,k,O=[],L,W,ee;if(!u._d){for(L=hR(u),u._w&&u._a[Mr]==null&&u._a[ri]==null&&dR(u),u._dayOfYear!=null&&(ee=jo(u._a[cn],L[cn]),(u._dayOfYear>fl(ee)||u._dayOfYear===0)&&(_(u)._overflowDayOfYear=!0),k=hl(ee,0,u._dayOfYear),u._a[ri]=k.getUTCMonth(),u._a[Mr]=k.getUTCDate()),y=0;y<3&&u._a[y]==null;++y)u._a[y]=O[y]=L[y];for(;y<7;y++)u._a[y]=O[y]=u._a[y]==null?y===2?1:0:u._a[y];u._a[zt]===24&&u._a[wr]===0&&u._a[ii]===0&&u._a[Vs]===0&&(u._nextDay=!0,u._a[zt]=0),u._d=(u._useUTC?hl:_P).apply(null,O),W=u._useUTC?u._d.getUTCDay():u._d.getDay(),u._tzm!=null&&u._d.setUTCMinutes(u._d.getUTCMinutes()-u._tzm),u._nextDay&&(u._a[zt]=24),u._w&&typeof u._w.d<"u"&&u._w.d!==W&&(_(u).weekdayMismatch=!0)}}function dR(u){var y,k,O,L,W,ee,Ee,Le,nt;y=u._w,y.GG!=null||y.W!=null||y.E!=null?(W=1,ee=4,k=jo(y.GG,u._a[cn],dl(ut(),1,4).year),O=jo(y.W,1),L=jo(y.E,1),(L<1||L>7)&&(Le=!0)):(W=u._locale._week.dow,ee=u._locale._week.doy,nt=dl(ut(),W,ee),k=jo(y.gg,u._a[cn],nt.year),O=jo(y.w,nt.week),y.d!=null?(L=y.d,(L<0||L>6)&&(Le=!0)):y.e!=null?(L=y.e+W,(y.e<0||y.e>6)&&(Le=!0)):L=W),O<1||O>si(k,W,ee)?_(u)._overflowWeeks=!0:Le!=null?_(u)._overflowWeekday=!0:(Ee=c1(k,O,L,W,ee),u._a[cn]=Ee.year,u._dayOfYear=Ee.dayOfYear)}r.ISO_8601=function(){},r.RFC_2822=function(){};function Kp(u){if(u._f===r.ISO_8601){g1(u);return}if(u._f===r.RFC_2822){y1(u);return}u._a=[],_(u).empty=!0;var y=""+u._i,k,O,L,W,ee,Ee=y.length,Le=0,nt,In;for(L=J(u._f,u._locale).match(D)||[],In=L.length,k=0;k<In;k++)W=L[k],O=(y.match(nP(W,u))||[])[0],O&&(ee=y.substr(0,y.indexOf(O)),ee.length>0&&_(u).unusedInput.push(ee),y=y.slice(y.indexOf(O)+O.length),Le+=O.length),Z[W]?(O?_(u).empty=!1:_(u).unusedTokens.push(W),iP(W,O,u)):u._strict&&!O&&_(u).unusedTokens.push(W);_(u).charsLeftOver=Ee-Le,y.length>0&&_(u).unusedInput.push(y),u._a[zt]<=12&&_(u).bigHour===!0&&u._a[zt]>0&&(_(u).bigHour=void 0),_(u).parsedDateParts=u._a.slice(0),_(u).meridiem=u._meridiem,u._a[zt]=pR(u._locale,u._a[zt],u._meridiem),nt=_(u).era,nt!==null&&(u._a[cn]=u._locale.erasConvertYear(nt,u._a[cn])),Gp(u),Hp(u)}function pR(u,y,k){var O;return k==null?y:u.meridiemHour!=null?u.meridiemHour(y,k):(u.isPM!=null&&(O=u.isPM(k),O&&y<12&&(y+=12),!O&&y===12&&(y=0)),y)}function mR(u){var y,k,O,L,W,ee,Ee=!1,Le=u._f.length;if(Le===0){_(u).invalidFormat=!0,u._d=new Date(NaN);return}for(L=0;L<Le;L++)W=0,ee=!1,y=P({},u),u._useUTC!=null&&(y._useUTC=u._useUTC),y._f=u._f[L],Kp(y),m(y)&&(ee=!0),W+=_(y).charsLeftOver,W+=_(y).unusedTokens.length*10,_(y).score=W,Ee?W<O&&(O=W,k=y):(O==null||W<O||ee)&&(O=W,k=y,ee&&(Ee=!0));p(u,k||y)}function gR(u){if(!u._d){var y=Re(u._i),k=y.day===void 0?y.date:y.day;u._a=d([y.year,y.month,k,y.hour,y.minute,y.second,y.millisecond],function(O){return O&&parseInt(O,10)}),Gp(u)}}function yR(u){var y=new I(Hp(v1(u)));return y._nextDay&&(y.add(1,"d"),y._nextDay=void 0),y}function v1(u){var y=u._i,k=u._f;return u._locale=u._locale||oi(u._l),y===null||k===void 0&&y===""?T({nullInput:!0}):(typeof y=="string"&&(u._i=y=u._locale.preparse(y)),x(y)?new I(Hp(y)):(h(y)?u._d=y:s(k)?mR(u):k?Kp(u):vR(u),m(u)||(u._d=null),u))}function vR(u){var y=u._i;c(y)?u._d=new Date(r.now()):h(y)?u._d=new Date(y.valueOf()):typeof y=="string"?fR(u):s(y)?(u._a=d(y.slice(0),function(k){return parseInt(k,10)}),Gp(u)):o(y)?gR(u):f(y)?u._d=new Date(y):r.createFromInputFallback(u)}function _1(u,y,k,O,L){var W={};return(y===!0||y===!1)&&(O=y,y=void 0),(k===!0||k===!1)&&(O=k,k=void 0),(o(u)&&l(u)||s(u)&&u.length===0)&&(u=void 0),W._isAMomentObject=!0,W._useUTC=W._isUTC=L,W._l=k,W._i=u,W._f=y,W._strict=O,yR(W)}function ut(u,y,k,O){return _1(u,y,k,O,!1)}var _R=b("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var u=ut.apply(null,arguments);return this.isValid()&&u.isValid()?u<this?this:u:T()}),wR=b("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var u=ut.apply(null,arguments);return this.isValid()&&u.isValid()?u>this?this:u:T()});function w1(u,y){var k,O;if(y.length===1&&s(y[0])&&(y=y[0]),!y.length)return ut();for(k=y[0],O=1;O<y.length;++O)(!y[O].isValid()||y[O][u](k))&&(k=y[O]);return k}function ER(){var u=[].slice.call(arguments,0);return w1("isBefore",u)}function TR(){var u=[].slice.call(arguments,0);return w1("isAfter",u)}var SR=function(){return Date.now?Date.now():+new Date},gl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function kR(u){var y,k=!1,O,L=gl.length;for(y in u)if(a(u,y)&&!(Mt.call(gl,y)!==-1&&(u[y]==null||!isNaN(u[y]))))return!1;for(O=0;O<L;++O)if(u[gl[O]]){if(k)return!1;parseFloat(u[gl[O]])!==Me(u[gl[O]])&&(k=!0)}return!0}function bR(){return this._isValid}function xR(){return Er(NaN)}function Yc(u){var y=Re(u),k=y.year||0,O=y.quarter||0,L=y.month||0,W=y.week||y.isoWeek||0,ee=y.day||0,Ee=y.hour||0,Le=y.minute||0,nt=y.second||0,In=y.millisecond||0;this._isValid=kR(y),this._milliseconds=+In+nt*1e3+Le*6e4+Ee*1e3*60*60,this._days=+ee+W*7,this._months=+L+O*3+k*12,this._data={},this._locale=oi(),this._bubble()}function Gc(u){return u instanceof Yc}function Qp(u){return u<0?Math.round(-1*u)*-1:Math.round(u)}function IR(u,y,k){var O=Math.min(u.length,y.length),L=Math.abs(u.length-y.length),W=0,ee;for(ee=0;ee<O;ee++)(k&&u[ee]!==y[ee]||!k&&Me(u[ee])!==Me(y[ee]))&&W++;return W+L}function E1(u,y){q(u,0,0,function(){var k=this.utcOffset(),O="+";return k<0&&(k=-k,O="-"),O+F(~~(k/60),2)+y+F(~~k%60,2)})}E1("Z",":"),E1("ZZ",""),me("Z",$c),me("ZZ",$c),tt(["Z","ZZ"],function(u,y,k){k._useUTC=!0,k._tzm=Zp($c,u)});var OR=/([\+\-]|\d\d)/gi;function Zp(u,y){var k=(y||"").match(u),O,L,W;return k===null?null:(O=k[k.length-1]||[],L=(O+"").match(OR)||["-",0,0],W=+(L[1]*60)+Me(L[2]),W===0?0:L[0]==="+"?W:-W)}function Xp(u,y){var k,O;return y._isUTC?(k=y.clone(),O=(x(u)||h(u)?u.valueOf():ut(u).valueOf())-k.valueOf(),k._d.setTime(k._d.valueOf()+O),r.updateOffset(k,!1),k):ut(u).local()}function Jp(u){return-Math.round(u._d.getTimezoneOffset())}r.updateOffset=function(){};function AR(u,y,k){var O=this._offset||0,L;if(!this.isValid())return u!=null?this:NaN;if(u!=null){if(typeof u=="string"){if(u=Zp($c,u),u===null)return this}else Math.abs(u)<16&&!k&&(u=u*60);return!this._isUTC&&y&&(L=Jp(this)),this._offset=u,this._isUTC=!0,L!=null&&this.add(L,"m"),O!==u&&(!y||this._changeInProgress?b1(this,Er(u-O,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?O:Jp(this)}function PR(u,y){return u!=null?(typeof u!="string"&&(u=-u),this.utcOffset(u,y),this):-this.utcOffset()}function RR(u){return this.utcOffset(0,u)}function NR(u){return this._isUTC&&(this.utcOffset(0,u),this._isUTC=!1,u&&this.subtract(Jp(this),"m")),this}function CR(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var u=Zp(eP,this._i);u!=null?this.utcOffset(u):this.utcOffset(0,!0)}return this}function DR(u){return this.isValid()?(u=u?ut(u).utcOffset():0,(this.utcOffset()-u)%60===0):!1}function MR(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function LR(){if(!c(this._isDSTShifted))return this._isDSTShifted;var u={},y;return P(u,this),u=v1(u),u._a?(y=u._isUTC?w(u._a):ut(u._a),this._isDSTShifted=this.isValid()&&IR(u._a,y.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function jR(){return this.isValid()?!this._isUTC:!1}function VR(){return this.isValid()?this._isUTC:!1}function T1(){return this.isValid()?this._isUTC&&this._offset===0:!1}var FR=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,UR=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Er(u,y){var k=u,O=null,L,W,ee;return Gc(u)?k={ms:u._milliseconds,d:u._days,M:u._months}:f(u)||!isNaN(+u)?(k={},y?k[y]=+u:k.milliseconds=+u):(O=FR.exec(u))?(L=O[1]==="-"?-1:1,k={y:0,d:Me(O[Mr])*L,h:Me(O[zt])*L,m:Me(O[wr])*L,s:Me(O[ii])*L,ms:Me(Qp(O[Vs]*1e3))*L}):(O=UR.exec(u))?(L=O[1]==="-"?-1:1,k={y:Fs(O[2],L),M:Fs(O[3],L),w:Fs(O[4],L),d:Fs(O[5],L),h:Fs(O[6],L),m:Fs(O[7],L),s:Fs(O[8],L)}):k==null?k={}:typeof k=="object"&&("from"in k||"to"in k)&&(ee=$R(ut(k.from),ut(k.to)),k={},k.ms=ee.milliseconds,k.M=ee.months),W=new Yc(k),Gc(u)&&a(u,"_locale")&&(W._locale=u._locale),Gc(u)&&a(u,"_isValid")&&(W._isValid=u._isValid),W}Er.fn=Yc.prototype,Er.invalid=xR;function Fs(u,y){var k=u&&parseFloat(u.replace(",","."));return(isNaN(k)?0:k)*y}function S1(u,y){var k={};return k.months=y.month()-u.month()+(y.year()-u.year())*12,u.clone().add(k.months,"M").isAfter(y)&&--k.months,k.milliseconds=+y-+u.clone().add(k.months,"M"),k}function $R(u,y){var k;return u.isValid()&&y.isValid()?(y=Xp(y,u),u.isBefore(y)?k=S1(u,y):(k=S1(y,u),k.milliseconds=-k.milliseconds,k.months=-k.months),k):{milliseconds:0,months:0}}function k1(u,y){return function(k,O){var L,W;return O!==null&&!isNaN(+O)&&(C(y,"moment()."+y+"(period, number) is deprecated. Please use moment()."+y+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),W=k,k=O,O=W),L=Er(k,O),b1(this,L,u),this}}function b1(u,y,k,O){var L=y._milliseconds,W=Qp(y._days),ee=Qp(y._months);u.isValid()&&(O=O??!0,ee&&o1(u,Wn(u,"Month")+ee*k),W&&J_(u,"Date",Wn(u,"Date")+W*k),L&&u._d.setTime(u._d.valueOf()+L*k),O&&r.updateOffset(u,W||ee))}var BR=k1(1,"add"),zR=k1(-1,"subtract");function x1(u){return typeof u=="string"||u instanceof String}function qR(u){return x(u)||h(u)||x1(u)||f(u)||HR(u)||WR(u)||u===null||u===void 0}function WR(u){var y=o(u)&&!l(u),k=!1,O=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],L,W,ee=O.length;for(L=0;L<ee;L+=1)W=O[L],k=k||a(u,W);return y&&k}function HR(u){var y=s(u),k=!1;return y&&(k=u.filter(function(O){return!f(O)&&x1(u)}).length===0),y&&k}function YR(u){var y=o(u)&&!l(u),k=!1,O=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],L,W;for(L=0;L<O.length;L+=1)W=O[L],k=k||a(u,W);return y&&k}function GR(u,y){var k=u.diff(y,"days",!0);return k<-6?"sameElse":k<-1?"lastWeek":k<0?"lastDay":k<1?"sameDay":k<2?"nextDay":k<7?"nextWeek":"sameElse"}function KR(u,y){arguments.length===1&&(arguments[0]?qR(arguments[0])?(u=arguments[0],y=void 0):YR(arguments[0])&&(y=arguments[0],u=void 0):(u=void 0,y=void 0));var k=u||ut(),O=Xp(k,this).startOf("day"),L=r.calendarFormat(this,O)||"sameElse",W=y&&(M(y[L])?y[L].call(this,k):y[L]);return this.format(W||this.localeData().calendar(L,this,ut(k)))}function QR(){return new I(this)}function ZR(u,y){var k=x(u)?u:ut(u);return this.isValid()&&k.isValid()?(y=re(y)||"millisecond",y==="millisecond"?this.valueOf()>k.valueOf():k.valueOf()<this.clone().startOf(y).valueOf()):!1}function XR(u,y){var k=x(u)?u:ut(u);return this.isValid()&&k.isValid()?(y=re(y)||"millisecond",y==="millisecond"?this.valueOf()<k.valueOf():this.clone().endOf(y).valueOf()<k.valueOf()):!1}function JR(u,y,k,O){var L=x(u)?u:ut(u),W=x(y)?y:ut(y);return this.isValid()&&L.isValid()&&W.isValid()?(O=O||"()",(O[0]==="("?this.isAfter(L,k):!this.isBefore(L,k))&&(O[1]===")"?this.isBefore(W,k):!this.isAfter(W,k))):!1}function eN(u,y){var k=x(u)?u:ut(u),O;return this.isValid()&&k.isValid()?(y=re(y)||"millisecond",y==="millisecond"?this.valueOf()===k.valueOf():(O=k.valueOf(),this.clone().startOf(y).valueOf()<=O&&O<=this.clone().endOf(y).valueOf())):!1}function tN(u,y){return this.isSame(u,y)||this.isAfter(u,y)}function nN(u,y){return this.isSame(u,y)||this.isBefore(u,y)}function rN(u,y,k){var O,L,W;if(!this.isValid())return NaN;if(O=Xp(u,this),!O.isValid())return NaN;switch(L=(O.utcOffset()-this.utcOffset())*6e4,y=re(y),y){case"year":W=Kc(this,O)/12;break;case"month":W=Kc(this,O);break;case"quarter":W=Kc(this,O)/3;break;case"second":W=(this-O)/1e3;break;case"minute":W=(this-O)/6e4;break;case"hour":W=(this-O)/36e5;break;case"day":W=(this-O-L)/864e5;break;case"week":W=(this-O-L)/6048e5;break;default:W=this-O}return k?W:Fe(W)}function Kc(u,y){if(u.date()<y.date())return-Kc(y,u);var k=(y.year()-u.year())*12+(y.month()-u.month()),O=u.clone().add(k,"months"),L,W;return y-O<0?(L=u.clone().add(k-1,"months"),W=(y-O)/(O-L)):(L=u.clone().add(k+1,"months"),W=(y-O)/(L-O)),-(k+W)||0}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function iN(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function sN(u){if(!this.isValid())return null;var y=u!==!0,k=y?this.clone().utc():this;return k.year()<0||k.year()>9999?X(k,y?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):M(Date.prototype.toISOString)?y?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",X(k,"Z")):X(k,y?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function oN(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var u="moment",y="",k,O,L,W;return this.isLocal()||(u=this.utcOffset()===0?"moment.utc":"moment.parseZone",y="Z"),k="["+u+'("]',O=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",L="-MM-DD[T]HH:mm:ss.SSS",W=y+'[")]',this.format(k+O+L+W)}function aN(u){u||(u=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var y=X(this,u);return this.localeData().postformat(y)}function lN(u,y){return this.isValid()&&(x(u)&&u.isValid()||ut(u).isValid())?Er({to:this,from:u}).locale(this.locale()).humanize(!y):this.localeData().invalidDate()}function uN(u){return this.from(ut(),u)}function cN(u,y){return this.isValid()&&(x(u)&&u.isValid()||ut(u).isValid())?Er({from:this,to:u}).locale(this.locale()).humanize(!y):this.localeData().invalidDate()}function fN(u){return this.to(ut(),u)}function I1(u){var y;return u===void 0?this._locale._abbr:(y=oi(u),y!=null&&(this._locale=y),this)}var O1=b("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(u){return u===void 0?this.localeData():this.locale(u)});function A1(){return this._locale}var Qc=1e3,Vo=60*Qc,Zc=60*Vo,P1=(365*400+97)*24*Zc;function Fo(u,y){return(u%y+y)%y}function R1(u,y,k){return u<100&&u>=0?new Date(u+400,y,k)-P1:new Date(u,y,k).valueOf()}function N1(u,y,k){return u<100&&u>=0?Date.UTC(u+400,y,k)-P1:Date.UTC(u,y,k)}function hN(u){var y,k;if(u=re(u),u===void 0||u==="millisecond"||!this.isValid())return this;switch(k=this._isUTC?N1:R1,u){case"year":y=k(this.year(),0,1);break;case"quarter":y=k(this.year(),this.month()-this.month()%3,1);break;case"month":y=k(this.year(),this.month(),1);break;case"week":y=k(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":y=k(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":y=k(this.year(),this.month(),this.date());break;case"hour":y=this._d.valueOf(),y-=Fo(y+(this._isUTC?0:this.utcOffset()*Vo),Zc);break;case"minute":y=this._d.valueOf(),y-=Fo(y,Vo);break;case"second":y=this._d.valueOf(),y-=Fo(y,Qc);break}return this._d.setTime(y),r.updateOffset(this,!0),this}function dN(u){var y,k;if(u=re(u),u===void 0||u==="millisecond"||!this.isValid())return this;switch(k=this._isUTC?N1:R1,u){case"year":y=k(this.year()+1,0,1)-1;break;case"quarter":y=k(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":y=k(this.year(),this.month()+1,1)-1;break;case"week":y=k(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":y=k(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":y=k(this.year(),this.month(),this.date()+1)-1;break;case"hour":y=this._d.valueOf(),y+=Zc-Fo(y+(this._isUTC?0:this.utcOffset()*Vo),Zc)-1;break;case"minute":y=this._d.valueOf(),y+=Vo-Fo(y,Vo)-1;break;case"second":y=this._d.valueOf(),y+=Qc-Fo(y,Qc)-1;break}return this._d.setTime(y),r.updateOffset(this,!0),this}function pN(){return this._d.valueOf()-(this._offset||0)*6e4}function mN(){return Math.floor(this.valueOf()/1e3)}function gN(){return new Date(this.valueOf())}function yN(){var u=this;return[u.year(),u.month(),u.date(),u.hour(),u.minute(),u.second(),u.millisecond()]}function vN(){var u=this;return{years:u.year(),months:u.month(),date:u.date(),hours:u.hours(),minutes:u.minutes(),seconds:u.seconds(),milliseconds:u.milliseconds()}}function _N(){return this.isValid()?this.toISOString():null}function wN(){return m(this)}function EN(){return p({},_(this))}function TN(){return _(this).overflow}function SN(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}q("N",0,0,"eraAbbr"),q("NN",0,0,"eraAbbr"),q("NNN",0,0,"eraAbbr"),q("NNNN",0,0,"eraName"),q("NNNNN",0,0,"eraNarrow"),q("y",["y",1],"yo","eraYear"),q("y",["yy",2],0,"eraYear"),q("y",["yyy",3],0,"eraYear"),q("y",["yyyy",4],0,"eraYear"),me("N",em),me("NN",em),me("NNN",em),me("NNNN",DN),me("NNNNN",MN),tt(["N","NN","NNN","NNNN","NNNNN"],function(u,y,k,O){var L=k._locale.erasParse(u,O,k._strict);L?_(k).era=L:_(k).invalidEra=u}),me("y",Lo),me("yy",Lo),me("yyy",Lo),me("yyyy",Lo),me("yo",LN),tt(["y","yy","yyy","yyyy"],cn),tt(["yo"],function(u,y,k,O){var L;k._locale._eraYearOrdinalRegex&&(L=u.match(k._locale._eraYearOrdinalRegex)),k._locale.eraYearOrdinalParse?y[cn]=k._locale.eraYearOrdinalParse(u,L):y[cn]=parseInt(u,10)});function kN(u,y){var k,O,L,W=this._eras||oi("en")._eras;for(k=0,O=W.length;k<O;++k){switch(typeof W[k].since){case"string":L=r(W[k].since).startOf("day"),W[k].since=L.valueOf();break}switch(typeof W[k].until){case"undefined":W[k].until=1/0;break;case"string":L=r(W[k].until).startOf("day").valueOf(),W[k].until=L.valueOf();break}}return W}function bN(u,y,k){var O,L,W=this.eras(),ee,Ee,Le;for(u=u.toUpperCase(),O=0,L=W.length;O<L;++O)if(ee=W[O].name.toUpperCase(),Ee=W[O].abbr.toUpperCase(),Le=W[O].narrow.toUpperCase(),k)switch(y){case"N":case"NN":case"NNN":if(Ee===u)return W[O];break;case"NNNN":if(ee===u)return W[O];break;case"NNNNN":if(Le===u)return W[O];break}else if([ee,Ee,Le].indexOf(u)>=0)return W[O]}function xN(u,y){var k=u.since<=u.until?1:-1;return y===void 0?r(u.since).year():r(u.since).year()+(y-u.offset)*k}function IN(){var u,y,k,O=this.localeData().eras();for(u=0,y=O.length;u<y;++u)if(k=this.clone().startOf("day").valueOf(),O[u].since<=k&&k<=O[u].until||O[u].until<=k&&k<=O[u].since)return O[u].name;return""}function ON(){var u,y,k,O=this.localeData().eras();for(u=0,y=O.length;u<y;++u)if(k=this.clone().startOf("day").valueOf(),O[u].since<=k&&k<=O[u].until||O[u].until<=k&&k<=O[u].since)return O[u].narrow;return""}function AN(){var u,y,k,O=this.localeData().eras();for(u=0,y=O.length;u<y;++u)if(k=this.clone().startOf("day").valueOf(),O[u].since<=k&&k<=O[u].until||O[u].until<=k&&k<=O[u].since)return O[u].abbr;return""}function PN(){var u,y,k,O,L=this.localeData().eras();for(u=0,y=L.length;u<y;++u)if(k=L[u].since<=L[u].until?1:-1,O=this.clone().startOf("day").valueOf(),L[u].since<=O&&O<=L[u].until||L[u].until<=O&&O<=L[u].since)return(this.year()-r(L[u].since).year())*k+L[u].offset;return this.year()}function RN(u){return a(this,"_erasNameRegex")||tm.call(this),u?this._erasNameRegex:this._erasRegex}function NN(u){return a(this,"_erasAbbrRegex")||tm.call(this),u?this._erasAbbrRegex:this._erasRegex}function CN(u){return a(this,"_erasNarrowRegex")||tm.call(this),u?this._erasNarrowRegex:this._erasRegex}function em(u,y){return y.erasAbbrRegex(u)}function DN(u,y){return y.erasNameRegex(u)}function MN(u,y){return y.erasNarrowRegex(u)}function LN(u,y){return y._eraYearOrdinalRegex||Lo}function tm(){var u=[],y=[],k=[],O=[],L,W,ee=this.eras();for(L=0,W=ee.length;L<W;++L)y.push(Yn(ee[L].name)),u.push(Yn(ee[L].abbr)),k.push(Yn(ee[L].narrow)),O.push(Yn(ee[L].name)),O.push(Yn(ee[L].abbr)),O.push(Yn(ee[L].narrow));this._erasRegex=new RegExp("^("+O.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+y.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+u.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+k.join("|")+")","i")}q(0,["gg",2],0,function(){return this.weekYear()%100}),q(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Xc(u,y){q(0,[u,u.length],0,y)}Xc("gggg","weekYear"),Xc("ggggg","weekYear"),Xc("GGGG","isoWeekYear"),Xc("GGGGG","isoWeekYear"),ce("weekYear","gg"),ce("isoWeekYear","GG"),Se("weekYear",1),Se("isoWeekYear",1),me("G",Uc),me("g",Uc),me("GG",lt,Hn),me("gg",lt,Hn),me("GGGG",Up,Fp),me("gggg",Up,Fp),me("GGGGG",Fc,jc),me("ggggg",Fc,jc),cl(["gggg","ggggg","GGGG","GGGGG"],function(u,y,k,O){y[O.substr(0,2)]=Me(u)}),cl(["gg","GG"],function(u,y,k,O){y[O]=r.parseTwoDigitYear(u)});function jN(u){return C1.call(this,u,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function VN(u){return C1.call(this,u,this.isoWeek(),this.isoWeekday(),1,4)}function FN(){return si(this.year(),1,4)}function UN(){return si(this.isoWeekYear(),1,4)}function $N(){var u=this.localeData()._week;return si(this.year(),u.dow,u.doy)}function BN(){var u=this.localeData()._week;return si(this.weekYear(),u.dow,u.doy)}function C1(u,y,k,O,L){var W;return u==null?dl(this,O,L).year:(W=si(u,O,L),y>W&&(y=W),zN.call(this,u,y,k,O,L))}function zN(u,y,k,O,L){var W=c1(u,y,k,O,L),ee=hl(W.year,0,W.dayOfYear);return this.year(ee.getUTCFullYear()),this.month(ee.getUTCMonth()),this.date(ee.getUTCDate()),this}q("Q",0,"Qo","quarter"),ce("quarter","Q"),Se("quarter",7),me("Q",e1),tt("Q",function(u,y){y[ri]=(Me(u)-1)*3});function qN(u){return u==null?Math.ceil((this.month()+1)/3):this.month((u-1)*3+this.month()%3)}q("D",["DD",2],"Do","date"),ce("date","D"),Se("date",9),me("D",lt),me("DD",lt,Hn),me("Do",function(u,y){return u?y._dayOfMonthOrdinalParse||y._ordinalParse:y._dayOfMonthOrdinalParseLenient}),tt(["D","DD"],Mr),tt("Do",function(u,y){y[Mr]=Me(u.match(lt)[0])});var D1=it("Date",!0);q("DDD",["DDDD",3],"DDDo","dayOfYear"),ce("dayOfYear","DDD"),Se("dayOfYear",4),me("DDD",Vc),me("DDDD",t1),tt(["DDD","DDDD"],function(u,y,k){k._dayOfYear=Me(u)});function WN(u){var y=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return u==null?y:this.add(u-y,"d")}q("m",["mm",2],0,"minute"),ce("minute","m"),Se("minute",14),me("m",lt),me("mm",lt,Hn),tt(["m","mm"],wr);var HN=it("Minutes",!1);q("s",["ss",2],0,"second"),ce("second","s"),Se("second",15),me("s",lt),me("ss",lt,Hn),tt(["s","ss"],ii);var YN=it("Seconds",!1);q("S",0,0,function(){return~~(this.millisecond()/100)}),q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,function(){return this.millisecond()*10}),q(0,["SSSSS",5],0,function(){return this.millisecond()*100}),q(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),q(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),q(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),q(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),ce("millisecond","ms"),Se("millisecond",16),me("S",Vc,e1),me("SS",Vc,Hn),me("SSS",Vc,t1);var Bi,M1;for(Bi="SSSS";Bi.length<=9;Bi+="S")me(Bi,Lo);function GN(u,y){y[Vs]=Me(("0."+u)*1e3)}for(Bi="S";Bi.length<=9;Bi+="S")tt(Bi,GN);M1=it("Milliseconds",!1),q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");function KN(){return this._isUTC?"UTC":""}function QN(){return this._isUTC?"Coordinated Universal Time":""}var le=I.prototype;le.add=BR,le.calendar=KR,le.clone=QR,le.diff=rN,le.endOf=dN,le.format=aN,le.from=lN,le.fromNow=uN,le.to=cN,le.toNow=fN,le.get=XA,le.invalidAt=TN,le.isAfter=ZR,le.isBefore=XR,le.isBetween=JR,le.isSame=eN,le.isSameOrAfter=tN,le.isSameOrBefore=nN,le.isValid=wN,le.lang=O1,le.locale=I1,le.localeData=A1,le.max=wR,le.min=_R,le.parsingFlags=EN,le.set=JA,le.startOf=hN,le.subtract=zR,le.toArray=yN,le.toObject=vN,le.toDate=gN,le.toISOString=sN,le.inspect=oN,typeof Symbol<"u"&&Symbol.for!=null&&(le[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),le.toJSON=_N,le.toString=iN,le.unix=mN,le.valueOf=pN,le.creationData=SN,le.eraName=IN,le.eraNarrow=ON,le.eraAbbr=AN,le.eraYear=PN,le.year=u1,le.isLeapYear=vP,le.weekYear=jN,le.isoWeekYear=VN,le.quarter=le.quarters=qN,le.month=a1,le.daysInMonth=mP,le.week=le.weeks=kP,le.isoWeek=le.isoWeeks=bP,le.weeksInYear=$N,le.weeksInWeekYear=BN,le.isoWeeksInYear=FN,le.isoWeeksInISOWeekYear=UN,le.date=D1,le.day=le.days=VP,le.weekday=FP,le.isoWeekday=UP,le.dayOfYear=WN,le.hour=le.hours=YP,le.minute=le.minutes=HN,le.second=le.seconds=YN,le.millisecond=le.milliseconds=M1,le.utcOffset=AR,le.utc=RR,le.local=NR,le.parseZone=CR,le.hasAlignedHourOffset=DR,le.isDST=MR,le.isLocal=jR,le.isUtcOffset=VR,le.isUtc=T1,le.isUTC=T1,le.zoneAbbr=KN,le.zoneName=QN,le.dates=b("dates accessor is deprecated. Use date instead.",D1),le.months=b("months accessor is deprecated. Use month instead",a1),le.years=b("years accessor is deprecated. Use year instead",u1),le.zone=b("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",PR),le.isDSTShifted=b("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",LR);function ZN(u){return ut(u*1e3)}function XN(){return ut.apply(null,arguments).parseZone()}function L1(u){return u}var Ge=H.prototype;Ge.calendar=z,Ge.longDateFormat=pe,Ge.invalidDate=Ae,Ge.ordinal=un,Ge.preparse=L1,Ge.postformat=L1,Ge.relativeTime=te,Ge.pastFuture=ne,Ge.set=j,Ge.eras=kN,Ge.erasParse=bN,Ge.erasConvertYear=xN,Ge.erasAbbrRegex=NN,Ge.erasNameRegex=RN,Ge.erasNarrowRegex=CN,Ge.months=fP,Ge.monthsShort=hP,Ge.monthsParse=pP,Ge.monthsRegex=yP,Ge.monthsShortRegex=gP,Ge.week=wP,Ge.firstDayOfYear=SP,Ge.firstDayOfWeek=TP,Ge.weekdays=CP,Ge.weekdaysMin=MP,Ge.weekdaysShort=DP,Ge.weekdaysParse=jP,Ge.weekdaysRegex=$P,Ge.weekdaysShortRegex=BP,Ge.weekdaysMinRegex=zP,Ge.isPM=WP,Ge.meridiem=GP;function Jc(u,y,k,O){var L=oi(),W=w().set(O,y);return L[k](W,u)}function j1(u,y,k){if(f(u)&&(y=u,u=void 0),u=u||"",y!=null)return Jc(u,y,k,"month");var O,L=[];for(O=0;O<12;O++)L[O]=Jc(u,O,k,"month");return L}function nm(u,y,k,O){typeof u=="boolean"?(f(y)&&(k=y,y=void 0),y=y||""):(y=u,k=y,u=!1,f(y)&&(k=y,y=void 0),y=y||"");var L=oi(),W=u?L._week.dow:0,ee,Ee=[];if(k!=null)return Jc(y,(k+W)%7,O,"day");for(ee=0;ee<7;ee++)Ee[ee]=Jc(y,(ee+W)%7,O,"day");return Ee}function JN(u,y){return j1(u,y,"months")}function eC(u,y){return j1(u,y,"monthsShort")}function tC(u,y,k){return nm(u,y,k,"weekdays")}function nC(u,y,k){return nm(u,y,k,"weekdaysShort")}function rC(u,y,k){return nm(u,y,k,"weekdaysMin")}$i("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(u){var y=u%10,k=Me(u%100/10)===1?"th":y===1?"st":y===2?"nd":y===3?"rd":"th";return u+k}}),r.lang=b("moment.lang is deprecated. Use moment.locale instead.",$i),r.langData=b("moment.langData is deprecated. Use moment.localeData instead.",oi);var ai=Math.abs;function iC(){var u=this._data;return this._milliseconds=ai(this._milliseconds),this._days=ai(this._days),this._months=ai(this._months),u.milliseconds=ai(u.milliseconds),u.seconds=ai(u.seconds),u.minutes=ai(u.minutes),u.hours=ai(u.hours),u.months=ai(u.months),u.years=ai(u.years),this}function V1(u,y,k,O){var L=Er(y,k);return u._milliseconds+=O*L._milliseconds,u._days+=O*L._days,u._months+=O*L._months,u._bubble()}function sC(u,y){return V1(this,u,y,1)}function oC(u,y){return V1(this,u,y,-1)}function F1(u){return u<0?Math.floor(u):Math.ceil(u)}function aC(){var u=this._milliseconds,y=this._days,k=this._months,O=this._data,L,W,ee,Ee,Le;return u>=0&&y>=0&&k>=0||u<=0&&y<=0&&k<=0||(u+=F1(rm(k)+y)*864e5,y=0,k=0),O.milliseconds=u%1e3,L=Fe(u/1e3),O.seconds=L%60,W=Fe(L/60),O.minutes=W%60,ee=Fe(W/60),O.hours=ee%24,y+=Fe(ee/24),Le=Fe(U1(y)),k+=Le,y-=F1(rm(Le)),Ee=Fe(k/12),k%=12,O.days=y,O.months=k,O.years=Ee,this}function U1(u){return u*4800/146097}function rm(u){return u*146097/4800}function lC(u){if(!this.isValid())return NaN;var y,k,O=this._milliseconds;if(u=re(u),u==="month"||u==="quarter"||u==="year")switch(y=this._days+O/864e5,k=this._months+U1(y),u){case"month":return k;case"quarter":return k/3;case"year":return k/12}else switch(y=this._days+Math.round(rm(this._months)),u){case"week":return y/7+O/6048e5;case"day":return y+O/864e5;case"hour":return y*24+O/36e5;case"minute":return y*1440+O/6e4;case"second":return y*86400+O/1e3;case"millisecond":return Math.floor(y*864e5)+O;default:throw new Error("Unknown unit "+u)}}function uC(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Me(this._months/12)*31536e6:NaN}function li(u){return function(){return this.as(u)}}var cC=li("ms"),fC=li("s"),hC=li("m"),dC=li("h"),pC=li("d"),mC=li("w"),gC=li("M"),yC=li("Q"),vC=li("y");function _C(){return Er(this)}function wC(u){return u=re(u),this.isValid()?this[u+"s"]():NaN}function Us(u){return function(){return this.isValid()?this._data[u]:NaN}}var EC=Us("milliseconds"),TC=Us("seconds"),SC=Us("minutes"),kC=Us("hours"),bC=Us("days"),xC=Us("months"),IC=Us("years");function OC(){return Fe(this.days()/7)}var ui=Math.round,Uo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function AC(u,y,k,O,L){return L.relativeTime(y||1,!!k,u,O)}function PC(u,y,k,O){var L=Er(u).abs(),W=ui(L.as("s")),ee=ui(L.as("m")),Ee=ui(L.as("h")),Le=ui(L.as("d")),nt=ui(L.as("M")),In=ui(L.as("w")),ci=ui(L.as("y")),zi=W<=k.ss&&["s",W]||W<k.s&&["ss",W]||ee<=1&&["m"]||ee<k.m&&["mm",ee]||Ee<=1&&["h"]||Ee<k.h&&["hh",Ee]||Le<=1&&["d"]||Le<k.d&&["dd",Le];return k.w!=null&&(zi=zi||In<=1&&["w"]||In<k.w&&["ww",In]),zi=zi||nt<=1&&["M"]||nt<k.M&&["MM",nt]||ci<=1&&["y"]||["yy",ci],zi[2]=y,zi[3]=+u>0,zi[4]=O,AC.apply(null,zi)}function RC(u){return u===void 0?ui:typeof u=="function"?(ui=u,!0):!1}function NC(u,y){return Uo[u]===void 0?!1:y===void 0?Uo[u]:(Uo[u]=y,u==="s"&&(Uo.ss=y-1),!0)}function CC(u,y){if(!this.isValid())return this.localeData().invalidDate();var k=!1,O=Uo,L,W;return typeof u=="object"&&(y=u,u=!1),typeof u=="boolean"&&(k=u),typeof y=="object"&&(O=Object.assign({},Uo,y),y.s!=null&&y.ss==null&&(O.ss=y.s-1)),L=this.localeData(),W=PC(this,!k,O,L),k&&(W=L.pastFuture(+this,W)),L.postformat(W)}var im=Math.abs;function $o(u){return(u>0)-(u<0)||+u}function ef(){if(!this.isValid())return this.localeData().invalidDate();var u=im(this._milliseconds)/1e3,y=im(this._days),k=im(this._months),O,L,W,ee,Ee=this.asSeconds(),Le,nt,In,ci;return Ee?(O=Fe(u/60),L=Fe(O/60),u%=60,O%=60,W=Fe(k/12),k%=12,ee=u?u.toFixed(3).replace(/\.?0+$/,""):"",Le=Ee<0?"-":"",nt=$o(this._months)!==$o(Ee)?"-":"",In=$o(this._days)!==$o(Ee)?"-":"",ci=$o(this._milliseconds)!==$o(Ee)?"-":"",Le+"P"+(W?nt+W+"Y":"")+(k?nt+k+"M":"")+(y?In+y+"D":"")+(L||O||u?"T":"")+(L?ci+L+"H":"")+(O?ci+O+"M":"")+(u?ci+ee+"S":"")):"P0D"}var ze=Yc.prototype;ze.isValid=bR,ze.abs=iC,ze.add=sC,ze.subtract=oC,ze.as=lC,ze.asMilliseconds=cC,ze.asSeconds=fC,ze.asMinutes=hC,ze.asHours=dC,ze.asDays=pC,ze.asWeeks=mC,ze.asMonths=gC,ze.asQuarters=yC,ze.asYears=vC,ze.valueOf=uC,ze._bubble=aC,ze.clone=_C,ze.get=wC,ze.milliseconds=EC,ze.seconds=TC,ze.minutes=SC,ze.hours=kC,ze.days=bC,ze.weeks=OC,ze.months=xC,ze.years=IC,ze.humanize=CC,ze.toISOString=ef,ze.toString=ef,ze.toJSON=ef,ze.locale=I1,ze.localeData=A1,ze.toIsoString=b("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ef),ze.lang=O1,q("X",0,0,"unix"),q("x",0,0,"valueOf"),me("x",Uc),me("X",tP),tt("X",function(u,y,k){k._d=new Date(parseFloat(u)*1e3)}),tt("x",function(u,y,k){k._d=new Date(Me(u))});//! moment.js
return r.version="2.29.4",i(ut),r.fn=le,r.min=ER,r.max=TR,r.now=SR,r.utc=w,r.unix=ZN,r.months=JN,r.isDate=h,r.locale=$i,r.invalid=T,r.duration=Er,r.isMoment=x,r.weekdays=tC,r.parseZone=XN,r.localeData=oi,r.isDuration=Gc,r.monthsShort=eC,r.weekdaysMin=rC,r.defineLocale=Wp,r.updateLocale=XP,r.locales=JP,r.weekdaysShort=nC,r.normalizeUnits=re,r.relativeTimeRounding=RC,r.relativeTimeThreshold=NC,r.calendarFormat=GR,r.prototype=le,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r})})(Hk);var uL=Hk.exports;const Yk=$a(uL);var Gk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},sE=We.createContext&&We.createContext(Gk),gs=globalThis&&globalThis.__assign||function(){return gs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},gs.apply(this,arguments)},cL=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Kk(t){return t&&t.map(function(e,n){return We.createElement(e.tag,gs({key:n},e.attr),Kk(e.child))})}function st(t){return function(e){return We.createElement(fL,gs({attr:gs({},t.attr)},e),Kk(t.child))}}function fL(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=cL(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),We.createElement("svg",gs({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:gs(gs({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&We.createElement("title",null,s),t.children)};return sE!==void 0?We.createElement(sE.Consumer,null,function(n){return e(n)}):e(Gk)}function hL(t){return st({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Save_Down_2"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M18.437,20.948H5.563a2.372,2.372,0,0,1-2.5-2.21v-11a2.372,2.372,0,0,1,2.5-2.211h.462a.5.5,0,0,1,0,1H5.563a1.38,1.38,0,0,0-1.5,1.211v11a1.38,1.38,0,0,0,1.5,1.21H18.437a1.38,1.38,0,0,0,1.5-1.21v-11a1.38,1.38,0,0,0-1.5-1.211h-.462a.5.5,0,0,1,0-1h.462a2.372,2.372,0,0,1,2.5,2.211v11A2.372,2.372,0,0,1,18.437,20.948Z"}},{tag:"path",attr:{d:"M15.355,10.592l-3,3a.5.5,0,0,1-.35.15.508.508,0,0,1-.36-.15l-3-3a.5.5,0,0,1,.71-.71l2.14,2.139V3.552a.508.508,0,0,1,.5-.5.5.5,0,0,1,.5.5v8.49l2.15-2.16a.5.5,0,0,1,.71.71Z"}}]}]}]})(t)}function Qk(t){return st({tag:"svg",attr:{version:"1.1",id:"search",x:"0px",y:"0px",viewBox:"0 0 24 24",style:"enable-background:new 0 0 24 24;"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:`M20.031,20.79c0.46,0.46,1.17-0.25,0.71-0.7l-3.75-3.76c1.27-1.41,2.04-3.27,2.04-5.31
		c0-4.39-3.57-7.96-7.96-7.96s-7.96,3.57-7.96,7.96c0,4.39,3.57,7.96,7.96,7.96c1.98,0,3.81-0.73,5.21-1.94L20.031,20.79z
		 M4.11,11.02c0-3.84,3.13-6.96,6.96-6.96c3.84,0,6.96,3.12,6.96,6.96c0,3.84-3.12,6.96-6.96,6.96C7.24,17.98,4.11,14.86,4.11,11.02
		z`}}]}]})(t)}function dL(t){return st({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Share_1"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12.223,11.075a.5.5,0,0,0,.7.71l7-7v3.58a.508.508,0,0,0,.5.5.5.5,0,0,0,.5-.5V3.575a.5.5,0,0,0-.5-.5h-4.79a.5.5,0,0,0,0,1h3.58Z"}},{tag:"path",attr:{d:"M17.876,20.926H6.124a3.053,3.053,0,0,1-3.05-3.05V6.124a3.053,3.053,0,0,1,3.05-3.05h6.028a.5.5,0,0,1,0,1H6.124a2.053,2.053,0,0,0-2.05,2.05V17.876a2.053,2.053,0,0,0,2.05,2.05H17.876a2.053,2.053,0,0,0,2.05-2.05V11.849a.5.5,0,0,1,1,0v6.027A3.053,3.053,0,0,1,17.876,20.926Z"}}]}]}]})(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Xk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,f=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(d=64)),r.push(n[f],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Zk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new mL;const d=s<<2|a>>4;if(r.push(d),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gL=function(t){const e=Zk(t);return Xk.encodeByteArray(e,!0)},Dh=function(t){return gL(t).replace(/\./g,"")},Jk=function(t){try{return Xk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=()=>yL().__FIREBASE_DEFAULTS__,_L=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Jk(t[1]);return e&&JSON.parse(e)},Nd=()=>{try{return vL()||_L()||wL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eb=t=>{var e,n;return(n=(e=Nd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tb=t=>{const e=eb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nb=()=>{var t;return(t=Nd())===null||t===void 0?void 0:t.config},rb=t=>{var e;return(e=Nd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Dh(JSON.stringify(n)),Dh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function SL(){var t;const e=(t=Nd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xL(){const t=Tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IL(){try{return typeof indexedDB=="object"}catch{return!1}}function OL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL="FirebaseError";class ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AL,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uc.prototype.create)}}class uc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?PL(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ei(i,a,r)}}function PL(t,e){return t.replace(RL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const RL=/\{\$([^}]+)}/g;function NL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(oE(s)&&oE(o)){if(!Mh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function oE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Vl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function CL(t,e){const n=new DL(t,e);return n.subscribe.bind(n)}class DL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ML(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Nm),i.error===void 0&&(i.error=Nm),i.complete===void 0&&(i.complete=Nm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ML(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){return t&&t._delegate?t._delegate:t}class ks{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new EL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VL(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jL(t){return t===qs?void 0:t}function VL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const UL={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},$L=Be.INFO,BL={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},zL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=BL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class o0{constructor(e){this.name=e,this._logLevel=$L,this._logHandler=zL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const qL=(t,e)=>e.some(n=>t instanceof n);let aE,lE;function WL(){return aE||(aE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HL(){return lE||(lE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sb=new WeakMap,fy=new WeakMap,ob=new WeakMap,Cm=new WeakMap,a0=new WeakMap;function YL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ys(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sb.set(n,t)}).catch(()=>{}),a0.set(e,t),e}function GL(t){if(fy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fy.set(t,e)}let hy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ob.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ys(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KL(t){hy=t(hy)}function QL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Dm(this),e,...n);return ob.set(r,e.sort?e.sort():[e]),ys(r)}:HL().includes(t)?function(...e){return t.apply(Dm(this),e),ys(sb.get(this))}:function(...e){return ys(t.apply(Dm(this),e))}}function ZL(t){return typeof t=="function"?QL(t):(t instanceof IDBTransaction&&GL(t),qL(t,WL())?new Proxy(t,hy):t)}function ys(t){if(t instanceof IDBRequest)return YL(t);if(Cm.has(t))return Cm.get(t);const e=ZL(t);return e!==t&&(Cm.set(t,e),a0.set(e,t)),e}const Dm=t=>a0.get(t);function XL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ys(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ys(o.result),l.oldVersion,l.newVersion,ys(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const JL=["get","getKey","getAll","getAllKeys","count"],e5=["put","add","delete","clear"],Mm=new Map;function uE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mm.get(e))return Mm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=e5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Mm.set(e,s),s}KL(t=>({...t,get:(e,n,r)=>uE(e,n)||t.get(e,n,r),has:(e,n)=>!!uE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(n5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function n5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dy="@firebase/app",cE="0.9.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=new o0("@firebase/app"),r5="@firebase/app-compat",i5="@firebase/analytics-compat",s5="@firebase/analytics",o5="@firebase/app-check-compat",a5="@firebase/app-check",l5="@firebase/auth",u5="@firebase/auth-compat",c5="@firebase/database",f5="@firebase/database-compat",h5="@firebase/functions",d5="@firebase/functions-compat",p5="@firebase/installations",m5="@firebase/installations-compat",g5="@firebase/messaging",y5="@firebase/messaging-compat",v5="@firebase/performance",_5="@firebase/performance-compat",w5="@firebase/remote-config",E5="@firebase/remote-config-compat",T5="@firebase/storage",S5="@firebase/storage-compat",k5="@firebase/firestore",b5="@firebase/firestore-compat",x5="firebase",I5="10.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="[DEFAULT]",O5={[dy]:"fire-core",[r5]:"fire-core-compat",[s5]:"fire-analytics",[i5]:"fire-analytics-compat",[a5]:"fire-app-check",[o5]:"fire-app-check-compat",[l5]:"fire-auth",[u5]:"fire-auth-compat",[c5]:"fire-rtdb",[f5]:"fire-rtdb-compat",[h5]:"fire-fn",[d5]:"fire-fn-compat",[p5]:"fire-iid",[m5]:"fire-iid-compat",[g5]:"fire-fcm",[y5]:"fire-fcm-compat",[v5]:"fire-perf",[_5]:"fire-perf-compat",[w5]:"fire-rc",[E5]:"fire-rc-compat",[T5]:"fire-gcs",[S5]:"fire-gcs-compat",[k5]:"fire-fst",[b5]:"fire-fst-compat","fire-js":"fire-js",[x5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new Map,my=new Map;function A5(t,e){try{t.container.addComponent(e)}catch(n){ho.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function po(t){const e=t.name;if(my.has(e))return ho.debug(`There were multiple attempts to register component ${e}.`),!1;my.set(e,t);for(const n of Lh.values())A5(n,t);return!0}function Cd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},vs=new uc("app","Firebase",P5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=I5;function ab(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:py,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw vs.create("bad-app-name",{appName:String(i)});if(n||(n=nb()),!n)throw vs.create("no-options");const s=Lh.get(i);if(s){if(Mh(n,s.options)&&Mh(r,s.config))return s;throw vs.create("duplicate-app",{appName:i})}const o=new FL(i);for(const l of my.values())o.addComponent(l);const a=new R5(n,r,o);return Lh.set(i,a),a}function l0(t=py){const e=Lh.get(t);if(!e&&t===py&&nb())return ab();if(!e)throw vs.create("no-app",{appName:t});return e}function Yr(t,e,n){var r;let i=(r=O5[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ho.warn(a.join(" "));return}po(new ks(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5="firebase-heartbeat-database",C5=1,Pu="firebase-heartbeat-store";let Lm=null;function lb(){return Lm||(Lm=XL(N5,C5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Pu)}}}).catch(t=>{throw vs.create("idb-open",{originalErrorMessage:t.message})})),Lm}async function D5(t){try{return await(await lb()).transaction(Pu).objectStore(Pu).get(ub(t))}catch(e){if(e instanceof ei)ho.warn(e.message);else{const n=vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ho.warn(n.message)}}}async function fE(t,e){try{const r=(await lb()).transaction(Pu,"readwrite");await r.objectStore(Pu).put(e,ub(t)),await r.done}catch(n){if(n instanceof ei)ho.warn(n.message);else{const r=vs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ho.warn(r.message)}}}function ub(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=1024,L5=30*24*60*60*1e3;class j5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new F5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=hE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=L5}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=hE(),{heartbeatsToSend:n,unsentEntries:r}=V5(this._heartbeatsCache.heartbeats),i=Dh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function hE(){return new Date().toISOString().substring(0,10)}function V5(t,e=M5){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),dE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class F5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IL()?OL().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await D5(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dE(t){return Dh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t){po(new ks("platform-logger",e=>new t5(e),"PRIVATE")),po(new ks("heartbeat",e=>new j5(e),"PRIVATE")),Yr(dy,cE,t),Yr(dy,cE,"esm2017"),Yr("fire-js","")}U5("");function u0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pE(t){return t!==void 0&&t.enterprise!==void 0}class $5{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function cb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const B5=cb,fb=new uc("auth","Firebase",cb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new o0("@firebase/auth");function z5(t,...e){jh.logLevel<=Be.WARN&&jh.warn(`Auth (${xo}): ${t}`,...e)}function Kf(t,...e){jh.logLevel<=Be.ERROR&&jh.error(`Auth (${xo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,...e){throw c0(t,...e)}function Gr(t,...e){return c0(t,...e)}function hb(t,e,n){const r=Object.assign(Object.assign({},B5()),{[e]:n});return new uc("auth","Firebase",r).create(e,{appName:t.name})}function q5(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&yr(t,"argument-error"),hb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function c0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fb.create(t,...e)}function xe(t,e,...n){if(!t)throw c0(e,...n)}function _i(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kf(e),new Error(e)}function Ri(t,e){t||_i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function W5(){return mE()==="http:"||mE()==="https:"}function mE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W5()||kL()||"connection"in navigator)?navigator.onLine:!0}function Y5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=TL()||bL()}get(){return H5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(t,e){Ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;_i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;_i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;_i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=new fc(3e4,6e4);function Io(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Oo(t,e,n,r,i={}){return pb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=cc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),db.fetch()(mb(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function pb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},G5),e);try{const i=new Q5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _f(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _f(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw _f(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw _f(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw hb(t,f,c);yr(t,f)}}catch(i){if(i instanceof ei)throw i;yr(t,"network-request-failed",{message:String(i)})}}async function hc(t,e,n,r,i={}){const s=await Oo(t,e,n,r,i);return"mfaPendingCredential"in s&&yr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function mb(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?f0(t.config,i):`${t.config.apiScheme}://${i}`}class Q5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gr(this.auth,"network-request-failed")),K5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _f(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gr(t,e,r);return i.customData._tokenResponse=n,i}async function Z5(t,e){return Oo(t,"GET","/v2/recaptchaConfig",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X5(t,e){return Oo(t,"POST","/v1/accounts:delete",e)}async function J5(t,e){return Oo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e3(t,e=!1){const n=It(t),r=await n.getIdToken(e),i=h0(r);xe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:eu(jm(i.auth_time)),issuedAtTime:eu(jm(i.iat)),expirationTime:eu(jm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function jm(t){return Number(t)*1e3}function h0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Jk(n);return i?JSON.parse(i):(Kf("Failed to decode base64 JWT payload"),null)}catch(i){return Kf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function t3(t){const e=h0(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ei&&n3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function n3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ru(t,J5(n,{idToken:r}));xe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?o3(s.providerUserInfo):[],a=s3(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new gb(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function i3(t){const e=It(t);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function o3(t){return t.map(e=>{var{providerId:n}=e,r=u0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(t,e){const n=await pb(t,{},async()=>{const r=cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=mb(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",db.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return xe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await a3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Nu;return r&&(xe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(xe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(xe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nu,this.toJSON())}_performRefresh(){return _i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ro{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=u0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new r3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new gb(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ru(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return e3(this,e)}reload(){return i3(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ro(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ru(this,X5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:T,emailVerified:v,isAnonymous:S,providerData:P,stsTokenManager:I}=n;xe(T&&I,e,"internal-error");const x=Nu.fromJSON(this.name,I);xe(typeof T=="string",e,"internal-error"),Wi(h,e.name),Wi(d,e.name),xe(typeof v=="boolean",e,"internal-error"),xe(typeof S=="boolean",e,"internal-error"),Wi(p,e.name),Wi(w,e.name),Wi(E,e.name),Wi(_,e.name),Wi(g,e.name),Wi(m,e.name);const N=new ro({uid:T,auth:e,email:d,emailVerified:v,displayName:h,isAnonymous:S,photoURL:w,phoneNumber:p,tenantId:E,stsTokenManager:x,createdAt:g,lastLoginAt:m});return P&&Array.isArray(P)&&(N.providerData=P.map(b=>Object.assign({},b))),_&&(N._redirectEventId=_),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Nu;i.updateFromServerResponse(n);const s=new ro({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Map;function wi(t){Ri(t instanceof Function,"Expected a class definition");let e=gE.get(t);return e?(Ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yb.type="NONE";const yE=yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t,e,n){return`firebase:${t}:${e}:${n}`}class ga{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Qf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ro._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ga(wi(yE),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||wi(yE);const o=Qf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(o);if(f){const h=ro._fromJSON(e,f);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ga(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ga(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Tb(e))return"Blackberry";if(Sb(e))return"Webos";if(d0(e))return"Safari";if((e.includes("chrome/")||_b(e))&&!e.includes("edge/"))return"Chrome";if(Eb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vb(t=Tn()){return/firefox\//i.test(t)}function d0(t=Tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _b(t=Tn()){return/crios\//i.test(t)}function wb(t=Tn()){return/iemobile/i.test(t)}function Eb(t=Tn()){return/android/i.test(t)}function Tb(t=Tn()){return/blackberry/i.test(t)}function Sb(t=Tn()){return/webos/i.test(t)}function Dd(t=Tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function l3(t=Tn()){var e;return Dd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function u3(){return xL()&&document.documentMode===10}function kb(t=Tn()){return Dd(t)||Eb(t)||Sb(t)||Tb(t)||/windows phone/i.test(t)||wb(t)}function c3(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(t,e=[]){let n;switch(t){case"Browser":n=vE(Tn());break;case"Worker":n=`${vE(Tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h3(t,e={}){return Oo(t,"GET","/v2/passwordPolicy",Io(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=6;class p3{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:d3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _E(this),this.idTokenSubscription=new _E(this),this.beforeStateQueue=new f3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ga.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?It(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h3(this),n=new p3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wi(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await ga.create(this,[wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&z5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ds(t){return It(t)}class _E{constructor(e){this.auth=e,this.observer=null,this.addObserver=CL(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function xb(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Gr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",g3().appendChild(r)})}function y3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const v3="https://www.google.com/recaptcha/enterprise.js?render=",_3="recaptcha-enterprise",w3="NO_RECAPTCHA";class E3{constructor(e){this.type=_3,this.auth=Ds(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Z5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new $5(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;pE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(w3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&pE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}xb(v3+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Fh(t,e,n,r=!1){const i=new E3(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(t,e){const n=Cd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Mh(s,e??{}))return i;yr(i,"already-initialized")}return n.initialize({options:e})}function S3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function k3(t,e,n){const r=Ds(t);xe(r._canInitEmulator,r,"emulator-config-failed"),xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Ib(e),{host:o,port:a}=b3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||x3()}function Ib(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function b3(t){const e=Ib(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:wE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:wE(o)}}}function wE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function x3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _i("not implemented")}_getIdTokenResponse(e){return _i("not implemented")}_linkToIdToken(e,n){return _i("not implemented")}_getReauthenticationResolver(e){return _i("not implemented")}}async function I3(t,e){return Oo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vm(t,e){return hc(t,"POST","/v1/accounts:signInWithPassword",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O3(t,e){return hc(t,"POST","/v1/accounts:signInWithEmailLink",Io(t,e))}async function A3(t,e){return hc(t,"POST","/v1/accounts:signInWithEmailLink",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends p0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Cu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Cu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Fh(e,r,"signInWithPassword");return Vm(e,i)}else return Vm(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Fh(e,r,"signInWithPassword");return Vm(e,s)}else return Promise.reject(i)});case"emailLink":return O3(e,{email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return I3(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return A3(e,{idToken:n,email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(t,e){return hc(t,"POST","/v1/accounts:signInWithIdp",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="http://localhost";class mo extends p0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=u0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new mo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ya(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ya(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ya(e,n)}buildRequest(){const e={requestUri:P3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N3(t){const e=jl(Vl(t)).link,n=e?jl(Vl(e)).deep_link_id:null,r=jl(Vl(t)).deep_link_id;return(r?jl(Vl(r)).link:null)||r||n||e||t}class m0{constructor(e){var n,r,i,s,o,a;const l=jl(Vl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,h=R3((i=l.mode)!==null&&i!==void 0?i:null);xe(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=N3(e);try{return new m0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.providerId=Ya.PROVIDER_ID}static credential(e,n){return Cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=m0.parseLink(n);return xe(r,"argument-error"),Cu._fromEmailAndCode(e,r.code,r.tenantId)}}Ya.PROVIDER_ID="password";Ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends g0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends dc{constructor(){super("facebook.com")}static credential(e){return mo._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mo._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return gi.credential(n,r)}catch{return null}}}gi.GOOGLE_SIGN_IN_METHOD="google.com";gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends dc{constructor(){super("github.com")}static credential(e){return mo._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends dc{constructor(){super("twitter.com")}static credential(e,n){return mo._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xi.credential(n,r)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fm(t,e){return hc(t,"POST","/v1/accounts:signUp",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ro._fromIdTokenResponse(e,r,i),o=EE(r);return new go({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=EE(r);return new go({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function EE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends ei{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Uh(e,n,r,i)}}function Ob(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(t,s,e,r):s})}async function C3(t,e,n=!1){const r=await Ru(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return go._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ru(t,Ob(r,i,e,t),n);xe(s.idToken,r,"internal-error");const o=h0(s.idToken);xe(o,r,"internal-error");const{sub:a}=o;return xe(t.uid===a,r,"user-mismatch"),go._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&yr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ab(t,e,n=!1){const r="signIn",i=await Ob(t,r,e),s=await go._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function M3(t,e){return Ab(Ds(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pb(t){const e=Ds(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function L3(t,e,n){var r;const i=Ds(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await Fh(i,s,"signUpPassword");o=Fm(i,c)}else o=Fm(i,s).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const f=await Fh(i,s,"signUpPassword");return Fm(i,f)}throw c});const a=await o.catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Pb(t),c}),l=await go._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function j3(t,e,n){return M3(It(t),Ya.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Pb(t),r})}function V3(t,e,n,r){return It(t).onIdTokenChanged(e,n,r)}function F3(t,e,n){return It(t).beforeAuthStateChanged(e,n)}function U3(t,e,n,r){return It(t).onAuthStateChanged(e,n,r)}function $3(t){return It(t).signOut()}const $h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($h,"1"),this.storage.removeItem($h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(){const t=Tn();return d0(t)||Dd(t)}const z3=1e3,q3=10;class Nb extends Rb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=B3()&&c3(),this.fallbackToPolling=kb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);u3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,q3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},z3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nb.type="LOCAL";const W3=Nb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb extends Rb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Cb.type="SESSION";const Db=Cb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Md(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await H3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=y0("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return window}function G3(t){Kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function K3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Z3(){return Mb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="firebaseLocalStorageDb",X3=1,Bh="firebaseLocalStorage",jb="fbase_key";class pc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ld(t,e){return t.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function J3(){const t=indexedDB.deleteDatabase(Lb);return new pc(t).toPromise()}function yy(){const t=indexedDB.open(Lb,X3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bh,{keyPath:jb})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bh)?e(r):(r.close(),await J3(),e(await yy()))})})}async function TE(t,e,n){const r=Ld(t,!0).put({[jb]:e,value:n});return new pc(r).toPromise()}async function e6(t,e){const n=Ld(t,!1).get(e),r=await new pc(n).toPromise();return r===void 0?null:r.value}function SE(t,e){const n=Ld(t,!0).delete(e);return new pc(n).toPromise()}const t6=800,n6=3;class Vb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>n6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Md._getInstance(Z3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await K3(),!this.activeServiceWorker)return;this.sender=new Y3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yy();return await TE(e,$h,"1"),await SE(e,$h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>TE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>e6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ld(i,!1).getAll();return new pc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vb.type="LOCAL";const r6=Vb;new fc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t,e){return e?wi(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends p0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ya(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ya(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function i6(t){return Ab(t.auth,new v0(t),t.bypassAuthState)}function s6(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),D3(n,new v0(t),t.bypassAuthState)}async function o6(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),C3(n,new v0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i6;case"linkViaPopup":case"linkViaRedirect":return o6;case"reauthViaPopup":case"reauthViaRedirect":return s6;default:yr(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=new fc(2e3,1e4);async function l6(t,e,n){const r=Ds(t);q5(t,e,g0);const i=Fb(r,n);return new Qs(r,"signInViaPopup",e,i).executeNotNull()}class Qs extends Ub{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Qs.currentPopupAction&&Qs.currentPopupAction.cancel(),Qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=y0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,a6.get())};e()}}Qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6="pendingRedirect",Zf=new Map;class c6 extends Ub{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zf.get(this.auth._key());if(!e){try{const r=await f6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zf.set(this.auth._key(),e)}return this.bypassAuthState||Zf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f6(t,e){const n=p6(e),r=d6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function h6(t,e){Zf.set(t._key(),e)}function d6(t){return wi(t._redirectPersistence)}function p6(t){return Qf(u6,t.config.apiKey,t.name)}async function m6(t,e,n=!1){const r=Ds(t),i=Fb(r,e),o=await new c6(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=10*60*1e3;class y6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$b(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=g6&&this.cachedEventUids.clear(),this.cachedEventUids.has(kE(e))}saveEventToCache(e){this.cachedEventUids.add(kE(e)),this.lastProcessedEventTime=Date.now()}}function kE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $b({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function v6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $b(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(t,e={}){return Oo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E6=/^https?/;async function T6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _6(t);for(const n of e)try{if(S6(n))return}catch{}yr(t,"unauthorized-domain")}function S6(t){const e=gy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!E6.test(n))return!1;if(w6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=new fc(3e4,6e4);function bE(){const t=Kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function b6(t){return new Promise((e,n)=>{var r,i,s;function o(){bE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bE(),n(Gr(t,"network-request-failed"))},timeout:k6.get()})}if(!((i=(r=Kr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Kr().gapi)===null||s===void 0)&&s.load)o();else{const a=y3("iframefcb");return Kr()[a]=()=>{gapi.load?o():n(Gr(t,"network-request-failed"))},xb(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Xf=null,e})}let Xf=null;function x6(t){return Xf=Xf||b6(t),Xf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=new fc(5e3,15e3),O6="__/auth/iframe",A6="emulator/auth/iframe",P6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N6(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?f0(e,A6):`https://${t.config.authDomain}/${O6}`,r={apiKey:e.apiKey,appName:t.name,v:xo},i=R6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${cc(r).slice(1)}`}async function C6(t){const e=await x6(t),n=Kr().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:N6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Gr(t,"network-request-failed"),a=Kr().setTimeout(()=>{s(o)},I6.get());function l(){Kr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M6=500,L6=600,j6="_blank",V6="http://localhost";class xE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function F6(t,e,n,r=M6,i=L6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},D6),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Tn().toLowerCase();n&&(a=_b(c)?j6:n),vb(c)&&(e=e||V6,l.scrollbars="yes");const f=Object.entries(l).reduce((d,[p,w])=>`${d}${p}=${w},`,"");if(l3(c)&&a!=="_self")return U6(e||"",a),new xE(null);const h=window.open(e||"",a,f);xe(h,t,"popup-blocked");try{h.focus()}catch{}return new xE(h)}function U6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6="__/auth/handler",B6="emulator/auth/handler",z6=encodeURIComponent("fac");async function IE(t,e,n,r,i,s){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xo,eventId:i};if(e instanceof g0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",NL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries(s||{}))o[f]=h}if(e instanceof dc){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),c=l?`#${z6}=${encodeURIComponent(l)}`:"";return`${q6(t)}?${cc(a).slice(1)}${c}`}function q6({config:t}){return t.emulator?f0(t,B6):`https://${t.authDomain}/${$6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="webStorageSupport";class W6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Db,this._completeRedirectFn=m6,this._overrideRedirectResult=h6}async _openPopup(e,n,r,i){var s;Ri((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await IE(e,n,r,gy(),i);return F6(e,o,y0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await IE(e,n,r,gy(),i);return G3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ri(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await C6(e),r=new y6(e);return n.register("authEvent",i=>(xe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Um,{type:Um},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Um];o!==void 0&&n(!!o),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kb()||d0()||Dd()}}const H6=W6;var OE="@firebase/auth",AE="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function K6(t){po(new ks("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;xe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bb(t)},c=new m3(r,i,s,l);return S3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),po(new ks("auth-internal",e=>{const n=Ds(e.getProvider("auth").getImmediate());return(r=>new Y6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(OE,AE,G6(t)),Yr(OE,AE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=5*60,Z6=rb("authIdTokenMaxAge")||Q6;let PE=null;const X6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Z6)return;const i=n==null?void 0:n.token;PE!==i&&(PE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function J6(t=l0()){const e=Cd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=T3(t,{popupRedirectResolver:H6,persistence:[r6,W3,Db]}),r=rb("authTokenSyncURL");if(r){const s=X6(r);F3(n,s,()=>s(n.currentUser)),V3(n,o=>s(o))}const i=eb("auth");return i&&k3(n,`http://${i}`),n}K6("Browser");var e9="firebase",t9="10.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yr(e9,t9,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="firebasestorage.googleapis.com",zb="storageBucket",n9=2*60*1e3,r9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt extends ei{constructor(e,n,r=0){super($m(e),`Firebase Storage: ${n} (${$m(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pt||(Pt={}));function $m(t){return"storage/"+t}function _0(){const t="An unknown error occurred, please check the error payload for server response.";return new Nt(Pt.UNKNOWN,t)}function i9(t){return new Nt(Pt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function s9(t){return new Nt(Pt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function o9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Nt(Pt.UNAUTHENTICATED,t)}function a9(){return new Nt(Pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function l9(t){return new Nt(Pt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function u9(){return new Nt(Pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function c9(){return new Nt(Pt.CANCELED,"User canceled the upload/download.")}function f9(t){return new Nt(Pt.INVALID_URL,"Invalid URL '"+t+"'.")}function h9(t){return new Nt(Pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function d9(){return new Nt(Pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zb+"' property when initializing the app?")}function p9(){return new Nt(Pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function m9(){return new Nt(Pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function g9(t){return new Nt(Pt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function vy(t){return new Nt(Pt.INVALID_ARGUMENT,t)}function qb(){return new Nt(Pt.APP_DELETED,"The Firebase app was deleted.")}function y9(t){return new Nt(Pt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tu(t,e){return new Nt(Pt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function bl(t){throw new Nt(Pt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Zn.makeFromUrl(e,n)}catch{return new Zn(e,"")}if(r.path==="")return r;throw h9(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(v){v.path.charAt(v.path.length-1)==="/"&&(v.path_=v.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(v){v.path_=decodeURIComponent(v.path)}const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${f}/b/${i}/o${d}`,"i"),w={bucket:1,path:3},E=n===Bb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",g=new RegExp(`^https?://${E}/${i}/${_}`,"i"),T=[{regex:a,indices:l,postModify:s},{regex:p,indices:w,postModify:c},{regex:g,indices:{bucket:1,path:2},postModify:c}];for(let v=0;v<T.length;v++){const S=T[v],P=S.regex.exec(e);if(P){const I=P[S.indices.bucket];let x=P[S.indices.path];x||(x=""),r=new Zn(I,x),S.postModify(r);break}}if(r==null)throw f9(e);return r}}class v9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function f(..._){c||(c=!0,e.apply(null,_))}function h(_){i=setTimeout(()=>{i=null,t(p,l())},_)}function d(){s&&clearTimeout(s)}function p(_,...g){if(c){d();return}if(_){d(),f.call(null,_,...g);return}if(l()||o){d(),f.call(null,_,...g);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,h(T)}let w=!1;function E(_){w||(w=!0,d(),!c&&(i!==null?(_||(a=2),clearTimeout(i),h(0)):_||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,E(!0)},n),E}function w9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t){return t!==void 0}function T9(t){return typeof t=="object"&&!Array.isArray(t)}function w0(t){return typeof t=="string"||t instanceof String}function RE(t){return E0()&&t instanceof Blob}function E0(){return typeof Blob<"u"&&!SL()}function NE(t,e,n,r){if(r<e)throw vy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw vy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Wb(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var io;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(io||(io={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e,n,r,i,s,o,a,l,c,f,h,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,w)=>{this.resolve_=p,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new wf(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===io.NO_ERROR,l=s.getStatus();if(!a||S9(l,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===io.ABORT;r(!1,new wf(!1,null,f));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new wf(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());E9(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=_0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?qb():c9();o(l)}else{const l=u9();o(l)}};this.canceled_?n(!1,new wf(!1,null,!0)):this.backoffId_=_9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&w9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function b9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function x9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function I9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function O9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function A9(t,e,n,r,i,s,o=!0){const a=Wb(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return I9(c,e),b9(c,n),x9(c,s),O9(c,r),new k9(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function R9(...t){const e=P9();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(E0())return new Blob(t);throw new Nt(Pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function N9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t){if(typeof atob>"u")throw g9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bm{constructor(e,n){this.data=e,this.contentType=n||null}}function D9(t,e){switch(t){case Br.RAW:return new Bm(Hb(e));case Br.BASE64:case Br.BASE64URL:return new Bm(Yb(t,e));case Br.DATA_URL:return new Bm(L9(e),j9(e))}throw _0()}function Hb(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function M9(t){let e;try{e=decodeURIComponent(t)}catch{throw tu(Br.DATA_URL,"Malformed data URL.")}return Hb(e)}function Yb(t,e){switch(t){case Br.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw tu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Br.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw tu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=C9(e)}catch(i){throw i.message.includes("polyfill")?i:tu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Gb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw tu(Br.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=V9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function L9(t){const e=new Gb(t);return e.base64?Yb(Br.BASE64,e.rest):M9(e.rest)}function j9(t){return new Gb(t).contentType}function V9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){let r=0,i="";RE(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(RE(this.data_)){const r=this.data_,i=N9(r,e,n);return i===null?null:new Ji(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ji(r,!0)}}static getBlob(...e){if(E0()){const n=e.map(r=>r instanceof Ji?r.data_:r);return new Ji(R9.apply(null,n))}else{const n=e.map(o=>w0(o)?D9(Br.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Ji(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t){let e;try{e=JSON.parse(t)}catch{return null}return T9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function U9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Qb(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(t,e){return e}class On{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||$9}}let Ef=null;function B9(t){return!w0(t)||t.length<2?t:Qb(t)}function Zb(){if(Ef)return Ef;const t=[];t.push(new On("bucket")),t.push(new On("generation")),t.push(new On("metageneration")),t.push(new On("name","fullPath",!0));function e(s,o){return B9(o)}const n=new On("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new On("size");return i.xform=r,t.push(i),t.push(new On("timeCreated")),t.push(new On("updated")),t.push(new On("md5Hash",null,!0)),t.push(new On("cacheControl",null,!0)),t.push(new On("contentDisposition",null,!0)),t.push(new On("contentEncoding",null,!0)),t.push(new On("contentLanguage",null,!0)),t.push(new On("contentType",null,!0)),t.push(new On("metadata","customMetadata",!0)),Ef=t,Ef}function z9(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Zn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function q9(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return z9(r,t),r}function Xb(t,e,n){const r=Kb(e);return r===null?null:q9(t,r,n)}function W9(t,e,n,r){const i=Kb(e);if(i===null||!w0(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const f=t.bucket,h=t.fullPath,d="/b/"+o(f)+"/o/"+o(h),p=T0(d,n,r),w=Wb({alt:"media",token:c});return p+w})[0]}function H9(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Jb{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t){if(!t)throw _0()}function Y9(t,e){function n(r,i){const s=Xb(t,i,e);return ex(s!==null),s}return n}function G9(t,e){function n(r,i){const s=Xb(t,i,e);return ex(s!==null),W9(s,i,t.host,t._protocol)}return n}function tx(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=a9():i=o9():n.getStatus()===402?i=s9(t.bucket):n.getStatus()===403?i=l9(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function K9(t){const e=tx(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=i9(t.path)),s.serverResponse=i.serverResponse,s}return n}function Q9(t,e,n){const r=e.fullServerUrl(),i=T0(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Jb(i,s,G9(t,n),o);return a.errorHandler=K9(e),a}function Z9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function X9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Z9(null,e)),r}function J9(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let v=0;v<2;v++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=X9(e,r,i),f=H9(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,d=`\r
--`+l+"--",p=Ji.getBlob(h,r,d);if(p===null)throw p9();const w={name:c.fullPath},E=T0(s,t.host,t._protocol),_="POST",g=t.maxUploadRetryTime,m=new Jb(E,_,Y9(t,n),g);return m.urlParams=w,m.headers=o,m.body=p.uploadData(),m.errorHandler=tx(e),m}class ej{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=io.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=io.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=io.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw bl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class tj extends ej{initXhr(){this.xhr_.responseType="text"}}function nx(){return new tj}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n){this._service=e,n instanceof Zn?this._location=n:this._location=Zn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new yo(e,n)}get root(){const e=new Zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Qb(this._location.path)}get storage(){return this._service}get parent(){const e=F9(this._location.path);if(e===null)return null;const n=new Zn(this._location.bucket,e);return new yo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw y9(e)}}function nj(t,e,n){t._throwIfRoot("uploadBytes");const r=J9(t.storage,t._location,Zb(),new Ji(e,!0),n);return t.storage.makeRequestWithTokens(r,nx).then(i=>({metadata:i,ref:t}))}function rj(t){t._throwIfRoot("getDownloadURL");const e=Q9(t.storage,t._location,Zb());return t.storage.makeRequestWithTokens(e,nx).then(n=>{if(n===null)throw m9();return n})}function ij(t,e){const n=U9(t._location.path,e),r=new Zn(t._location.bucket,n);return new yo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t){return/^[A-Za-z]+:\/\//.test(t)}function oj(t,e){return new yo(t,e)}function rx(t,e){if(t instanceof S0){const n=t;if(n._bucket==null)throw d9();const r=new yo(n,n._bucket);return e!=null?rx(r,e):r}else return e!==void 0?ij(t,e):t}function aj(t,e){if(e&&sj(e)){if(t instanceof S0)return oj(t,e);throw vy("To use ref(service, url), the first argument must be a Storage instance.")}else return rx(t,e)}function CE(t,e){const n=e==null?void 0:e[zb];return n==null?null:Zn.makeFromBucketSpec(n,t)}function lj(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:ib(i,t.app.options.projectId))}class S0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Bb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=n9,this._maxUploadRetryTime=r9,this._requests=new Set,i!=null?this._bucket=Zn.makeFromBucketSpec(i,this._host):this._bucket=CE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,e):this._bucket=CE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new v9(qb());{const o=A9(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const DE="@firebase/storage",ME="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="storage";function sx(t,e,n){return t=It(t),nj(t,e,n)}function ox(t){return t=It(t),rj(t)}function ax(t,e){return t=It(t),aj(t,e)}function uj(t=l0(),e){t=It(t);const r=Cd(t,ix).getImmediate({identifier:e}),i=tb("storage");return i&&cj(r,...i),r}function cj(t,e,n,r={}){lj(t,e,n,r)}function fj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new S0(n,r,i,e,xo)}function hj(){po(new ks(ix,fj,"PUBLIC").setMultipleInstances(!0)),Yr(DE,ME,""),Yr(DE,ME,"esm2017")}hj();var dj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he,k0=k0||{},Oe=dj||self;function jd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function mc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function pj(t){return Object.prototype.hasOwnProperty.call(t,zm)&&t[zm]||(t[zm]=++mj)}var zm="closure_uid_"+(1e9*Math.random()>>>0),mj=0;function gj(t,e,n){return t.call.apply(t.bind,arguments)}function yj(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function yn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?yn=gj:yn=yj,yn.apply(null,arguments)}function Tf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Jt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ms(){this.s=this.s,this.o=this.o}var vj=0;Ms.prototype.s=!1;Ms.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),vj!=0)&&pj(this)};Ms.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lx=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function b0(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function LE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(jd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function vn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}vn.prototype.h=function(){this.defaultPrevented=!0};var _j=function(){if(!Oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Oe.addEventListener("test",()=>{},e),Oe.removeEventListener("test",()=>{},e)}catch{}return t}();function Du(t){return/^[\s\xa0]*$/.test(t)}function Vd(){var t=Oe.navigator;return t&&(t=t.userAgent)?t:""}function Ur(t){return Vd().indexOf(t)!=-1}function x0(t){return x0[" "](t),t}x0[" "]=function(){};function wj(t,e){var n=hV;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Ej=Ur("Opera"),Na=Ur("Trident")||Ur("MSIE"),ux=Ur("Edge"),_y=ux||Na,cx=Ur("Gecko")&&!(Vd().toLowerCase().indexOf("webkit")!=-1&&!Ur("Edge"))&&!(Ur("Trident")||Ur("MSIE"))&&!Ur("Edge"),Tj=Vd().toLowerCase().indexOf("webkit")!=-1&&!Ur("Edge");function fx(){var t=Oe.document;return t?t.documentMode:void 0}var wy;e:{var qm="",Wm=function(){var t=Vd();if(cx)return/rv:([^\);]+)(\)|;)/.exec(t);if(ux)return/Edge\/([\d\.]+)/.exec(t);if(Na)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Tj)return/WebKit\/(\S+)/.exec(t);if(Ej)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Wm&&(qm=Wm?Wm[1]:""),Na){var Hm=fx();if(Hm!=null&&Hm>parseFloat(qm)){wy=String(Hm);break e}}wy=qm}var Ey;if(Oe.document&&Na){var jE=fx();Ey=jE||parseInt(wy,10)||void 0}else Ey=void 0;var Sj=Ey;function Mu(t,e){if(vn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(cx){e:{try{x0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:kj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Mu.$.h.call(this)}}Jt(Mu,vn);var kj={2:"touch",3:"pen",4:"mouse"};Mu.prototype.h=function(){Mu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var gc="closure_listenable_"+(1e6*Math.random()|0),bj=0;function xj(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++bj,this.fa=this.ia=!1}function Fd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function I0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Ij(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function hx(t){const e={};for(const n in t)e[n]=t[n];return e}const VE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dx(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<VE.length;s++)n=VE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ud(t){this.src=t,this.g={},this.h=0}Ud.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Sy(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new xj(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Ty(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=lx(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Fd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Sy(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var O0="closure_lm_"+(1e6*Math.random()|0),Ym={};function px(t,e,n,r,i){if(r&&r.once)return gx(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)px(t,e[s],n,r,i);return null}return n=R0(n),t&&t[gc]?t.O(e,n,mc(r)?!!r.capture:!!r,i):mx(t,e,n,!1,r,i)}function mx(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=mc(i)?!!i.capture:!!i,a=P0(t);if(a||(t[O0]=a=new Ud(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=Oj(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)_j||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vx(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Oj(){function t(n){return e.call(t.src,t.listener,n)}const e=Aj;return t}function gx(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)gx(t,e[s],n,r,i);return null}return n=R0(n),t&&t[gc]?t.P(e,n,mc(r)?!!r.capture:!!r,i):mx(t,e,n,!0,r,i)}function yx(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)yx(t,e[s],n,r,i);else r=mc(r)?!!r.capture:!!r,n=R0(n),t&&t[gc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Sy(s,n,r,i),-1<n&&(Fd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=P0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Sy(e,n,r,i)),(n=-1<t?e[t]:null)&&A0(n))}function A0(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[gc])Ty(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vx(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=P0(e))?(Ty(n,t),n.h==0&&(n.src=null,e[O0]=null)):Fd(t)}}}function vx(t){return t in Ym?Ym[t]:Ym[t]="on"+t}function Aj(t,e){if(t.fa)t=!0;else{e=new Mu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&A0(t),t=n.call(r,e)}return t}function P0(t){return t=t[O0],t instanceof Ud?t:null}var Gm="__closure_events_fn_"+(1e9*Math.random()>>>0);function R0(t){return typeof t=="function"?t:(t[Gm]||(t[Gm]=function(e){return t.handleEvent(e)}),t[Gm])}function Xt(){Ms.call(this),this.i=new Ud(this),this.S=this,this.J=null}Jt(Xt,Ms);Xt.prototype[gc]=!0;Xt.prototype.removeEventListener=function(t,e,n,r){yx(this,t,e,n,r)};function on(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new vn(e,t);else if(e instanceof vn)e.target=e.target||t;else{var i=e;e=new vn(r,t),dx(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Sf(o,r,!0,e)&&i}if(o=e.g=t,i=Sf(o,r,!0,e)&&i,i=Sf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Sf(o,r,!1,e)&&i}Xt.prototype.N=function(){if(Xt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Fd(n[r]);delete t.g[e],t.h--}}this.J=null};Xt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Xt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Sf(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Ty(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var N0=Oe.JSON.stringify;class Pj{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Rj(){var t=C0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Nj{constructor(){this.h=this.g=null}add(e,n){const r=_x.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var _x=new Pj(()=>new Cj,t=>t.reset());class Cj{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Dj(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Mj(t){Oe.setTimeout(()=>{throw t},0)}let Lu,ju=!1,C0=new Nj,wx=()=>{const t=Oe.Promise.resolve(void 0);Lu=()=>{t.then(Lj)}};var Lj=()=>{for(var t;t=Rj();){try{t.h.call(t.g)}catch(n){Mj(n)}var e=_x;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ju=!1};function $d(t,e){Xt.call(this),this.h=t||1,this.g=e||Oe,this.j=yn(this.qb,this),this.l=Date.now()}Jt($d,Xt);he=$d.prototype;he.ga=!1;he.T=null;he.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),on(this,"tick"),this.ga&&(D0(this),this.start()))}};he.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function D0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}he.N=function(){$d.$.N.call(this),D0(this),delete this.g};function M0(t,e,n){if(typeof t=="function")n&&(t=yn(t,n));else if(t&&typeof t.handleEvent=="function")t=yn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Oe.setTimeout(t,e||0)}function Ex(t){t.g=M0(()=>{t.g=null,t.i&&(t.i=!1,Ex(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class jj extends Ms{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ex(this)}N(){super.N(),this.g&&(Oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vu(t){Ms.call(this),this.h=t,this.g={}}Jt(Vu,Ms);var FE=[];function Tx(t,e,n,r){Array.isArray(n)||(n&&(FE[0]=n.toString()),n=FE);for(var i=0;i<n.length;i++){var s=px(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Sx(t){I0(t.g,function(e,n){this.g.hasOwnProperty(n)&&A0(e)},t),t.g={}}Vu.prototype.N=function(){Vu.$.N.call(this),Sx(this)};Vu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Bd(){this.g=!0}Bd.prototype.Ea=function(){this.g=!1};function Vj(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var f=c[0];c=c[1];var h=f.split("_");o=2<=h.length&&h[1]=="type"?o+(f+"="+c+"&"):o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Fj(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function aa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+$j(t,n)+(r?" "+r:"")})}function Uj(t,e){t.info(function(){return"TIMEOUT: "+e})}Bd.prototype.info=function(){};function $j(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return N0(n)}catch{return e}}var Ao={},UE=null;function zd(){return UE=UE||new Xt}Ao.Ta="serverreachability";function kx(t){vn.call(this,Ao.Ta,t)}Jt(kx,vn);function Fu(t){const e=zd();on(e,new kx(e))}Ao.STAT_EVENT="statevent";function bx(t,e){vn.call(this,Ao.STAT_EVENT,t),this.stat=e}Jt(bx,vn);function Rn(t){const e=zd();on(e,new bx(e,t))}Ao.Ua="timingevent";function xx(t,e){vn.call(this,Ao.Ua,t),this.size=e}Jt(xx,vn);function yc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Oe.setTimeout(function(){t()},e)}var qd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ix={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function L0(){}L0.prototype.h=null;function $E(t){return t.h||(t.h=t.i())}function Ox(){}var vc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function j0(){vn.call(this,"d")}Jt(j0,vn);function V0(){vn.call(this,"c")}Jt(V0,vn);var ky;function Wd(){}Jt(Wd,L0);Wd.prototype.g=function(){return new XMLHttpRequest};Wd.prototype.i=function(){return{}};ky=new Wd;function _c(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Vu(this),this.P=Bj,t=_y?125:void 0,this.V=new $d(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ax}function Ax(){this.i=null,this.g="",this.h=!1}var Bj=45e3,by={},zh={};he=_c.prototype;he.setTimeout=function(t){this.P=t};function xy(t,e,n){t.L=1,t.v=Yd(Ni(e)),t.s=n,t.S=!0,Px(t,null)}function Px(t,e){t.G=Date.now(),wc(t),t.A=Ni(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Vx(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Ax,t.g=sI(t.l,n?e:null,!t.s),0<t.O&&(t.M=new jj(yn(t.Pa,t,t.g),t.O)),Tx(t.U,t.g,"readystatechange",t.nb),e=t.I?hx(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Fu(),Vj(t.j,t.u,t.A,t.m,t.W,t.s)}he.nb=function(t){t=t.target;const e=this.M;e&&zr(t)==3?e.l():this.Pa(t)};he.Pa=function(t){try{if(t==this.g)e:{const f=zr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>f)&&(f!=3||_y||this.g&&(this.h.h||this.g.ja()||WE(this.g)))){this.J||f!=4||e==7||(e==8||0>=h?Fu(3):Fu(2)),Hd(this);var n=this.g.da();this.ca=n;t:if(Rx(this)){var r=WE(this.g);t="";var i=r.length,s=zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zs(this),nu(this);var o="";break t}this.h.i=new Oe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Fj(this.j,this.u,this.A,this.m,this.W,f,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Du(a)){var c=a;break t}}c=null}if(n=c)aa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Iy(this,n);else{this.i=!1,this.o=3,Rn(12),Zs(this),nu(this);break e}}this.S?(Nx(this,f,o),_y&&this.i&&f==3&&(Tx(this.U,this.V,"tick",this.mb),this.V.start())):(aa(this.j,this.m,o,null),Iy(this,o)),f==4&&Zs(this),this.i&&!this.J&&(f==4?tI(this.l,this):(this.i=!1,wc(this)))}else uV(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Rn(12)):(this.o=0,Rn(13)),Zs(this),nu(this)}}}catch{}finally{}};function Rx(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Nx(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=zj(t,n),i==zh){e==4&&(t.o=4,Rn(14),r=!1),aa(t.j,t.m,null,"[Incomplete Response]");break}else if(i==by){t.o=4,Rn(15),aa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else aa(t.j,t.m,i,null),Iy(t,i);Rx(t)&&i!=zh&&i!=by&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Rn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),q0(e),e.M=!0,Rn(11))):(aa(t.j,t.m,n,"[Invalid Chunked Response]"),Zs(t),nu(t))}he.mb=function(){if(this.g){var t=zr(this.g),e=this.g.ja();this.C<e.length&&(Hd(this),Nx(this,t,e),this.i&&t!=4&&wc(this))}};function zj(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?zh:(n=Number(e.substring(n,r)),isNaN(n)?by:(r+=1,r+n>e.length?zh:(e=e.slice(r,r+n),t.C=r+n,e)))}he.cancel=function(){this.J=!0,Zs(this)};function wc(t){t.Y=Date.now()+t.P,Cx(t,t.P)}function Cx(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=yc(yn(t.lb,t),e)}function Hd(t){t.B&&(Oe.clearTimeout(t.B),t.B=null)}he.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Uj(this.j,this.A),this.L!=2&&(Fu(),Rn(17)),Zs(this),this.o=2,nu(this)):Cx(this,this.Y-t)};function nu(t){t.l.H==0||t.J||tI(t.l,t)}function Zs(t){Hd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,D0(t.V),Sx(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Iy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Oy(n.i,t))){if(!t.K&&Oy(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Hh(n),Zd(n);else break e;z0(n),Rn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=yc(yn(n.ib,n),6e3));if(1>=$x(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Xs(n,11)}else if((t.K||n.g==t)&&Hh(n),!Du(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const f=c[3];f!=null&&(n.ra=f,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const w=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var s=r.i;s.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(F0(s,s.h),s.h=null))}if(r.F){const E=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,ht(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=iI(r,r.J?r.pa:null,r.Y),o.K){Bx(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Hd(a),wc(a)),r.g=o}else Jx(r);0<n.j.length&&Xd(n)}else c[0]!="stop"&&c[0]!="close"||Xs(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Xs(n,7):B0(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Fu(4)}catch{}}function qj(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(jd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Wj(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(jd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Dx(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(jd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Wj(t),r=qj(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Mx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hj(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function so(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof so){this.h=t.h,qh(this,t.j),this.s=t.s,this.g=t.g,Wh(this,t.m),this.l=t.l;var e=t.i,n=new Uu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),BE(this,n),this.o=t.o}else t&&(e=String(t).match(Mx))?(this.h=!1,qh(this,e[1]||"",!0),this.s=Fl(e[2]||""),this.g=Fl(e[3]||"",!0),Wh(this,e[4]),this.l=Fl(e[5]||"",!0),BE(this,e[6]||"",!0),this.o=Fl(e[7]||"")):(this.h=!1,this.i=new Uu(null,this.h))}so.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ul(e,zE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ul(e,zE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ul(n,n.charAt(0)=="/"?Kj:Gj,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ul(n,Zj)),t.join("")};function Ni(t){return new so(t)}function qh(t,e,n){t.j=n?Fl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Wh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function BE(t,e,n){e instanceof Uu?(t.i=e,Xj(t.i,t.h)):(n||(e=Ul(e,Qj)),t.i=new Uu(e,t.h))}function ht(t,e,n){t.i.set(e,n)}function Yd(t){return ht(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Fl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ul(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Yj),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Yj(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var zE=/[#\/\?@]/g,Gj=/[#\?:]/g,Kj=/[#\?]/g,Qj=/[#\?@]/g,Zj=/#/g;function Uu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ls(t){t.g||(t.g=new Map,t.h=0,t.i&&Hj(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}he=Uu.prototype;he.add=function(t,e){Ls(this),this.i=null,t=Ga(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Lx(t,e){Ls(t),e=Ga(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function jx(t,e){return Ls(t),e=Ga(t,e),t.g.has(e)}he.forEach=function(t,e){Ls(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};he.ta=function(){Ls(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};he.Z=function(t){Ls(this);let e=[];if(typeof t=="string")jx(this,t)&&(e=e.concat(this.g.get(Ga(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};he.set=function(t,e){return Ls(this),this.i=null,t=Ga(this,t),jx(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};he.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Vx(t,e,n){Lx(t,e),0<n.length&&(t.i=null,t.g.set(Ga(t,e),b0(n)),t.h+=n.length)}he.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ga(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Xj(t,e){e&&!t.j&&(Ls(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Lx(this,r),Vx(this,i,n))},t)),t.j=e}var Jj=class{constructor(t,e){this.g=t,this.map=e}};function Fx(t){this.l=t||eV,Oe.PerformanceNavigationTiming?(t=Oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Oe.g&&Oe.g.Ka&&Oe.g.Ka()&&Oe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var eV=10;function Ux(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function $x(t){return t.h?1:t.g?t.g.size:0}function Oy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function F0(t,e){t.g?t.g.add(e):t.h=e}function Bx(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Fx.prototype.cancel=function(){if(this.i=zx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function zx(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return b0(t.i)}var tV=class{stringify(t){return Oe.JSON.stringify(t,void 0)}parse(t){return Oe.JSON.parse(t,void 0)}};function nV(){this.g=new tV}function rV(t,e,n){const r=n||"";try{Dx(t,function(i,s){let o=i;mc(i)&&(o=N0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function iV(t,e){const n=new Bd;if(Oe.Image){const r=new Image;r.onload=Tf(kf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Tf(kf,n,r,"TestLoadImage: error",!1,e),r.onabort=Tf(kf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Tf(kf,n,r,"TestLoadImage: timeout",!1,e),Oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function kf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Gd(t){this.l=t.ec||null,this.j=t.ob||!1}Jt(Gd,L0);Gd.prototype.g=function(){return new Kd(this.l,this.j)};Gd.prototype.i=function(t){return function(){return t}}({});function Kd(t,e){Xt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=U0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jt(Kd,Xt);var U0=0;he=Kd.prototype;he.open=function(t,e){if(this.readyState!=U0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,$u(this)};he.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};he.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ec(this)),this.readyState=U0};he.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,$u(this)),this.g&&(this.readyState=3,$u(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qx(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function qx(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}he.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ec(this):$u(this),this.readyState==3&&qx(this)}};he.Za=function(t){this.g&&(this.response=this.responseText=t,Ec(this))};he.Ya=function(t){this.g&&(this.response=t,Ec(this))};he.ka=function(){this.g&&Ec(this)};function Ec(t){t.readyState=4,t.l=null,t.j=null,t.A=null,$u(t)}he.setRequestHeader=function(t,e){this.v.append(t,e)};he.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};he.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function $u(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Kd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var sV=Oe.JSON.parse;function Rt(t){Xt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Wx,this.L=this.M=!1}Jt(Rt,Xt);var Wx="",oV=/^https?$/i,aV=["POST","PUT"];he=Rt.prototype;he.Oa=function(t){this.M=t};he.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ky.g(),this.C=this.u?$E(this.u):$E(ky),this.g.onreadystatechange=yn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){qE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Oe.FormData&&t instanceof Oe.FormData,!(0<=lx(aV,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Gx(this),0<this.B&&((this.L=lV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yn(this.ua,this)):this.A=M0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){qE(this,s)}};function lV(t){return Na&&typeof t.timeout=="number"&&t.ontimeout!==void 0}he.ua=function(){typeof k0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,on(this,"timeout"),this.abort(8))};function qE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Hx(t),Qd(t)}function Hx(t){t.F||(t.F=!0,on(t,"complete"),on(t,"error"))}he.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,on(this,"complete"),on(this,"abort"),Qd(this))};he.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qd(this,!0)),Rt.$.N.call(this)};he.La=function(){this.s||(this.G||this.v||this.l?Yx(this):this.kb())};he.kb=function(){Yx(this)};function Yx(t){if(t.h&&typeof k0<"u"&&(!t.C[1]||zr(t)!=4||t.da()!=2)){if(t.v&&zr(t)==4)M0(t.La,0,t);else if(on(t,"readystatechange"),zr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(Mx)[1]||null;!i&&Oe.self&&Oe.self.location&&(i=Oe.self.location.protocol.slice(0,-1)),r=!oV.test(i?i.toLowerCase():"")}n=r}if(n)on(t,"complete"),on(t,"success");else{t.m=6;try{var s=2<zr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Hx(t)}}finally{Qd(t)}}}}function Qd(t,e){if(t.g){Gx(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||on(t,"ready");try{n.onreadystatechange=r}catch{}}}function Gx(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Oe.clearTimeout(t.A),t.A=null)}he.isActive=function(){return!!this.g};function zr(t){return t.g?t.g.readyState:0}he.da=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}};he.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};he.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),sV(e)}};function WE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Wx:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function uV(t){const e={};t=(t.g&&2<=zr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Du(t[r]))continue;var n=Dj(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}Ij(e,function(r){return r.join(", ")})}he.Ia=function(){return this.m};he.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Kx(t){let e="";return I0(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function $0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Kx(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ht(t,e,n))}function xl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Qx(t){this.Ga=0,this.j=[],this.l=new Bd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xl("baseRetryDelayMs",5e3,t),this.hb=xl("retryDelaySeedMs",1e4,t),this.eb=xl("forwardChannelMaxRetries",2,t),this.xa=xl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Fx(t&&t.concurrentRequestLimit),this.Ja=new nV,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}he=Qx.prototype;he.ra=8;he.H=1;function B0(t){if(Zx(t),t.H==3){var e=t.W++,n=Ni(t.I);if(ht(n,"SID",t.K),ht(n,"RID",e),ht(n,"TYPE","terminate"),Tc(t,n),e=new _c(t,t.l,e),e.L=2,e.v=Yd(Ni(n)),n=!1,Oe.navigator&&Oe.navigator.sendBeacon)try{n=Oe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Oe.Image&&(new Image().src=e.v,n=!0),n||(e.g=sI(e.l,null),e.g.ha(e.v)),e.G=Date.now(),wc(e)}rI(t)}function Zd(t){t.g&&(q0(t),t.g.cancel(),t.g=null)}function Zx(t){Zd(t),t.u&&(Oe.clearTimeout(t.u),t.u=null),Hh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Oe.clearTimeout(t.m),t.m=null)}function Xd(t){if(!Ux(t.i)&&!t.m){t.m=!0;var e=t.Na;Lu||wx(),ju||(Lu(),ju=!0),C0.add(e,t),t.C=0}}function cV(t,e){return $x(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=yc(yn(t.Na,t,e),nI(t,t.C)),t.C++,!0)}he.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new _c(this,this.l,t);let s=this.s;if(this.U&&(s?(s=hx(s),dx(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Xx(this,i,e),n=Ni(this.I),ht(n,"RID",t),ht(n,"CVER",22),this.F&&ht(n,"X-HTTP-Session-Id",this.F),Tc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Kx(s)))+"&"+e:this.o&&$0(n,this.o,s)),F0(this.i,i),this.bb&&ht(n,"TYPE","init"),this.P?(ht(n,"$req",e),ht(n,"SID","null"),i.aa=!0,xy(i,n,null)):xy(i,n,e),this.H=2}}else this.H==3&&(t?HE(this,t):this.j.length==0||Ux(this.i)||HE(this))};function HE(t,e){var n;e?n=e.m:n=t.W++;const r=Ni(t.I);ht(r,"SID",t.K),ht(r,"RID",n),ht(r,"AID",t.V),Tc(t,r),t.o&&t.s&&$0(r,t.o,t.s),n=new _c(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Xx(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),F0(t.i,n),xy(n,r,e)}function Tc(t,e){t.na&&I0(t.na,function(n,r){ht(e,r,n)}),t.h&&Dx({},function(n,r){ht(e,r,n)})}function Xx(t,e,n){n=Math.min(t.j.length,n);var r=t.h?yn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const f=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{rV(f,o,"req"+c+"_")}catch{r&&r(f)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Jx(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Lu||wx(),ju||(Lu(),ju=!0),C0.add(e,t),t.A=0}}function z0(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=yc(yn(t.Ma,t),nI(t,t.A)),t.A++,!0)}he.Ma=function(){if(this.u=null,eI(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=yc(yn(this.jb,this),t)}};he.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Rn(10),Zd(this),eI(this))};function q0(t){t.B!=null&&(Oe.clearTimeout(t.B),t.B=null)}function eI(t){t.g=new _c(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ni(t.wa);ht(e,"RID","rpc"),ht(e,"SID",t.K),ht(e,"AID",t.V),ht(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ht(e,"TO",t.qa),ht(e,"TYPE","xmlhttp"),Tc(t,e),t.o&&t.s&&$0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Yd(Ni(e)),n.s=null,n.S=!0,Px(n,t)}he.ib=function(){this.v!=null&&(this.v=null,Zd(this),z0(this),Rn(19))};function Hh(t){t.v!=null&&(Oe.clearTimeout(t.v),t.v=null)}function tI(t,e){var n=null;if(t.g==e){Hh(t),q0(t),t.g=null;var r=2}else if(Oy(t.i,e))n=e.F,Bx(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=zd(),on(r,new xx(r,n)),Xd(t)}else Jx(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&cV(t,e)||r==2&&z0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Xs(t,5);break;case 4:Xs(t,10);break;case 3:Xs(t,6);break;default:Xs(t,2)}}}function nI(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Xs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=yn(t.pb,t);n||(n=new so("//www.google.com/images/cleardot.gif"),Oe.location&&Oe.location.protocol=="http"||qh(n,"https"),Yd(n)),iV(n.toString(),r)}else Rn(2);t.H=0,t.h&&t.h.za(e),rI(t),Zx(t)}he.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Rn(2)):(this.l.info("Failed to ping google.com"),Rn(1))};function rI(t){if(t.H=0,t.ma=[],t.h){const e=zx(t.i);(e.length!=0||t.j.length!=0)&&(LE(t.ma,e),LE(t.ma,t.j),t.i.i.length=0,b0(t.j),t.j.length=0),t.h.ya()}}function iI(t,e,n){var r=n instanceof so?Ni(n):new so(n);if(r.g!="")e&&(r.g=e+"."+r.g),Wh(r,r.m);else{var i=Oe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new so(null);r&&qh(s,r),e&&(s.g=e),i&&Wh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ht(r,n,e),ht(r,"VER",t.ra),Tc(t,r),r}function sI(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Rt(new Gd({ob:!0})):new Rt(t.va),e.Oa(t.J),e}he.isActive=function(){return!!this.h&&this.h.isActive(this)};function oI(){}he=oI.prototype;he.Ba=function(){};he.Aa=function(){};he.za=function(){};he.ya=function(){};he.isActive=function(){return!0};he.Va=function(){};function Yh(){if(Na&&!(10<=Number(Sj)))throw Error("Environmental error: no available transport.")}Yh.prototype.g=function(t,e){return new tr(t,e)};function tr(t,e){Xt.call(this),this.g=new Qx(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Du(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Du(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ka(this)}Jt(tr,Xt);tr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Rn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=iI(t,null,t.Y),Xd(t)};tr.prototype.close=function(){B0(this.g)};tr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=N0(t),t=n);e.j.push(new Jj(e.fb++,t)),e.H==3&&Xd(e)};tr.prototype.N=function(){this.g.h=null,delete this.j,B0(this.g),delete this.g,tr.$.N.call(this)};function aI(t){j0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Jt(aI,j0);function lI(){V0.call(this),this.status=1}Jt(lI,V0);function Ka(t){this.g=t}Jt(Ka,oI);Ka.prototype.Ba=function(){on(this.g,"a")};Ka.prototype.Aa=function(t){on(this.g,new aI(t))};Ka.prototype.za=function(t){on(this.g,new lI)};Ka.prototype.ya=function(){on(this.g,"b")};function fV(){this.blockSize=-1}function Pr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Jt(Pr,fV);Pr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Km(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Pr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Km(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Km(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Km(this,r),i=0;break}}this.h=i,this.i+=e};Pr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function et(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var hV={};function W0(t){return-128<=t&&128>t?wj(t,function(e){return new et([e|0],0>e?-1:0)}):new et([t|0],0>t?-1:0)}function qr(t){if(isNaN(t)||!isFinite(t))return va;if(0>t)return nn(qr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Ay;return new et(e,0)}function uI(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return nn(uI(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=qr(Math.pow(e,8)),r=va,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=qr(Math.pow(e,s)),r=r.R(s).add(qr(o))):(r=r.R(n),r=r.add(qr(o)))}return r}var Ay=4294967296,va=W0(0),Py=W0(1),YE=W0(16777216);he=et.prototype;he.ea=function(){if(cr(this))return-nn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Ay+r)*e,e*=Ay}return t};he.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ei(this))return"0";if(cr(this))return"-"+nn(this).toString(t);for(var e=qr(Math.pow(t,6)),n=this,r="";;){var i=Kh(n,e).g;n=Gh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ei(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};he.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ei(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function cr(t){return t.h==-1}he.X=function(t){return t=Gh(this,t),cr(t)?-1:Ei(t)?0:1};function nn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new et(n,~t.h).add(Py)}he.abs=function(){return cr(this)?nn(this):this};he.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new et(n,n[n.length-1]&-2147483648?-1:0)};function Gh(t,e){return t.add(nn(e))}he.R=function(t){if(Ei(this)||Ei(t))return va;if(cr(this))return cr(t)?nn(this).R(nn(t)):nn(nn(this).R(t));if(cr(t))return nn(this.R(nn(t)));if(0>this.X(YE)&&0>t.X(YE))return qr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,bf(n,2*r+2*i),n[2*r+2*i+1]+=s*l,bf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,bf(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,bf(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new et(n,0)};function bf(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Il(t,e){this.g=t,this.h=e}function Kh(t,e){if(Ei(e))throw Error("division by zero");if(Ei(t))return new Il(va,va);if(cr(t))return e=Kh(nn(t),e),new Il(nn(e.g),nn(e.h));if(cr(e))return e=Kh(t,nn(e)),new Il(nn(e.g),e.h);if(30<t.g.length){if(cr(t)||cr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Py,r=e;0>=r.X(t);)n=GE(n),r=GE(r);var i=zo(n,1),s=zo(r,1);for(r=zo(r,2),n=zo(n,2);!Ei(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=zo(r,1),n=zo(n,1)}return e=Gh(t,i.R(e)),new Il(i,e)}for(i=va;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=qr(n),o=s.R(e);cr(o)||0<o.X(t);)n-=r,s=qr(n),o=s.R(e);Ei(s)&&(s=Py),i=i.add(s),t=Gh(t,o)}return new Il(i,t)}he.gb=function(t){return Kh(this,t).h};he.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new et(n,this.h&t.h)};he.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new et(n,this.h|t.h)};he.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new et(n,this.h^t.h)};function GE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new et(n,t.h)}function zo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new et(i,t.h)}Yh.prototype.createWebChannel=Yh.prototype.g;tr.prototype.send=tr.prototype.u;tr.prototype.open=tr.prototype.m;tr.prototype.close=tr.prototype.close;qd.NO_ERROR=0;qd.TIMEOUT=8;qd.HTTP_ERROR=6;Ix.COMPLETE="complete";Ox.EventType=vc;vc.OPEN="a";vc.CLOSE="b";vc.ERROR="c";vc.MESSAGE="d";Xt.prototype.listen=Xt.prototype.O;Rt.prototype.listenOnce=Rt.prototype.P;Rt.prototype.getLastError=Rt.prototype.Sa;Rt.prototype.getLastErrorCode=Rt.prototype.Ia;Rt.prototype.getStatus=Rt.prototype.da;Rt.prototype.getResponseJson=Rt.prototype.Wa;Rt.prototype.getResponseText=Rt.prototype.ja;Rt.prototype.send=Rt.prototype.ha;Rt.prototype.setWithCredentials=Rt.prototype.Oa;Pr.prototype.digest=Pr.prototype.l;Pr.prototype.reset=Pr.prototype.reset;Pr.prototype.update=Pr.prototype.j;et.prototype.add=et.prototype.add;et.prototype.multiply=et.prototype.R;et.prototype.modulo=et.prototype.gb;et.prototype.compare=et.prototype.X;et.prototype.toNumber=et.prototype.ea;et.prototype.toString=et.prototype.toString;et.prototype.getBits=et.prototype.D;et.fromNumber=qr;et.fromString=uI;var dV=function(){return new Yh},pV=function(){return zd()},Qm=qd,mV=Ix,gV=Ao,KE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xf=Ox,yV=Rt,vV=Pr,_a=et;const QE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa="10.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new o0("@firebase/firestore");function Ol(){return vo.logLevel}function _e(t,...e){if(vo.logLevel<=Be.DEBUG){const n=e.map(H0);vo.debug(`Firestore (${Qa}): ${t}`,...n)}}function Ci(t,...e){if(vo.logLevel<=Be.ERROR){const n=e.map(H0);vo.error(`Firestore (${Qa}): ${t}`,...n)}}function Ca(t,...e){if(vo.logLevel<=Be.WARN){const n=e.map(H0);vo.warn(`Firestore (${Qa}): ${t}`,...n)}}function H0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t="Unexpected state"){const e=`FIRESTORE (${Qa}) INTERNAL ASSERTION FAILED: `+t;throw Ci(e),new Error(e)}function mt(t,e){t||Ie()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _V{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pn.UNAUTHENTICATED))}shutdown(){}}class wV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class EV{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _s,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _s)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string"),new cI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string"),new pn(e)}}class TV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class SV{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new TV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,_e("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(mt(typeof n.token=="string"),this.R=n.token,new kV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=xV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function Da(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ve(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Gt(0,0))}static max(){return new Pe(new Gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(),r===void 0?r=e.length-n:r>e.length-n&&Ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class dt extends Bu{construct(e,n,r){return new dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new dt(n)}static emptyPath(){return new dt([])}}const IV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Bu{construct(e,n,r){return new rn(e,n,r)}static isValidIdentifier(e){return IV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ve(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ve(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ve(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ve(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(dt.fromString(e))}static fromName(e){return new ke(dt.fromString(e).popFirst(5))}static empty(){return new ke(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new dt(e.slice()))}}function OV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(r===1e9?new Gt(n+1,0):new Gt(n,r));return new bs(i,ke.empty(),e)}function AV(t){return new bs(t.readTime,t.key,-1)}class bs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bs(Pe.min(),ke.empty(),-1)}static max(){return new bs(Pe.max(),ke.empty(),-1)}}function PV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==RV)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.reject(n)}static resolve(e){return new oe((n,r)=>{n(e)})}static reject(e){return new oe((n,r)=>{r(e)})}static waitFor(e){return new oe((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next(i=>i?oe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new oe((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(f=>{o[c]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new oe((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function kc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Y0.ae=-1;function Jd(t){return t==null}function Qh(t){return t===0&&1/t==-1/0}function CV(t){return typeof t=="number"&&Number.isInteger(t)&&!Qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Po(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new If(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new If(this.root,e,this.comparator,!1)}getReverseIterator(){return new If(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new If(this.root,e,this.comparator,!0)}}class If{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??tn.RED,this.left=i??tn.EMPTY,this.right=s??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new tn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,n,r,i,s){return this}insert(e,n,r){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XE(this.data.getIterator())}getIteratorFrom(e){return new XE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class XE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Xn([])}unionWith(e){let n=new an(rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Da(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dI("Invalid base64 string: "+s):s}}(e);return new Sn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const DV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(t){if(mt(!!t),typeof t=="string"){let e=0;const n=DV.exec(t);if(mt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ut(t.seconds),nanos:Ut(t.nanos)}}function Ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _o(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function K0(t){const e=t.mapValue.fields.__previous_value__;return G0(e)?K0(e):e}function zu(t){const e=xs(t.mapValue.fields.__local_write_time__.timestampValue);return new Gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class qu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new qu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?G0(t)?4:LV(t)?9007199254740991:10:Ie()}function Xr(t,e){if(t===e)return!0;const n=wo(t);if(n!==wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zu(t).isEqual(zu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=xs(i.timestampValue),a=xs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return _o(i.bytesValue).isEqual(_o(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ut(i.geoPointValue.latitude)===Ut(s.geoPointValue.latitude)&&Ut(i.geoPointValue.longitude)===Ut(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ut(i.integerValue)===Ut(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ut(i.doubleValue),a=Ut(s.doubleValue);return o===a?Qh(o)===Qh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Da(t.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ZE(o)!==ZE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Xr(o[l],a[l])))return!1;return!0}(t,e);default:return Ie()}}function Wu(t,e){return(t.values||[]).find(n=>Xr(n,e))!==void 0}function Ma(t,e){if(t===e)return 0;const n=wo(t),r=wo(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ut(s.integerValue||s.doubleValue),l=Ut(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return JE(t.timestampValue,e.timestampValue);case 4:return JE(zu(t),zu(e));case 5:return Xe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=_o(s),l=_o(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const f=Xe(a[c],l[c]);if(f!==0)return f}return Xe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Xe(Ut(s.latitude),Ut(o.latitude));return a!==0?a:Xe(Ut(s.longitude),Ut(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const f=Ma(a[c],l[c]);if(f)return f}return Xe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Of.mapValue&&o===Of.mapValue)return 0;if(s===Of.mapValue)return 1;if(o===Of.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},f=Object.keys(c);l.sort(),f.sort();for(let h=0;h<l.length&&h<f.length;++h){const d=Xe(l[h],f[h]);if(d!==0)return d;const p=Ma(a[l[h]],c[f[h]]);if(p!==0)return p}return Xe(l.length,f.length)}(t.mapValue,e.mapValue);default:throw Ie()}}function JE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=xs(t),r=xs(e),i=Xe(n.seconds,r.seconds);return i!==0?i:Xe(n.nanos,r.nanos)}function La(t){return Ry(t)}function Ry(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=xs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _o(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ke.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ry(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ry(n.fields[o])}`;return i+"}"}(t.mapValue):Ie()}function eT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ny(t){return!!t&&"integerValue"in t}function Q0(t){return!!t&&"arrayValue"in t}function tT(t){return!!t&&"nullValue"in t}function nT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jf(t){return!!t&&"mapValue"in t}function ru(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Po(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ru(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ru(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(n)}setAll(e){let n=rn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ru(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Jf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Jf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Po(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Fn(ru(this.value))}}function pI(t){const e=[];return Po(t.fields,(n,r)=>{const i=new rn([n]);if(Jf(r)){const s=pI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new gn(e,0,Pe.min(),Pe.min(),Pe.min(),Fn.empty(),0)}static newFoundDocument(e,n,r,i){return new gn(e,1,n,Pe.min(),r,i,0)}static newNoDocument(e,n){return new gn(e,2,n,Pe.min(),Pe.min(),Fn.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,Pe.min(),Pe.min(),Fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.position=e,this.inclusive=n}}function rT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ke.comparator(ke.fromName(o.referenceValue),n.key):r=Ma(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function iT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function jV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{}class Bt extends mI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new FV(e,n,r):n==="array-contains"?new BV(e,r):n==="in"?new zV(e,r):n==="not-in"?new qV(e,r):n==="array-contains-any"?new WV(e,r):new Bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new UV(e,r):new $V(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ma(n,this.value)):n!==null&&wo(this.value)===wo(n)&&this.matchesComparison(Ma(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends mI{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Rr(e,n)}matches(e){return gI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function gI(t){return t.op==="and"}function yI(t){return VV(t)&&gI(t)}function VV(t){for(const e of t.filters)if(e instanceof Rr)return!1;return!0}function Cy(t){if(t instanceof Bt)return t.field.canonicalString()+t.op.toString()+La(t.value);if(yI(t))return t.filters.map(e=>Cy(e)).join(",");{const e=t.filters.map(n=>Cy(n)).join(",");return`${t.op}(${e})`}}function vI(t,e){return t instanceof Bt?function(r,i){return i instanceof Bt&&r.op===i.op&&r.field.isEqual(i.field)&&Xr(r.value,i.value)}(t,e):t instanceof Rr?function(r,i){return i instanceof Rr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&vI(o,i.filters[a]),!0):!1}(t,e):void Ie()}function _I(t){return t instanceof Bt?function(n){return`${n.field.canonicalString()} ${n.op} ${La(n.value)}`}(t):t instanceof Rr?function(n){return n.op.toString()+" {"+n.getFilters().map(_I).join(" ,")+"}"}(t):"Filter"}class FV extends Bt{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class UV extends Bt{constructor(e,n){super(e,"in",n),this.keys=wI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $V extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=wI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ke.fromName(r.referenceValue))}class BV extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Q0(n)&&Wu(n.arrayValue,this.value)}}class zV extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wu(this.value.arrayValue,n)}}class qV extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wu(this.value.arrayValue,n)}}class WV extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Q0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function sT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new HV(t,e,n,r,i,s,o)}function Z0(t){const e=Ne(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>La(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>La(r)).join(",")),e.le=n}return e.le}function X0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iT(t.startAt,e.startAt)&&iT(t.endAt,e.endAt)}function Dy(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function YV(t,e,n,r,i,s,o,a){return new Za(t,e,n,r,i,s,o,a)}function ep(t){return new Za(t)}function oT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EI(t){return t.collectionGroup!==null}function iu(t){const e=Ne(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new an(rn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new Hu(s,r))}),n.has(rn.keyField().canonicalString())||e.he.push(new Hu(rn.keyField(),r))}return e.he}function Qr(t){const e=Ne(t);return e.Pe||(e.Pe=GV(e,iu(t))),e.Pe}function GV(t,e){if(t.limitType==="F")return sT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Hu(i.field,s)});const n=t.endAt?new Zh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zh(t.startAt.position,t.startAt.inclusive):null;return sT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function My(t,e){const n=t.filters.concat([e]);return new Za(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ly(t,e,n){return new Za(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tp(t,e){return X0(Qr(t),Qr(e))&&t.limitType===e.limitType}function TI(t){return`${Z0(Qr(t))}|lt:${t.limitType}`}function Wo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_I(i)).join(", ")}]`),Jd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>La(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>La(i)).join(",")),`Target(${r})`}(Qr(t))}; limitType=${t.limitType})`}function np(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ke.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of iu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=rT(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,iu(r),i)||r.endAt&&!function(o,a,l){const c=rT(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,iu(r),i))}(t,e)}function KV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SI(t){return(e,n)=>{let r=!1;for(const i of iu(t)){const s=QV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function QV(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Ma(l,c):Ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Po(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return hI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=new Ot(ke.comparator);function Di(){return ZV}const kI=new Ot(ke.comparator);function $l(...t){let e=kI;for(const n of t)e=e.insert(n.key,n);return e}function bI(t){let e=kI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Js(){return su()}function xI(){return su()}function su(){return new Xa(t=>t.toString(),(t,e)=>t.isEqual(e))}const XV=new Ot(ke.comparator),JV=new an(ke.comparator);function Ue(...t){let e=JV;for(const n of t)e=e.add(n);return e}const e8=new an(Xe);function t8(){return e8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function OI(t){return{integerValue:""+t}}function AI(t,e){return CV(e)?OI(e):II(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(){this._=void 0}}function n8(t,e,n){return t instanceof Xh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&G0(s)&&(s=K0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Yu?RI(t,e):t instanceof Gu?NI(t,e):function(i,s){const o=PI(i,s),a=aT(o)+aT(i.Te);return Ny(o)&&Ny(i.Te)?OI(a):II(i.serializer,a)}(t,e)}function r8(t,e,n){return t instanceof Yu?RI(t,e):t instanceof Gu?NI(t,e):n}function PI(t,e){return t instanceof Ku?function(r){return Ny(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Xh extends rp{}class Yu extends rp{constructor(e){super(),this.elements=e}}function RI(t,e){const n=CI(e);for(const r of t.elements)n.some(i=>Xr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gu extends rp{constructor(e){super(),this.elements=e}}function NI(t,e){let n=CI(e);for(const r of t.elements)n=n.filter(i=>!Xr(i,r));return{arrayValue:{values:n}}}class Ku extends rp{constructor(e,n){super(),this.serializer=e,this.Te=n}}function aT(t){return Ut(t.integerValue||t.doubleValue)}function CI(t){return Q0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e,n){this.field=e,this.transform=n}}function s8(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Yu&&i instanceof Yu||r instanceof Gu&&i instanceof Gu?Da(r.elements,i.elements,Xr):r instanceof Ku&&i instanceof Ku?Xr(r.Te,i.Te):r instanceof Xh&&i instanceof Xh}(t.transform,e.transform)}class o8{constructor(e,n){this.version=e,this.transformResults=n}}class dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ip{}function DI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new J0(t.key,dr.none()):new bc(t.key,t.data,dr.none());{const n=t.data,r=Fn.empty();let i=new an(rn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new js(t.key,r,new Xn(i.toArray()),dr.none())}}function a8(t,e,n){t instanceof bc?function(i,s,o){const a=i.value.clone(),l=uT(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof js?function(i,s,o){if(!eh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=uT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(MI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ou(t,e,n,r){return t instanceof bc?function(s,o,a,l){if(!eh(s.precondition,o))return a;const c=s.value.clone(),f=cT(s.fieldTransforms,l,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof js?function(s,o,a,l){if(!eh(s.precondition,o))return a;const c=cT(s.fieldTransforms,l,o),f=o.data;return f.setAll(MI(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return eh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function l8(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=PI(r.transform,i||null);s!=null&&(n===null&&(n=Fn.empty()),n.set(r.field,s))}return n||null}function lT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Da(r,i,(s,o)=>s8(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bc extends ip{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class js extends ip{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function MI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uT(t,e,n){const r=new Map;mt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,r8(o,a,n[i]))}return r}function cT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,n8(s,o,e))}return r}class J0 extends ip{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u8 extends ip{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&a8(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ou(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ou(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=DI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Da(this.mutations,e.mutations,(n,r)=>lT(n,r))&&Da(this.baseMutations,e.baseMutations,(n,r)=>lT(n,r))}}class e_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){mt(e.mutations.length===r.length);let i=function(){return XV}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new e_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,qe;function d8(t){switch(t){default:return Ie();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function LI(t){if(t===void 0)return Ci("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Ft.OK:return ie.OK;case Ft.CANCELLED:return ie.CANCELLED;case Ft.UNKNOWN:return ie.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return ie.INTERNAL;case Ft.UNAVAILABLE:return ie.UNAVAILABLE;case Ft.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Ft.NOT_FOUND:return ie.NOT_FOUND;case Ft.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Ft.ABORTED:return ie.ABORTED;case Ft.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Ft.DATA_LOSS:return ie.DATA_LOSS;default:return Ie()}}(qe=Ft||(Ft={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8=new _a([4294967295,4294967295],0);function fT(t){const e=p8().encode(t),n=new vV;return n.update(e),new Uint8Array(n.digest())}function hT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _a([n,r],0),new _a([i,s],0)]}class t_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bl(`Invalid padding: ${n}`);if(r<0)throw new Bl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=_a.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(_a.fromNumber(r)));return i.compare(m8)===1&&(i=new _a([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ee===0)return!1;const n=fT(e),[r,i]=hT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=fT(e),[r,i]=hT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sp(Pe.min(),i,new Ot(Xe),Di(),Ue())}}class xc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xc(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class jI{constructor(e,n){this.targetId=e,this.ge=n}}class VI{constructor(e,n,r=Sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class dT{constructor(){this.pe=0,this.ye=mT(),this.we=Sn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get Ce(){return this.be}ve(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ue(),n=Ue(),r=Ue();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ie()}}),new xc(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=mT()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1}Le(){this.be=!0,this.Se=!0}}class g8{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Di(),this.Ke=pT(),this.$e=new Ot(Xe)}Ue(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.We(n,e.fe):this.Ge(n,e.key,e.fe);for(const n of e.removedTargetIds)this.Ge(n,e.key,e.fe)}ze(e){this.forEachTarget(e,n=>{const r=this.je(n);switch(e.state){case 0:this.He(n)&&r.ve(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.He(n)&&(r.Le(),r.ve(e.resumeToken));break;case 4:this.He(n)&&(this.Je(n),r.ve(e.resumeToken));break;default:Ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.He(i)&&n(i)})}Ye(e){const n=e.targetId,r=e.ge.count,i=this.Ze(n);if(i){const s=i.target;if(Dy(s))if(r===0){const o=new ke(s.path);this.Ge(n,o,gn.newNoDocument(o,Pe.min()))}else mt(r===1);else{const o=this.Xe(n);if(o!==r){const a=this.et(e),l=a?this.tt(a,e,o):1;if(l!==0){this.Je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.$e=this.$e.insert(n,c)}}}}}et(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=_o(r).toUint8Array()}catch(l){if(l instanceof dI)return Ca("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new t_(o,i,s)}catch(l){return Ca(l instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}tt(e,n,r){return n.ge.count===r-this.it(e,n.targetId)?0:2}it(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.rt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ge(n,s,null),i++)}),i}st(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Ze(o);if(a){if(s.current&&Dy(a.target)){const l=new ke(a.target.path);this.Qe.get(l)!==null||this.ot(o,l)||this.Ge(o,l,gn.newNoDocument(l,e))}s.Ce&&(n.set(o,s.Fe()),s.Me())}});let r=Ue();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ze(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new sp(e,n,this.$e,this.Qe,r);return this.Qe=Di(),this.Ke=pT(),this.$e=new Ot(Xe),i}We(e,n){if(!this.He(e))return;const r=this.ot(e,n.key)?2:0;this.je(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.Ke=this.Ke.insert(n.key,this._t(n.key).add(e))}Ge(e,n,r){if(!this.He(e))return;const i=this.je(e);this.ot(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this._t(n).delete(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}Xe(e){const n=this.je(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.je(e).Ne()}je(e){let n=this.qe.get(e);return n||(n=new dT,this.qe.set(e,n)),n}_t(e){let n=this.Ke.get(e);return n||(n=new an(Xe),this.Ke=this.Ke.insert(e,n)),n}He(e){const n=this.Ze(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}Ze(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.ut(e)}Je(e){this.qe.set(e,new dT),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.Ge(e,n,null)})}ot(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function pT(){return new Ot(ke.comparator)}function mT(){return new Ot(ke.comparator)}const y8=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),v8=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),_8=(()=>({and:"AND",or:"OR"}))();class w8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jy(t,e){return t.useProto3Json||Jd(e)?e:{value:e}}function Jh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function E8(t,e){return Jh(t,e.toTimestamp())}function Zr(t){return mt(!!t),Pe.fromTimestamp(function(n){const r=xs(n);return new Gt(r.seconds,r.nanos)}(t))}function n_(t,e){return function(r){return new dt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function UI(t){const e=dt.fromString(t);return mt(qI(e)),e}function Vy(t,e){return n_(t.databaseId,e.path)}function Zm(t,e){const n=UI(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke($I(n))}function Fy(t,e){return n_(t.databaseId,e)}function T8(t){const e=UI(t);return e.length===4?dt.emptyPath():$I(e)}function Uy(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $I(t){return mt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function gT(t,e,n){return{name:Vy(t,e),fields:n.value.mapValue.fields}}function S8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(mt(f===void 0||typeof f=="string"),Sn.fromBase64String(f||"")):(mt(f===void 0||f instanceof Uint8Array),Sn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const f=c.code===void 0?ie.UNKNOWN:LI(c.code);return new ve(f,c.message||"")}(o);n=new VI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Zm(t,r.document.name),s=Zr(r.document.updateTime),o=r.document.createTime?Zr(r.document.createTime):Pe.min(),a=new Fn({mapValue:{fields:r.document.fields}}),l=gn.newFoundDocument(i,s,o,a),c=r.targetIds||[],f=r.removedTargetIds||[];n=new th(c,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Zm(t,r.document),s=r.readTime?Zr(r.readTime):Pe.min(),o=gn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new th([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Zm(t,r.document),s=r.removedTargetIds||[];n=new th([],s,i,null)}else{if(!("filter"in e))return Ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new h8(i,s),a=r.targetId;n=new jI(a,o)}}return n}function k8(t,e){let n;if(e instanceof bc)n={update:gT(t,e.key,e.value)};else if(e instanceof J0)n={delete:Vy(t,e.key)};else if(e instanceof js)n={update:gT(t,e.key,e.data),updateMask:C8(e.fieldMask)};else{if(!(e instanceof u8))return Ie();n={verify:Vy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Xh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Yu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ku)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw Ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:E8(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ie()}(t,e.precondition)),n}function b8(t,e){return t&&t.length>0?(mt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Zr(i.updateTime):Zr(s);return o.isEqual(Pe.min())&&(o=Zr(s)),new o8(o,i.transformResults||[])}(n,e))):[]}function x8(t,e){return{documents:[Fy(t,e.path)]}}function I8(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Fy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Fy(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return zI(Rr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:Ho(h.field),direction:P8(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=jy(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function O8(t){let e=T8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){mt(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(h){const d=BI(h);return d instanceof Rr&&yI(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(w){return new Hu(Yo(w.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,Jd(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,p=h.values||[];return new Zh(p,d)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const d=!h.before,p=h.values||[];return new Zh(p,d)}(n.endAt)),YV(e,i,o,s,a,"F",l,c)}function A8(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yo(n.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Yo(n.unaryFilter.field);return Bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Yo(n.unaryFilter.field);return Bt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Yo(n.unaryFilter.field);return Bt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(t):t.fieldFilter!==void 0?function(n){return Bt.create(Yo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rr.create(n.compositeFilter.filters.map(r=>BI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie()}}(n.compositeFilter.op))}(t):Ie()}function P8(t){return y8[t]}function R8(t){return v8[t]}function N8(t){return _8[t]}function Ho(t){return{fieldPath:t.canonicalString()}}function Yo(t){return rn.fromServerFormat(t.fieldPath)}function zI(t){return t instanceof Bt?function(n){if(n.op==="=="){if(nT(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NAN"}};if(tT(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nT(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NAN"}};if(tT(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(n.field),op:R8(n.op),value:n.value}}}(t):t instanceof Rr?function(n){const r=n.getFilters().map(i=>zI(i));return r.length===1?r[0]:{compositeFilter:{op:N8(n.op),filters:r}}}(t):Ie()}function C8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r,i,s=Pe.min(),o=Pe.min(),a=Sn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e){this.ct=e}}function M8(t){const e=O8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ly(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(){this._n=new j8}addToCollectionParentIndex(e,n){return this._n.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(bs.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class j8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new an(dt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new an(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ja(0)}static Bn(){return new ja(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(){this.changes=new Xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ou(r.mutation,i,Xn.empty(),Gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ue()){const i=Js();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=$l();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Js();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Di();const o=su(),a=function(){return su()}();return n.forEach((l,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof js)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),ou(f.mutation,c,f.mutation.getFieldMask(),Gt.now())):o.set(c.key,Xn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var h;return a.set(c,new F8(f,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=su();let i=new Ot((o,a)=>o-a),s=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let f=r.get(l)||Xn.empty();f=a.applyToLocalView(c,f),r.set(l,f);const h=(i.get(a.batchId)||Ue()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,f=l.value,h=xI();f.forEach(d=>{if(!s.has(d)){const p=DI(n.get(d),r.get(d));p!==null&&h.set(d,p),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return oe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ke.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):oe.resolve(Js());let a=-1,l=s;return o.next(c=>oe.forEach(c,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(f)?oe.resolve():this.remoteDocumentCache.getEntry(e,f).next(d=>{l=l.insert(f,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ue())).next(f=>({batchId:a,changes:bI(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next(r=>{let i=$l();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=$l();return this.indexManager.getCollectionParents(e,s).next(a=>oe.forEach(a,l=>{const c=function(h,d){return new Za(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,gn.newInvalidDocument(f)))});let a=$l();return o.forEach((l,c)=>{const f=s.get(l);f!==void 0&&ou(f.mutation,c,Xn.empty(),Gt.now()),np(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return oe.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zr(i.createTime)}}(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:M8(i.bundledQuery),readTime:Zr(i.readTime)}}(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(){this.overlays=new Ot(ke.comparator),this.hr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Js();return oe.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),oe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const i=Js(),s=n.length+1,o=new ke(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ot((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=Js(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=Js(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=i)););return oe.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new f8(n,r));let s=this.hr.get(n);s===void 0&&(s=Ue(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(){this.Pr=new an(Kt.Ir),this.Tr=new an(Kt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Kt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Kt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ke(new dt([])),r=new Kt(n,e),i=new Kt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ke(new dt([])),r=new Kt(n,e),i=new Kt(n,e+1);let s=Ue();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Kt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ke.comparator(e.key,n.key)||Xe(e.pr,n.pr)}static Er(e,n){return Xe(e.pr,n.pr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new an(Kt.Ir)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new c8(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Kt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return oe.resolve(o)}lookupMutationBatch(e,n){return oe.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return oe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kt(n,0),i=new Kt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),oe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new an(Xe);return n.forEach(i=>{const s=new Kt(i,0),o=new Kt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),oe.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ke.isDocumentKey(s)||(s=s.child(""));const o=new Kt(new ke(s),0);let a=new an(Xe);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),oe.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){mt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return oe.forEach(n.mutations,i=>{const s=new Kt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Kt(n,0),i=this.wr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e){this.vr=e,this.docs=function(){return new Ot(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let r=Di();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():gn.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Di();const o=n.path,a=new ke(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:f}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||PV(AV(f),r)<=0||(i.has(f.key)||np(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return oe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ie()}Fr(e,n){return oe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new W8(this)}getSize(e){return oe.resolve(this.size)}}class W8 extends V8{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),oe.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e){this.persistence=e,this.Mr=new Xa(n=>Z0(n),X0),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new r_,this.targetCount=0,this.Br=ja.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),oe.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new ja(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.qn(n),oe.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),oe.waitFor(s).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),oe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Y0(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new H8(this),this.indexManager=new L8,this.remoteDocumentCache=function(i){return new q8(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new D8(n),this.$r=new $8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new B8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new z8(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const i=new G8(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return oe.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class G8 extends NV{constructor(e){super(),this.currentSequenceNumber=e}}class i_{constructor(e){this.persistence=e,this.zr=new r_,this.jr=null}static Hr(e){return new i_(e)}get Jr(){if(this.jr)return this.jr;throw Ie()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),oe.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Jr,r=>{const i=ke.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Pe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return oe.or([()=>oe.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ue(),i=Ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new s_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new K8;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ol()<=Be.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),oe.resolve()):(Ol()<=Be.DEBUG&&_e("QueryEngine","Query:",Wo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ol()<=Be.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(n))):oe.resolve())}ji(e,n){if(oT(n))return oe.resolve(null);let r=Qr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ly(n,null,"F"),r=Qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ue(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,Ly(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return oT(n)||i.isEqual(Pe.min())?oe.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?oe.resolve(null):(Ol()<=Be.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wo(n)),this.es(e,o,n,OV(i,-1)).next(a=>a))})}Zi(e,n){let r=new an(SI(e));return n.forEach((i,s)=>{np(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ol()<=Be.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Wo(n)),this.zi.getDocumentsMatchingQuery(e,n,bs.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ot(Xe),this.rs=new Xa(s=>Z0(s),X0),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U8(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function X8(t,e,n,r){return new Z8(t,e,n,r)}async function WI(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ue();for(const c of i){o.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}for(const c of s){a.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function J8(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,f){const h=c.batch,d=h.keys();let p=oe.resolve();return d.forEach(w=>{p=p.next(()=>f.getEntry(l,w)).next(E=>{const _=c.docVersions.get(w);mt(_!==null),E.version.compareTo(_)<0&&(h.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),f.addEntry(E)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ue();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function HI(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function e7(t,e){const n=Ne(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((f,h)=>{const d=i.get(h);if(!d)return;a.push(n.Qr.removeMatchingKeys(s,f.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,f.addedDocuments,h)));let p=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Sn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,r)),i=i.insert(h,p),function(E,_,g){return E.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(d,p,f)&&a.push(n.Qr.updateTargetData(s,p))});let l=Di(),c=Ue();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(t7(s,o,e.documentUpdates).next(f=>{l=f.cs,c=f.ls})),!r.isEqual(Pe.min())){const f=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return oe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function t7(t,e,n){let r=Ue(),i=Ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Di();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Pe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):_e("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function n7(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function r7(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,oe.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new rs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function $y(t,e,n){const r=Ne(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!kc(o))throw o;_e("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function yT(t,e,n){const r=Ne(t);let i=Pe.min(),s=Ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,f){const h=Ne(l),d=h.rs.get(f);return d!==void 0?oe.resolve(h.ns.get(d)):h.Qr.getTargetData(c,f)}(r,o,Qr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Pe.min(),n?s:Ue())).next(a=>(i7(r,KV(e),a),{documents:a,hs:s})))}function i7(t,e,n){let r=t.ss.get(e)||Pe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class vT{constructor(){this.activeTargetIds=t8()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s7{constructor(){this.no=new vT,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new vT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){_e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){_e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af=null;function Xm(){return Af===null?Af=function(){return 268435456+Math.round(2147483648*Math.random())}():Af++,"0x"+Af.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class u7 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=Xm(),l=this.bo(n,r);_e("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,s,o),this.Co(n,l,c,i).then(f=>(_e("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Ca("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",l,"request:",i),f})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=a7[n];return`${this.fo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=Xm();return new Promise((o,a)=>{const l=new yV;l.setWithCredentials(!0),l.listenOnce(mV.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qm.NO_ERROR:const f=l.getResponseJson();_e(dn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Qm.TIMEOUT:_e(dn,`RPC '${e}' ${s} timed out`),a(new ve(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Qm.HTTP_ERROR:const h=l.getStatus();if(_e(dn,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const w=function(_){const g=_.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(g)>=0?g:ie.UNKNOWN}(p.status);a(new ve(w,p.message))}else a(new ve(ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ve(ie.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{_e(dn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);_e(dn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=Xm(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dV(),a=pV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");_e(dn,`Creating RPC '${e}' stream ${i}: ${f}`,l);const h=o.createWebChannel(f,l);let d=!1,p=!1;const w=new l7({lo:_=>{p?_e(dn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(d||(_e(dn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),_e(dn,`RPC '${e}' stream ${i} sending:`,_),h.send(_))},ho:()=>h.close()}),E=(_,g,m)=>{_.listen(g,T=>{try{m(T)}catch(v){setTimeout(()=>{throw v},0)}})};return E(h,xf.EventType.OPEN,()=>{p||_e(dn,`RPC '${e}' stream ${i} transport opened.`)}),E(h,xf.EventType.CLOSE,()=>{p||(p=!0,_e(dn,`RPC '${e}' stream ${i} transport closed`),w.Vo())}),E(h,xf.EventType.ERROR,_=>{p||(p=!0,Ca(dn,`RPC '${e}' stream ${i} transport errored:`,_),w.Vo(new ve(ie.UNAVAILABLE,"The operation could not be completed")))}),E(h,xf.EventType.MESSAGE,_=>{var g;if(!p){const m=_.data[0];mt(!!m);const T=m,v=T.error||((g=T[0])===null||g===void 0?void 0:g.error);if(v){_e(dn,`RPC '${e}' stream ${i} received error:`,v);const S=v.status;let P=function(N){const b=Ft[N];if(b!==void 0)return LI(b)}(S),I=v.message;P===void 0&&(P=ie.INTERNAL,I="Unknown error status: "+S+" with message "+v.message),p=!0,w.Vo(new ve(P,I)),h.close()}else _e(dn,`RPC '${e}' stream ${i} received:`,m),w.mo(m)}}),E(a,gV.STAT_EVENT,_=>{_.stat===KE.PROXY?_e(dn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===KE.NOPROXY&&_e(dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.Ro()},0),w}}function Jm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t){return new w8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new YI(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Ci(n.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new ve(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return _e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(_e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class c7 extends GI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=S8(this.serializer,e),r=function(s){if(!("targetChange"in s))return Pe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Pe.min():o.readTime?Zr(o.readTime):Pe.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Uy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Dy(l)?{documents:x8(s,l)}:{query:I8(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=FI(s,o.resumeToken);const c=jy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Pe.min())>0){a.readTime=Jh(s,o.snapshotVersion.toTimestamp());const c=jy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=A8(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Uy(this.serializer),n.removeTarget=e,this.t_(n)}}class f7 extends GI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=b8(e.writeResults,e.commitTime),r=Zr(e.commitTime);return this.listener.T_(r,n)}return mt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Uy(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>k8(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new ve(ie.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.So(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ve(ie.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ve(ie.UNKNOWN,s.toString())})}terminate(){this.A_=!0}}class d7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Ci(n),this.g_=!1):_e("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{Ro(this)&&(_e("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ne(l);c.v_.add(4),await Ic(c),c.x_.set("Unknown"),c.v_.delete(4),await ap(c)}(this))})}),this.x_=new d7(r,i)}}async function ap(t){if(Ro(t))for(const e of t.F_)await e(!0)}async function Ic(t){for(const e of t.F_)await e(!1)}function KI(t,e){const n=Ne(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),l_(n)?a_(n):Ja(n).Jo()&&o_(n,e))}function QI(t,e){const n=Ne(t),r=Ja(n);n.C_.delete(e),r.Jo()&&ZI(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Ro(n)&&n.x_.set("Unknown"))}function o_(t,e){if(t.O_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ja(t).c_(e)}function ZI(t,e){t.O_.Ne(e),Ja(t).l_(e)}function a_(t){t.O_=new g8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.C_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),Ja(t).start(),t.x_.p_()}function l_(t){return Ro(t)&&!Ja(t).Ho()&&t.C_.size>0}function Ro(t){return Ne(t).v_.size===0}function XI(t){t.O_=void 0}async function m7(t){t.C_.forEach((e,n)=>{o_(t,e)})}async function g7(t,e){XI(t),l_(t)?(t.x_.S_(e),a_(t)):t.x_.set("Unknown")}async function y7(t,e,n){if(t.x_.set("Online"),e instanceof VI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){_e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ed(t,r)}else if(e instanceof th?t.O_.Ue(e):e instanceof jI?t.O_.Ye(e):t.O_.ze(e),!n.isEqual(Pe.min()))try{const r=await HI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.st(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.C_.get(c);f&&s.C_.set(c,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const f=s.C_.get(l);if(!f)return;s.C_.set(l,f.withResumeToken(Sn.EMPTY_BYTE_STRING,f.snapshotVersion)),ZI(s,l);const h=new rs(f.target,l,c,f.sequenceNumber);o_(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){_e("RemoteStore","Failed to raise snapshot:",r),await ed(t,r)}}async function ed(t,e,n){if(!kc(e))throw e;t.v_.add(1),await Ic(t),t.x_.set("Offline"),n||(n=()=>HI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await ap(t)})}function JI(t,e){return e().catch(n=>ed(t,n,e))}async function lp(t){const e=Ne(t),n=Is(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;v7(e);)try{const i=await n7(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,_7(e,i)}catch(i){await ed(e,i)}eO(e)&&tO(e)}function v7(t){return Ro(t)&&t.D_.length<10}function _7(t,e){t.D_.push(e);const n=Is(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function eO(t){return Ro(t)&&!Is(t).Ho()&&t.D_.length>0}function tO(t){Is(t).start()}async function w7(t){Is(t).d_()}async function E7(t){const e=Is(t);for(const n of t.D_)e.I_(n.mutations)}async function T7(t,e,n){const r=t.D_.shift(),i=e_.from(r,e,n);await JI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await lp(t)}async function S7(t,e){e&&Is(t).P_&&await async function(r,i){if(function(o){return d8(o)&&o!==ie.ABORTED}(i.code)){const s=r.D_.shift();Is(r).Zo(),await JI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await lp(r)}}(t,e),eO(t)&&tO(t)}async function wT(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),_e("RemoteStore","RemoteStore received new credentials");const r=Ro(n);n.v_.add(3),await Ic(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await ap(n)}async function k7(t,e){const n=Ne(t);e?(n.v_.delete(2),await ap(n)):e||(n.v_.add(2),await Ic(n),n.x_.set("Unknown"))}function Ja(t){return t.N_||(t.N_=function(n,r,i){const s=Ne(n);return s.R_(),new c7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:m7.bind(null,t),To:g7.bind(null,t),u_:y7.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),l_(t)?a_(t):t.x_.set("Unknown")):(await t.N_.stop(),XI(t))})),t.N_}function Is(t){return t.B_||(t.B_=function(n,r,i){const s=Ne(n);return s.R_(),new f7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:w7.bind(null,t),To:S7.bind(null,t),E_:E7.bind(null,t),T_:T7.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await lp(t)):(await t.B_.stop(),t.D_.length>0&&(_e("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new u_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function c_(t,e){if(Ci("AsyncQueue",`${e}: ${t}`),kc(t))return new ve(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=$l(),this.sortedSet=new Ot(this.comparator)}static emptySet(e){return new wa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new wa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.L_=new Ot(ke.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Ie():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Va{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Va(e,n,wa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(){this.q_=void 0,this.listeners=[]}}class x7{constructor(){this.queries=new Xa(e=>TI(e),tp),this.onlineState="Unknown",this.Q_=new Set}}async function nO(t,e){const n=Ne(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new b7),i)try{s.q_=await n.onListen(r)}catch(o){const a=c_(o,`Initialization of query '${Wo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.K_(n.onlineState),s.q_&&e.U_(s.q_)&&f_(n)}async function rO(t,e){const n=Ne(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function I7(t,e){const n=Ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.U_(i)&&(r=!0);o.q_=i}}r&&f_(n)}function O7(t,e,n){const r=Ne(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function f_(t){t.Q_.forEach(e=>{e.next()})}class iO{constructor(e,n,r){this.query=e,this.W_=n,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}U_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Va(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.G_?this.j_(e)&&(this.W_.next(e),n=!0):this.H_(e,this.onlineState)&&(this.J_(e),n=!0),this.z_=e,n}onError(e){this.W_.error(e)}K_(e){this.onlineState=e;let n=!1;return this.z_&&!this.G_&&this.H_(this.z_,e)&&(this.J_(this.z_),n=!0),n}H_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Y_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}j_(e){if(e.docChanges.length>0)return!0;const n=this.z_&&this.z_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}J_(e){e=Va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.G_=!0,this.W_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.key=e}}class oO{constructor(e){this.key=e}}class A7{constructor(e,n){this.query=e,this.sa=n,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=Ue(),this.mutatedKeys=Ue(),this.aa=SI(e),this.ua=new wa(this.aa)}get ca(){return this.sa}la(e,n){const r=n?n.ha:new ET,i=n?n.ua:this.ua;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const d=i.get(f),p=np(this.query,h)?h:null,w=!!d&&this.mutatedKeys.has(d.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;d&&p?d.data.isEqual(p.data)?w!==E&&(r.track({type:3,doc:p}),_=!0):this.Pa(d,p)||(r.track({type:2,doc:p}),_=!0,(l&&this.aa(p,l)>0||c&&this.aa(p,c)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),_=!0):d&&!p&&(r.track({type:1,doc:d}),_=!0,(l||c)&&(a=!0)),_&&(p?(o=o.add(p),s=E?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{ua:o,ha:r,Xi:a,mutatedKeys:s}}Pa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ua;this.ua=e.ua,this.mutatedKeys=e.mutatedKeys;const s=e.ha.k_();s.sort((c,f)=>function(d,p){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return w(d)-w(p)}(c.type,f.type)||this.aa(c.doc,f.doc)),this.Ia(r);const o=n?this.Ta():[],a=this._a.size===0&&this.current?1:0,l=a!==this.oa;return this.oa=a,s.length!==0||l?{snapshot:new Va(this.query,e.ua,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}K_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ua:this.ua,ha:new ET,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}da(e){return!this.sa.has(e)&&!!this.ua.has(e)&&!this.ua.get(e).hasLocalMutations}Ia(e){e&&(e.addedDocuments.forEach(n=>this.sa=this.sa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.sa=this.sa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this._a;this._a=Ue(),this.ua.forEach(r=>{this.da(r.key)&&(this._a=this._a.add(r.key))});const n=[];return e.forEach(r=>{this._a.has(r)||n.push(new oO(r))}),this._a.forEach(r=>{e.has(r)||n.push(new sO(r))}),n}Aa(e){this.sa=e.hs,this._a=Ue();const n=this.la(e.documents);return this.applyChanges(n,!0)}Ra(){return Va.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,this.oa===0,this.hasCachedResults)}}class P7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class R7{constructor(e){this.key=e,this.Va=!1}}class N7{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ma={},this.fa=new Xa(a=>TI(a),tp),this.ga=new Map,this.pa=new Set,this.ya=new Ot(ke.comparator),this.wa=new Map,this.Sa=new r_,this.ba={},this.Da=new Map,this.Ca=ja.Bn(),this.onlineState="Unknown",this.va=void 0}get isPrimaryClient(){return this.va===!0}}async function C7(t,e){const n=z7(t);let r,i;const s=n.fa.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ra();else{const o=await r7(n.localStore,Qr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await D7(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&KI(n.remoteStore,o)}return i}async function D7(t,e,n,r,i){t.Fa=(h,d,p)=>async function(E,_,g,m){let T=_.view.la(g);T.Xi&&(T=await yT(E.localStore,_.query,!1).then(({documents:P})=>_.view.la(P,T)));const v=m&&m.targetChanges.get(_.targetId),S=_.view.applyChanges(T,E.isPrimaryClient,v);return ST(E,_.targetId,S.Ea),S.snapshot}(t,h,d,p);const s=await yT(t.localStore,e,!0),o=new A7(e,s.hs),a=o.la(s.documents),l=xc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);ST(t,n,c.Ea);const f=new P7(e,n,o);return t.fa.set(e,f),t.ga.has(n)?t.ga.get(n).push(e):t.ga.set(n,[e]),c.snapshot}async function M7(t,e){const n=Ne(t),r=n.fa.get(e),i=n.ga.get(r.targetId);if(i.length>1)return n.ga.set(r.targetId,i.filter(s=>!tp(s,e))),void n.fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await $y(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),QI(n.remoteStore,r.targetId),By(n,r.targetId)}).catch(Sc)):(By(n,r.targetId),await $y(n.localStore,r.targetId,!0))}async function L7(t,e,n){const r=q7(t);try{const i=await function(o,a){const l=Ne(o),c=Gt.now(),f=a.reduce((p,w)=>p.add(w.key),Ue());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let w=Di(),E=Ue();return l.os.getEntries(p,f).next(_=>{w=_,w.forEach((g,m)=>{m.isValidDocument()||(E=E.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,w)).next(_=>{h=_;const g=[];for(const m of a){const T=l8(m,h.get(m.key).overlayedDocument);T!=null&&g.push(new js(m.key,T,pI(T.value.mapValue),dr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,g,a)}).next(_=>{d=_;const g=_.applyToLocalDocumentSet(h,E);return l.documentOverlayCache.saveOverlays(p,_.batchId,g)})}).then(()=>({batchId:d.batchId,changes:bI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.ba[o.currentUser.toKey()];c||(c=new Ot(Xe)),c=c.insert(a,l),o.ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Oc(r,i.changes),await lp(r.remoteStore)}catch(i){const s=c_(i,"Failed to persist write");n.reject(s)}}async function aO(t,e){const n=Ne(t);try{const r=await e7(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.wa.get(s);o&&(mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Va=!0:i.modifiedDocuments.size>0?mt(o.Va):i.removedDocuments.size>0&&(mt(o.Va),o.Va=!1))}),await Oc(n,r,e)}catch(r){await Sc(r)}}function TT(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.fa.forEach((s,o)=>{const a=o.view.K_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ne(o);l.onlineState=a;let c=!1;l.queries.forEach((f,h)=>{for(const d of h.listeners)d.K_(a)&&(c=!0)}),c&&f_(l)}(r.eventManager,e),i.length&&r.ma.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function j7(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.wa.get(e),s=i&&i.key;if(s){let o=new Ot(ke.comparator);o=o.insert(s,gn.newNoDocument(s,Pe.min()));const a=Ue().add(s),l=new sp(Pe.min(),new Map,new Ot(Xe),o,a);await aO(r,l),r.ya=r.ya.remove(s),r.wa.delete(e),h_(r)}else await $y(r.localStore,e,!1).then(()=>By(r,e,n)).catch(Sc)}async function V7(t,e){const n=Ne(t),r=e.batch.batchId;try{const i=await J8(n.localStore,e);uO(n,r,null),lO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Oc(n,i)}catch(i){await Sc(i)}}async function F7(t,e,n){const r=Ne(t);try{const i=await function(o,a){const l=Ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(mt(h!==null),f=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>l.localDocuments.getDocuments(c,f))})}(r.localStore,e);uO(r,e,n),lO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Oc(r,i)}catch(i){await Sc(i)}}function lO(t,e){(t.Da.get(e)||[]).forEach(n=>{n.resolve()}),t.Da.delete(e)}function uO(t,e,n){const r=Ne(t);let i=r.ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ba[r.currentUser.toKey()]=i}}function By(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ga.get(e))t.fa.delete(r),n&&t.ma.Ma(r,n);t.ga.delete(e),t.isPrimaryClient&&t.Sa.Vr(e).forEach(r=>{t.Sa.containsKey(r)||cO(t,r)})}function cO(t,e){t.pa.delete(e.path.canonicalString());const n=t.ya.get(e);n!==null&&(QI(t.remoteStore,n),t.ya=t.ya.remove(e),t.wa.delete(n),h_(t))}function ST(t,e,n){for(const r of n)r instanceof sO?(t.Sa.addReference(r.key,e),U7(t,r)):r instanceof oO?(_e("SyncEngine","Document no longer in limbo: "+r.key),t.Sa.removeReference(r.key,e),t.Sa.containsKey(r.key)||cO(t,r.key)):Ie()}function U7(t,e){const n=e.key,r=n.path.canonicalString();t.ya.get(n)||t.pa.has(r)||(_e("SyncEngine","New document in limbo: "+n),t.pa.add(r),h_(t))}function h_(t){for(;t.pa.size>0&&t.ya.size<t.maxConcurrentLimboResolutions;){const e=t.pa.values().next().value;t.pa.delete(e);const n=new ke(dt.fromString(e)),r=t.Ca.next();t.wa.set(r,new R7(n)),t.ya=t.ya.insert(n,r),KI(t.remoteStore,new rs(Qr(ep(n.path)),r,"TargetPurposeLimboResolution",Y0.ae))}}async function Oc(t,e,n){const r=Ne(t),i=[],s=[],o=[];r.fa.isEmpty()||(r.fa.forEach((a,l)=>{o.push(r.Fa(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const f=s_.Ki(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.ma.u_(i),await async function(l,c){const f=Ne(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>oe.forEach(c,d=>oe.forEach(d.qi,p=>f.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>oe.forEach(d.Qi,p=>f.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!kc(h))throw h;_e("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const p=f.ns.get(d),w=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(w);f.ns=f.ns.insert(d,E)}}}(r.localStore,s))}async function $7(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){_e("SyncEngine","User change. New user:",e.toKey());const r=await WI(n.localStore,e);n.currentUser=e,function(s,o){s.Da.forEach(a=>{a.forEach(l=>{l.reject(new ve(ie.CANCELLED,o))})}),s.Da.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Oc(n,r.us)}}function B7(t,e){const n=Ne(t),r=n.wa.get(e);if(r&&r.Va)return Ue().add(r.key);{let i=Ue();const s=n.ga.get(e);if(!s)return i;for(const o of s){const a=n.fa.get(o);i=i.unionWith(a.view.ca)}return i}}function z7(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j7.bind(null,e),e.ma.u_=I7.bind(null,e.eventManager),e.ma.Ma=O7.bind(null,e.eventManager),e}function q7(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F7.bind(null,e),e}class kT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=op(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return X8(this.persistence,new Q8,e.initialUser,this.serializer)}createPersistence(e){return new Y8(i_.Hr,this.serializer)}createSharedClientState(e){return new s7}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class W7{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$7.bind(null,this.syncEngine),await k7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new x7}()}createDatastore(e){const n=op(e.databaseInfo.databaseId),r=function(s){return new u7(s)}(e.databaseInfo);return function(s,o,a,l){return new h7(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new p7(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>TT(this.syncEngine,n,0),function(){return _T.C()?new _T:new o7}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,f){const h=new N7(i,s,o,a,l,c);return f&&(h.va=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Ne(n);_e("RemoteStore","RemoteStore shutting down."),r.v_.add(5),await Ic(r),r.M_.shutdown(),r.x_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Na(this.observer.next,e)}error(e){this.observer.error?this.Na(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString())}Ba(){this.muted=!0}Na(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pn.UNAUTHENTICATED,this.clientId=fI.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{_e("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(_e("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ve(ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=c_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function eg(t,e){t.asyncQueue.verifyOperationInProgress(),_e("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await WI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G7(t);_e("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>wT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>wT(e.remoteStore,s)),t._onlineComponents=e}function Y7(t){return t.name==="FirebaseError"?t.code===ie.FAILED_PRECONDITION||t.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function G7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e("FirestoreClient","Using user provided OfflineComponentProvider");try{await eg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Y7(n))throw n;Ca("Error using user provided cache. Falling back to memory cache: "+n),await eg(t,new kT)}}else _e("FirestoreClient","Using default OfflineComponentProvider"),await eg(t,new kT);return t._offlineComponents}async function hO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e("FirestoreClient","Using user provided OnlineComponentProvider"),await bT(t,t._uninitializedComponentsProvider._online)):(_e("FirestoreClient","Using default OnlineComponentProvider"),await bT(t,new W7))),t._onlineComponents}function K7(t){return hO(t).then(e=>e.syncEngine)}async function zy(t){const e=await hO(t),n=e.eventManager;return n.onListen=C7.bind(null,e.syncEngine),n.onUnlisten=M7.bind(null,e.syncEngine),n}function Q7(t,e,n={}){const r=new _s;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const f=new fO({next:d=>{o.enqueueAndForget(()=>rO(s,h));const p=d.docs.has(a);!p&&d.fromCache?c.reject(new ve(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?c.reject(new ve(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new iO(ep(a.path),f,{includeMetadataChanges:!0,Y_:!0});return nO(s,h)}(await zy(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t,e,n){if(!n)throw new ve(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Z7(t,e,n,r){if(e===!0&&r===!0)throw new ve(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function IT(t){if(!ke.isDocumentKey(t))throw new ve(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function OT(t){if(ke.isDocumentKey(t))throw new ve(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function up(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie()}function pr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=up(t);throw new ve(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ve(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ve(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _V;switch(r.type){case"firstParty":return new SV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=xT.get(n);r&&(_e("ComponentProvider","Removing Datastore"),xT.delete(n),r.terminate())}(this),Promise.resolve()}}function X7(t,e,n,r={}){var i;const s=(t=pr(t,cp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=pn.MOCK_USER;else{a=ib(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ve(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new pn(c)}t._authCredentials=new wV(new cI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class _n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class ws extends No{constructor(e,n,r){super(e,n,ep(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new ke(e))}withConverter(e){return new ws(this.firestore,e,this._path)}}function Ac(t,e,...n){if(t=It(t),pO("collection","path",e),t instanceof cp){const r=dt.fromString(e,...n);return OT(r),new ws(t,null,r)}{if(!(t instanceof _n||t instanceof ws))throw new ve(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return OT(r),new ws(t.firestore,null,r)}}function Ht(t,e,...n){if(t=It(t),arguments.length===1&&(e=fI.V()),pO("doc","path",e),t instanceof cp){const r=dt.fromString(e,...n);return IT(r),new _n(t,null,new ke(r))}{if(!(t instanceof _n||t instanceof ws))throw new ve(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return IT(r),new _n(t.firestore,t instanceof ws?t.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(){this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new YI(this,"async_queue_retry"),this.su=()=>{const n=Jm();n&&_e("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Jm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.su)}get isShuttingDown(){return this.Xa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ou(),this._u(e)}enterRestrictedMode(e){if(!this.Xa){this.Xa=!0,this.ru=e||!1;const n=Jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.su)}}enqueue(e){if(this.ou(),this.Xa)return new Promise(()=>{});const n=new _s;return this._u(()=>this.Xa&&this.ru?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Za.push(e),this.au()))}async au(){if(this.Za.length!==0){try{await this.Za[0](),this.Za.shift(),this.jo.reset()}catch(e){if(!kc(e))throw e;_e("AsyncQueue","Operation failed with retryable error: "+e)}this.Za.length>0&&this.jo.qo(()=>this.au())}}_u(e){const n=this.Ya.then(()=>(this.nu=!0,e().catch(r=>{this.tu=r,this.nu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ci("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.nu=!1,r))));return this.Ya=n,n}enqueueAfterDelay(e,n,r){this.ou(),this.iu.indexOf(e)>-1&&(n=0);const i=u_.createAndSchedule(this,e,n,r,s=>this.uu(s));return this.eu.push(i),i}ou(){this.tu&&Ie()}verifyOperationInProgress(){}async cu(){let e;do e=this.Ya,await e;while(e!==this.Ya)}lu(e){for(const n of this.eu)if(n.timerId===e)return!0;return!1}hu(e){return this.cu().then(()=>{this.eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.cu()})}Pu(e){this.iu.push(e)}uu(e){const n=this.eu.indexOf(e);this.eu.splice(n,1)}}function PT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Os extends cp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new J7}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||mO(this),this._firestoreClient.terminate()}}function eF(t,e){const n=typeof t=="object"?t:l0(),r=typeof t=="string"?t:e||"(default)",i=Cd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=tb("firestore");s&&X7(i,...s)}return i}function d_(t){return t._firestoreClient||mO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function mO(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,f){return new MV(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,dO(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new H7(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fa(Sn.fromBase64String(e))}catch(n){throw new ve(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fa(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=/^__.*__$/;class nF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,n,this.fieldTransforms):new bc(e,this.data,n,this.fieldTransforms)}}class gO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new js(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class m_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Iu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new m_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}du(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Ru(e),i}Vu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Iu(),i}mu(e){return this.Eu({path:void 0,Au:!0})}fu(e){return td(e,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Iu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ru(this.path.get(e))}Ru(e){if(e.length===0)throw this.fu("Document fields must not be empty");if(yO(this.Tu)&&tF.test(e))throw this.fu('Document fields cannot begin and end with "__"')}}class rF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||op(e)}yu(e,n,r,i=!1){return new m_({Tu:e,methodName:n,pu:r,path:rn.emptyPath(),Au:!1,gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dp(t){const e=t._freezeSettings(),n=op(t._databaseId);return new rF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vO(t,e,n,r,i,s={}){const o=t.yu(s.merge||s.mergeFields?2:0,e,n,i);g_("Data must be an object, but it was:",o,r);const a=_O(r,o);let l,c;if(s.merge)l=new Xn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const d=qy(e,h,n);if(!o.contains(d))throw new ve(ie.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);EO(f,d)||f.push(d)}l=new Xn(f),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new nF(new Fn(a),l,c)}class pp extends hp{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.fu(`${this._methodName}() can only appear at the top level of your update data`):e.fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pp}}class iF extends hp{constructor(e,n){super(e),this.Su=n}_toFieldTransform(e){const n=new Ku(e.serializer,AI(e.serializer,this.Su));return new i8(e.path,n)}isEqual(e){return this===e}}function sF(t,e,n,r){const i=t.yu(1,e,n);g_("Data must be an object, but it was:",i,r);const s=[],o=Fn.empty();Po(r,(l,c)=>{const f=y_(e,l,n);c=It(c);const h=i.Vu(f);if(c instanceof pp)s.push(f);else{const d=Pc(c,h);d!=null&&(s.push(f),o.set(f,d))}});const a=new Xn(s);return new gO(o,a,i.fieldTransforms)}function oF(t,e,n,r,i,s){const o=t.yu(1,e,n),a=[qy(e,r,n)],l=[i];if(s.length%2!=0)throw new ve(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(qy(e,s[d])),l.push(s[d+1]);const c=[],f=Fn.empty();for(let d=a.length-1;d>=0;--d)if(!EO(c,a[d])){const p=a[d];let w=l[d];w=It(w);const E=o.Vu(p);if(w instanceof pp)c.push(p);else{const _=Pc(w,E);_!=null&&(c.push(p),f.set(p,_))}}const h=new Xn(c);return new gO(f,h,o.fieldTransforms)}function aF(t,e,n,r=!1){return Pc(n,t.yu(r?4:3,e))}function Pc(t,e){if(wO(t=It(t)))return g_("Unsupported field value:",e,t),_O(t,e);if(t instanceof hp)return function(r,i){if(!yO(i.Tu))throw i.fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Au&&e.Tu!==4)throw e.fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Pc(a,i.mu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=It(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AI(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Gt.fromDate(r);return{timestampValue:Jh(i.serializer,s)}}if(r instanceof Gt){const s=new Gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jh(i.serializer,s)}}if(r instanceof p_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fa)return{bytesValue:FI(i.serializer,r._byteString)};if(r instanceof _n){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:n_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.fu(`Unsupported field value: ${up(r)}`)}(t,e)}function _O(t,e){const n={};return hI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Po(t,(r,i)=>{const s=Pc(i,e.du(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function wO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Gt||t instanceof p_||t instanceof Fa||t instanceof _n||t instanceof hp)}function g_(t,e,n){if(!wO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=up(n);throw r==="an object"?e.fu(t+" a custom object"):e.fu(t+" "+r)}}function qy(t,e,n){if((e=It(e))instanceof fp)return e._internalPath;if(typeof e=="string")return y_(t,e);throw td("Field path arguments must be of type string or ",t,!1,void 0,n)}const lF=new RegExp("[~\\*/\\[\\]]");function y_(t,e,n){if(e.search(lF)>=0)throw td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fp(...e.split("."))._internalPath}catch{throw td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function td(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ve(ie.INVALID_ARGUMENT,a+t+l)}function EO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(v_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uF extends TO{data(){return super.data()}}function v_(t,e){return typeof e=="string"?y_(t,e):e instanceof fp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class __{}class SO extends __{}function w_(t,e,...n){let r=[];e instanceof __&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof T_).length,a=s.filter(l=>l instanceof E_).length;if(o>1||o>0&&a>0)throw new ve(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class E_ extends SO{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new E_(e,n,r)}_apply(e){const n=this._parse(e);return kO(e._query,n),new No(e.firestore,e.converter,My(e._query,n))}_parse(e){const n=dp(e.firestore);return function(s,o,a,l,c,f,h){let d;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ve(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){NT(h,f);const p=[];for(const w of h)p.push(RT(l,s,w));d={arrayValue:{values:p}}}else d=RT(l,s,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||NT(h,f),d=aF(a,o,h,f==="in"||f==="not-in");return Bt.create(c,f,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class T_ extends __{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new T_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)kO(o,l),o=My(o,l)}(e._query,n),new No(e.firestore,e.converter,My(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class S_ extends SO{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new S_(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ve(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ve(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hu(s,o)}(e._query,this._field,this._direction);return new No(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Za(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function fF(t,e="asc"){const n=e,r=v_("orderBy",t);return S_._create(r,n)}function RT(t,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new ve(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EI(e)&&n.indexOf("/")!==-1)throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(dt.fromString(n));if(!ke.isDocumentKey(r))throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eT(t,new ke(r))}if(n instanceof _n)return eT(t,n._key);throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${up(n)}.`)}function NT(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kO(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ve(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hF{convertValue(e,n="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Po(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new p_(Ut(e.latitude),Ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=K0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zu(e));default:return null}}convertTimestamp(e){const n=xs(e);return new Gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=dt.fromString(e);mt(qI(r));const i=new qu(r.get(1),r.get(3)),s=new ke(r.popFirst(5));return i.isEqual(n)||Ci(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xO extends TO{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(v_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class nh extends xO{data(e={}){return super.data(e)}}class dF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new zl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nh(this._firestore,this._userDataWriter,r.key,r,new zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new nh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new nh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:pF(a.type),doc:l,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t){t=pr(t,_n);const e=pr(t.firestore,Os);return Q7(d_(e),t._key).then(n=>AO(e,t,n))}class IO extends hF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function Ua(t,e,n){t=pr(t,_n);const r=pr(t.firestore,Os),i=bO(t.converter,e,n);return gp(r,[vO(dp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,dr.none())])}function mp(t,e,n,...r){t=pr(t,_n);const i=pr(t.firestore,Os),s=dp(i);let o;return o=typeof(e=It(e))=="string"||e instanceof fp?oF(s,"updateDoc",t._key,e,n,r):sF(s,"updateDoc",t._key,e),gp(i,[o.toMutation(t._key,dr.exists(!0))])}function Ti(t){return gp(pr(t.firestore,Os),[new J0(t._key,dr.none())])}function OO(t,e){const n=pr(t.firestore,Os),r=Ht(t),i=bO(t.converter,e);return gp(n,[vO(dp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,dr.exists(!1))]).then(()=>r)}function k_(t,...e){var n,r,i;t=It(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||PT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(PT(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,f;if(t instanceof _n)c=pr(t.firestore,Os),f=ep(t._key.path),l={next:h=>{e[o]&&e[o](AO(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=pr(t,No);c=pr(h.firestore,Os),f=h._query;const d=new IO(c);l={next:p=>{e[o]&&e[o](new dF(c,d,h,p))},error:e[o+1],complete:e[o+2]},cF(t._query)}return function(d,p,w,E){const _=new fO(E),g=new iO(p,_,w);return d.asyncQueue.enqueueAndForget(async()=>nO(await zy(d),g)),()=>{_.Ba(),d.asyncQueue.enqueueAndForget(async()=>rO(await zy(d),g))}}(d_(c),f,a,l)}function gp(t,e){return function(r,i){const s=new _s;return r.asyncQueue.enqueueAndForget(async()=>L7(await K7(r),i,s)),s.promise}(d_(t),e)}function AO(t,e,n){const r=n.docs.get(e._key),i=new IO(t);return new xO(t,i,e._key,r,new zl(n.hasPendingWrites,n.fromCache),e.converter)}function mF(t){return new iF("increment",t)}(function(e,n=!0){(function(i){Qa=i})(xo),po(new ks("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Os(new EV(r.getProvider("auth-internal")),new bV(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ve(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qu(c.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Yr(QE,"4.3.0",e),Yr(QE,"4.3.0","esm2017")})();const gF={apiKey:"AIzaSyCkZlutHlhs3luz8XlOqKkTz4NHC8sI2Cs",authDomain:"medium-clone-350.firebaseapp.com",projectId:"medium-clone-350",storageBucket:"medium-clone-350.appspot.com",messagingSenderId:"629534625606",appId:"1:629534625606:web:cddc643c875d0184d39f47",measurementId:"G-J63K11EQFC"},yF=ab(gF),Rc=J6(),vF=new gi,PO=uj(),Tt=eF(yF),b_=t=>{const[e,n]=K.useState(""),[r,i]=K.useState(!0);return K.useEffect(()=>{(async()=>{const o=w_(Ac(Tt,t),fF("created","desc")),a=k_(o,async l=>{const c=await Promise.all(l.docs.map(async f=>{const h={...f.data(),id:f.id},d=Ht(Tt,"users",h==null?void 0:h.userId),p=await Qu(d);if(p.exists()){const{created:w,...E}=p.data();return{...h,...E}}}));n(c),i(!1)});return()=>a()})()},[t]),{data:e,loading:r}},RO=K.createContext(),_F=({children:t})=>{const[e,n]=K.useState(!1),[r,i]=K.useState(!0),[s,o]=K.useState(!0),[a,l]=K.useState([]),[c,f]=K.useState(!1),[h,d]=K.useState(0),[p,w]=K.useState(!1),[E,_]=K.useState({}),[g,m]=K.useState(""),[T,v]=K.useState(""),[S,P]=K.useState(!1);K.useEffect(()=>{const N=U3(Rc,b=>{n(b||null),i(!1)});return()=>N()},[e]),K.useEffect(()=>{(()=>{const b=w_(Ac(Tt,"users"));k_(b,A=>{l(A.docs.map(C=>({...C.data(),id:C.id}))),o(!1)})})()},[]);const{data:I,loading:x}=b_("posts");return R.jsx(RO.Provider,{value:{currentUser:e,setCurrentUser:n,allUsers:a,userLoading:s,publish:S,setPublish:P,showComment:c,setShowComment:f,commentLength:h,setCommentLength:d,updateData:E,setUpdateData:_,title:g,setTitle:m,description:T,setDescription:v,postData:I,postLoading:x,authModel:p,setAuthModel:w},children:r?R.jsx(Cs,{}):t})},yt=()=>K.useContext(RO);function NO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=NO(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function is(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=NO(t))&&(r&&(r+=" "),r+=e);return r}const au=t=>typeof t=="number"&&!isNaN(t),Eo=t=>typeof t=="string",$n=t=>typeof t=="function",rh=t=>Eo(t)||$n(t)?t:null,tg=t=>K.isValidElement(t)||Eo(t)||$n(t)||au(t);function wF(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function yp(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:c,done:f,nodeRef:h,isIn:d}=o;const p=r?`${e}--${l}`:e,w=r?`${n}--${l}`:n,E=K.useRef(0);return K.useLayoutEffect(()=>{const _=h.current,g=p.split(" "),m=T=>{T.target===h.current&&(_.dispatchEvent(new Event("d")),_.removeEventListener("animationend",m),_.removeEventListener("animationcancel",m),E.current===0&&T.type!=="animationcancel"&&_.classList.remove(...g))};_.classList.add(...g),_.addEventListener("animationend",m),_.addEventListener("animationcancel",m)},[]),K.useEffect(()=>{const _=h.current,g=()=>{_.removeEventListener("animationend",g),i?wF(_,f,s):f()};d||(c?g():(E.current=1,_.className+=` ${w}`,_.addEventListener("animationend",g)))},[d]),We.createElement(We.Fragment,null,a)}}function CT(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const sr={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},Pf=t=>{let{theme:e,type:n,...r}=t;return We.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},ng={info:function(t){return We.createElement(Pf,{...t},We.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return We.createElement(Pf,{...t},We.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return We.createElement(Pf,{...t},We.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return We.createElement(Pf,{...t},We.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return We.createElement("div",{className:"Toastify__spinner"})}};function EF(t){const[,e]=K.useReducer(p=>p+1,0),[n,r]=K.useState([]),i=K.useRef(null),s=K.useRef(new Map).current,o=p=>n.indexOf(p)!==-1,a=K.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:p=>s.get(p)}).current;function l(p){let{containerId:w}=p;const{limit:E}=a.props;!E||w&&a.containerId!==w||(a.count-=a.queue.length,a.queue=[])}function c(p){r(w=>p==null?[]:w.filter(E=>E!==p))}function f(){const{toastContent:p,toastProps:w,staleId:E}=a.queue.shift();d(p,w,E)}function h(p,w){let{delay:E,staleId:_,...g}=w;if(!tg(p)||function(C){return!i.current||a.props.enableMultiContainer&&C.containerId!==a.props.containerId||s.has(C.toastId)&&C.updateId==null}(g))return;const{toastId:m,updateId:T,data:v}=g,{props:S}=a,P=()=>c(m),I=T==null;I&&a.count++;const x={...S,style:S.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(g).filter(C=>{let[M,j]=C;return j!=null})),toastId:m,updateId:T,data:v,closeToast:P,isIn:!1,className:rh(g.className||S.toastClassName),bodyClassName:rh(g.bodyClassName||S.bodyClassName),progressClassName:rh(g.progressClassName||S.progressClassName),autoClose:!g.isLoading&&(N=g.autoClose,b=S.autoClose,N===!1||au(N)&&N>0?N:b),deleteToast(){const C=CT(s.get(m),"removed");s.delete(m),sr.emit(4,C);const M=a.queue.length;if(a.count=m==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),M>0){const j=m==null?a.props.limit:1;if(M===1||j===1)a.displayedToast++,f();else{const $=j>M?M:j;a.displayedToast=$;for(let H=0;H<$;H++)f()}}else e()}};var N,b;x.iconOut=function(C){let{theme:M,type:j,isLoading:$,icon:H}=C,G=null;const Q={theme:M,type:j};return H===!1||($n(H)?G=H(Q):K.isValidElement(H)?G=K.cloneElement(H,Q):Eo(H)||au(H)?G=H:$?G=ng.spinner():(z=>z in ng)(j)&&(G=ng[j](Q))),G}(x),$n(g.onOpen)&&(x.onOpen=g.onOpen),$n(g.onClose)&&(x.onClose=g.onClose),x.closeButton=S.closeButton,g.closeButton===!1||tg(g.closeButton)?x.closeButton=g.closeButton:g.closeButton===!0&&(x.closeButton=!tg(S.closeButton)||S.closeButton);let A=p;K.isValidElement(p)&&!Eo(p.type)?A=K.cloneElement(p,{closeToast:P,toastProps:x,data:v}):$n(p)&&(A=p({closeToast:P,toastProps:x,data:v})),S.limit&&S.limit>0&&a.count>S.limit&&I?a.queue.push({toastContent:A,toastProps:x,staleId:_}):au(E)?setTimeout(()=>{d(A,x,_)},E):d(A,x,_)}function d(p,w,E){const{toastId:_}=w;E&&s.delete(E);const g={content:p,props:w};s.set(_,g),r(m=>[...m,_].filter(T=>T!==E)),sr.emit(4,CT(g,g.props.updateId==null?"added":"updated"))}return K.useEffect(()=>(a.containerId=t.containerId,sr.cancelEmit(3).on(0,h).on(1,p=>i.current&&c(p)).on(5,l).emit(2,a),()=>{s.clear(),sr.emit(3,a)}),[]),K.useEffect(()=>{a.props=t,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(p){const w=new Map,E=Array.from(s.values());return t.newestOnTop&&E.reverse(),E.forEach(_=>{const{position:g}=_.props;w.has(g)||w.set(g,[]),w.get(g).push(_)}),Array.from(w,_=>p(_[0],_[1]))},containerRef:i,isToastActive:o}}function DT(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function MT(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function TF(t){const[e,n]=K.useState(!1),[r,i]=K.useState(!1),s=K.useRef(null),o=K.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=K.useRef(t),{autoClose:l,pauseOnHover:c,closeToast:f,onClick:h,closeOnClick:d}=t;function p(v){if(t.draggable){v.nativeEvent.type==="touchstart"&&v.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",g),document.addEventListener("mouseup",m),document.addEventListener("touchmove",g),document.addEventListener("touchend",m);const S=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=S.getBoundingClientRect(),S.style.transition="",o.x=DT(v.nativeEvent),o.y=MT(v.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=S.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=S.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function w(v){if(o.boundingRect){const{top:S,bottom:P,left:I,right:x}=o.boundingRect;v.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=I&&o.x<=x&&o.y>=S&&o.y<=P?_():E()}}function E(){n(!0)}function _(){n(!1)}function g(v){const S=s.current;o.canDrag&&S&&(o.didMove=!0,e&&_(),o.x=DT(v),o.y=MT(v),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),S.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,S.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function m(){document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",m),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",m);const v=s.current;if(o.canDrag&&o.didMove&&v){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void t.closeToast();v.style.transition="transform 0.2s, opacity 0.2s",v.style.transform=`translate${t.draggableDirection}(0)`,v.style.opacity="1"}}K.useEffect(()=>{a.current=t}),K.useEffect(()=>(s.current&&s.current.addEventListener("d",E,{once:!0}),$n(t.onOpen)&&t.onOpen(K.isValidElement(t.children)&&t.children.props),()=>{const v=a.current;$n(v.onClose)&&v.onClose(K.isValidElement(v.children)&&v.children.props)}),[]),K.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||_(),window.addEventListener("focus",E),window.addEventListener("blur",_)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",E),window.removeEventListener("blur",_))}),[t.pauseOnFocusLoss]);const T={onMouseDown:p,onTouchStart:p,onMouseUp:w,onTouchEnd:w};return l&&c&&(T.onMouseEnter=_,T.onMouseLeave=E),d&&(T.onClick=v=>{h&&h(v),o.canCloseOnClick&&f()}),{playToast:E,pauseToast:_,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:T}}function CO(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return We.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":r},We.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},We.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function SF(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:f,isIn:h,theme:d}=t;const p=s||l&&c===0,w={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};l&&(w.transform=`scaleX(${c})`);const E=is("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),_=$n(o)?o({rtl:f,type:i,defaultClassName:E}):is(E,o);return We.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:_,style:w,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{h&&r()}})}const kF=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i}=TF(t),{closeButton:s,children:o,autoClose:a,onClick:l,type:c,hideProgressBar:f,closeToast:h,transition:d,position:p,className:w,style:E,bodyClassName:_,bodyStyle:g,progressClassName:m,progressStyle:T,updateId:v,role:S,progress:P,rtl:I,toastId:x,deleteToast:N,isIn:b,isLoading:A,iconOut:C,closeOnClick:M,theme:j}=t,$=is("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":I},{"Toastify__toast--close-on-click":M}),H=$n(w)?w({rtl:I,position:p,type:c,defaultClassName:$}):is($,w),G=!!P||!a,Q={closeToast:h,type:c,theme:j};let z=null;return s===!1||(z=$n(s)?s(Q):K.isValidElement(s)?K.cloneElement(s,Q):CO(Q)),We.createElement(d,{isIn:b,done:N,position:p,preventExitTransition:n,nodeRef:r},We.createElement("div",{id:x,onClick:l,className:H,...i,style:E,ref:r},We.createElement("div",{...b&&{role:S},className:$n(_)?_({type:c}):is("Toastify__toast-body",_),style:g},C!=null&&We.createElement("div",{className:is("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!A})},C),We.createElement("div",null,o)),z,We.createElement(SF,{...v&&!G?{key:`pb-${v}`}:{},rtl:I,theme:j,delay:a,isRunning:e,isIn:b,closeToast:h,hide:f,type:c,style:T,className:m,controlledProgress:G,progress:P||0})))},vp=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},bF=yp(vp("bounce",!0));yp(vp("slide",!0));yp(vp("zoom"));yp(vp("flip"));const Wy=K.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=EF(t),{className:s,style:o,rtl:a,containerId:l}=t;function c(f){const h=is("Toastify__toast-container",`Toastify__toast-container--${f}`,{"Toastify__toast-container--rtl":a});return $n(s)?s({position:f,rtl:a,defaultClassName:h}):is(h,rh(s))}return K.useEffect(()=>{e&&(e.current=r.current)},[]),We.createElement("div",{ref:r,className:"Toastify",id:l},n((f,h)=>{const d=h.length?{...o}:{...o,pointerEvents:"none"};return We.createElement("div",{className:c(f),style:d,key:`container-${f}`},h.map((p,w)=>{let{content:E,props:_}=p;return We.createElement(kF,{..._,isIn:i(_.toastId),style:{..._.style,"--nth":w+1,"--len":h.length},key:`toast-${_.key}`},E)}))}))});Wy.displayName="ToastContainer",Wy.defaultProps={position:"top-right",transition:bF,autoClose:5e3,closeButton:CO,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let rg,Ws=new Map,ql=[],xF=1;function DO(){return""+xF++}function IF(t){return t&&(Eo(t.toastId)||au(t.toastId))?t.toastId:DO()}function lu(t,e){return Ws.size>0?sr.emit(0,t,e):ql.push({content:t,options:e}),e.toastId}function nd(t,e){return{...e,type:e&&e.type||t,toastId:IF(e)}}function Rf(t){return(e,n)=>lu(e,nd(t,n))}function we(t,e){return lu(t,nd("default",e))}we.loading=(t,e)=>lu(t,nd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),we.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=Eo(i)?we.loading(i,n):we.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(f,h,d)=>{if(h==null)return void we.dismiss(r);const p={type:f,...a,...n,data:d},w=Eo(h)?{render:h}:h;return r?we.update(r,{...p,...w}):we(w.render,{...p,...w}),d},c=$n(t)?t():t;return c.then(f=>l("success",o,f)).catch(f=>l("error",s,f)),c},we.success=Rf("success"),we.info=Rf("info"),we.error=Rf("error"),we.warning=Rf("warning"),we.warn=we.warning,we.dark=(t,e)=>lu(t,nd("default",{theme:"dark",...e})),we.dismiss=t=>{Ws.size>0?sr.emit(1,t):ql=ql.filter(e=>t!=null&&e.options.toastId!==t)},we.clearWaitingQueue=function(t){return t===void 0&&(t={}),sr.emit(5,t)},we.isActive=t=>{let e=!1;return Ws.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},we.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=Ws.get(s||rg);return o&&o.getToast(r)}(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:DO()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,lu(o,s)}},0)},we.done=t=>{we.update(t,{progress:1})},we.onChange=t=>(sr.on(4,t),()=>{sr.off(4,t)}),we.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},we.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},sr.on(2,t=>{rg=t.containerId||t,Ws.set(rg,t),ql.forEach(e=>{sr.emit(0,e.content,e.options)}),ql=[]}).on(3,t=>{Ws.delete(t.containerId||t),Ws.size===0&&sr.off(0).off(1).off(5)});const To=(t,e,n)=>{const[r,i]=K.useState(""),[s,o]=K.useState(!0);return K.useEffect(()=>{(()=>{if(e){const l=w_(Ac(Tt,t,e,n));k_(l,c=>{i(c.docs.map(f=>({...f.data(),id:f.id}))),o(!1)})}})()},[Tt,e]),{data:r,loading:s}},MO=({post:t})=>{const[e,n]=K.useState(!1),{currentUser:r,setAuthModel:i}=yt(),{data:s}=To("users",t==null?void 0:t.userId,"savePost");K.useEffect(()=>{n(s&&(s==null?void 0:s.find(a=>a.id===(r==null?void 0:r.uid))))},[s,t==null?void 0:t.id]);const o=async()=>{try{if(r){const a=Ht(Tt,"users",r==null?void 0:r.uid,"savePost",t==null?void 0:t.id);e?(await Ti(a),we.success("Post has been unsaved")):(await Ua(a,{...t}),we.success("Post has been Saved"))}else i(!0)}catch(a){we.error(a.message)}};return R.jsx("div",{children:R.jsx("button",{onClick:o,className:"hover:opacity-60",children:R.jsx(hL,{className:`text-2xl pointer-event-none
        ${e?"text-yellow-600":""}
        `})})})};function OF(t){return st({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M0 0h1v15h15v1H0V0Zm10 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4.9l-3.613 4.417a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61L13.445 4H10.5a.5.5 0 0 1-.5-.5Z"}}]})(t)}function AF(t){return st({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.025 8c0 2.485-2.02 4.5-4.513 4.5A4.506 4.506 0 0 1 0 8c0-2.486 2.02-4.5 4.512-4.5A4.506 4.506 0 0 1 9.025 8zm4.95 0c0 2.34-1.01 4.236-2.256 4.236-1.246 0-2.256-1.897-2.256-4.236 0-2.34 1.01-4.236 2.256-4.236 1.246 0 2.256 1.897 2.256 4.236zM16 8c0 2.096-.355 3.795-.794 3.795-.438 0-.793-1.7-.793-3.795 0-2.096.355-3.795.794-3.795.438 0 .793 1.699.793 3.795z"}}]})(t)}function PF(t){return st({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"}}]})(t)}const x_=({children:t,size:e,showDrop:n,setShowDrop:r})=>{const i=K.useRef(null);return K.useEffect(()=>{const s=o=>{n&&i.current&&!i.current.contains(o.target)&&r(!1)};return window.addEventListener("mousedown",s),()=>window.removeEventListener("mousedown",s)},[i,n]),R.jsx(R.Fragment,{children:n&&R.jsx("div",{ref:i,className:`shadows flex flex-col absolute right-0 top-[2rem] bg-white ${e}`,children:t})})},LO=({postId:t,title:e,desc:n})=>{const{setUpdateData:r,currentUser:i}=yt(),[s,o]=K.useState(!1),a=()=>{o(!s)},l=kn(),c=()=>{l(`/editPost/${t}`),r({title:e,description:n})},f=async()=>{try{const h=Ht(Tt,"posts",t),d=Ht(Tt,"posts",t,"likes",i==null?void 0:i.uid),p=Ht(Tt,"posts",t,"comments",i==null?void 0:i.uid),w=Ht(Tt,"users",i==null?void 0:i.uid,"savedPost",t);await Ti(h),await Ti(d),await Ti(p),await Ti(w),we.success("post has been removed"),o(!1),l("/")}catch(h){we.success(h.message)}};return R.jsxs("div",{className:"relative",children:[R.jsx("button",{onClick:a,children:R.jsx(PF,{className:"text-2xl"})}),R.jsxs(x_,{showDrop:s,setShowDrop:o,size:"w-[7rem]",children:[R.jsx(LT,{click:c,title:"Edit Story"}),R.jsx(LT,{click:f,title:"Delete Story"})]})]})},LT=({click:t,title:e})=>R.jsx("button",{onClick:t,className:`p-2 hover:bg-gray-100 hover:text-black/80 w-full text-sm text-left
    ${e==="Delete Story"?"text-red-600":""}
    `,children:e}),_p=({post:t})=>{const{title:e,desc:n,created:r,postImg:i,id:s,userId:o,username:a}=t,{currentUser:l}=yt(),c=kn();return R.jsxs("section",{children:[R.jsxs("div",{onClick:()=>c(`/post/${s}`),className:"flex flex-col sm:flex-row gap-4 cursor-pointer",children:[R.jsxs("div",{className:"flex-[2.5]",children:[R.jsx("p",{className:"pb-2 font-semibold capitalize",children:a}),R.jsx("h2",{className:"text-xl font-bold line-clamp-2 leading-6 capitalize",children:e}),R.jsx("div",{className:"py-1 text-gray-500 line-clamp-2 leading-5",dangerouslySetInnerHTML:{__html:n}})]}),i&&R.jsx("div",{className:"flex-[1]",children:R.jsx("img",{src:i,alt:"postImg",className:"w-[53rem] h-[8rem] object-cover"})})]}),R.jsxs("div",{className:"flex items-center justify-between w-full md:w-[70%] mt-[2rem] md:mt-0",children:[R.jsxs("p",{className:"text-xs text-gray-600",children:[Rd({__html:n})," min read .",Yk(r).format("MMM DD")]}),R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx(MO,{post:t}),(l==null?void 0:l.uid)===o&&R.jsx(LO,{postId:s,title:e,desc:n})]})]})]})},jO=()=>{const{postData:t,postLoading:e}=yt();return R.jsx("section",{className:"flex flex-col gap-[2.5rem]",children:e?R.jsx(Cs,{}):t&&(t==null?void 0:t.map((n,r)=>R.jsx(_p,{post:n},r)))})},VO=({userId:t})=>{const[e,n]=K.useState(!1),{currentUser:r}=yt(),{data:i,loading:s}=To("users",r==null?void 0:r.uid,"follows");K.useEffect(()=>{n(i&&(i==null?void 0:i.findIndex(l=>l.id===t))!==-1)},[i]);const o=async()=>{try{if(r){const l=Ht(Tt,"users",r==null?void 0:r.uid,"follows",t),c=Ht(Tt,"users",t,"followers",r==null?void 0:r.uid);e?(await Ti(l),await Ti(c),we.success("User is unFollowed")):(await Ua(l,{userId:t}),await Ua(c,{userId:t}),we.success("User is Followed"))}}catch(l){we.error(l.message)}},{pathname:a}=bo();return R.jsx(R.Fragment,{children:R.jsx("button",{onClick:o,className:`${a==="/"?"border border-black":""} px-3 py-[0.2rem] rounded-full
        ${e?"text-gray-500 border-none":""}`,children:e?"Following":"Follow"})})},RF=()=>{const{currentUser:t,allUsers:e}=yt(),[n,r]=K.useState(5),i=e&&(e==null?void 0:e.slice(0,n).filter(o=>o.userId!==(t==null?void 0:t.uid))),s=kn();return R.jsxs(R.Fragment,{children:[e&&(i==null?void 0:i.map((o,a)=>{const{username:l,bio:c,userImg:f,userId:h}=o;return R.jsxs("div",{className:"flex items-start gap-2 my-4",children:[R.jsxs("div",{onClick:()=>s("/profile/"+h),className:"flex-1 flex items-center gap-2 cursor-pointer",children:[R.jsx("img",{className:"w-[3rem] h-[3rem] object-cover gap-2 cursor-pointer rounded-full",src:f,alt:"userImg"}),R.jsxs("div",{className:"flex flex-col gap-1",children:[R.jsx("h2",{className:"font-bold capitalize",children:l}),R.jsx("span",{className:"leading-4 text-gray-500 text-sm line-clamp-2",children:c||"This user has no bio"})]})]}),R.jsx(VO,{userId:h})]},a)})),(e==null?void 0:e.length)>5&&R.jsx("button",{onClick:()=>r(o=>i.length<(e==null?void 0:e.length)&&o+3),className:"mb-3 text-green-900 text-sm hover:underline",children:"Load for more users"})]})},NF=()=>R.jsxs("section",{className:"size flex gap-[5rem] relative",children:[R.jsx("div",{className:"flex-[2] py-10 mb-[4rem]",children:R.jsx(jO,{})}),R.jsxs("div",{className:"hidden md:inline-block md:w-[21rem] p-7 border-l border-gray-300",children:[R.jsx("h3",{children:"Who to follow?"}),R.jsx(RF,{})]})]}),CF=()=>R.jsx("div",{className:"bg-banner border-b border-black",children:R.jsxs("div",{className:"size py-[5rem] flex flex-col items-start gap-[1rem]",children:[R.jsx("h1",{className:"font-title text-[3rem] sm:text-[4rem] md:text-[6rem] font-normal",children:"Stay curious."}),R.jsx("p",{className:"w-full md:w-[31rem] text-[1.3rem] md:text-[1.5rem] font-medium leading-7",children:"Discover stories, thinking, and expertise from writers on any topic."}),R.jsx("button",{className:"btn bg-black1 rounded-full text-white !text-[1.2rem] !px-6 !mt-[2.5rem]",children:"Start reading"})]})});//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var FO;function de(){return FO.apply(null,arguments)}function DF(t){FO=t}function Nr(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function oo(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Ke(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function I_(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Ke(t,e))return!1;return!0}function jn(t){return t===void 0}function Mi(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Nc(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function UO(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function ss(t,e){for(var n in e)Ke(e,n)&&(t[n]=e[n]);return Ke(e,"toString")&&(t.toString=e.toString),Ke(e,"valueOf")&&(t.valueOf=e.valueOf),t}function ti(t,e,n,r){return cA(t,e,n,r,!0).utc()}function MF(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function De(t){return t._pf==null&&(t._pf=MF()),t._pf}var Hy;Array.prototype.some?Hy=Array.prototype.some:Hy=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function O_(t){if(t._isValid==null){var e=De(t),n=Hy.call(e.parsedDateParts,function(i){return i!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function wp(t){var e=ti(NaN);return t!=null?ss(De(e),t):De(e).userInvalidated=!0,e}var jT=de.momentProperties=[],ig=!1;function A_(t,e){var n,r,i,s=jT.length;if(jn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),jn(e._i)||(t._i=e._i),jn(e._f)||(t._f=e._f),jn(e._l)||(t._l=e._l),jn(e._strict)||(t._strict=e._strict),jn(e._tzm)||(t._tzm=e._tzm),jn(e._isUTC)||(t._isUTC=e._isUTC),jn(e._offset)||(t._offset=e._offset),jn(e._pf)||(t._pf=De(e)),jn(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)r=jT[n],i=e[r],jn(i)||(t[r]=i);return t}function Cc(t){A_(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),ig===!1&&(ig=!0,de.updateOffset(this),ig=!1)}function Cr(t){return t instanceof Cc||t!=null&&t._isAMomentObject!=null}function $O(t){de.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function vr(t,e){var n=!0;return ss(function(){if(de.deprecationHandler!=null&&de.deprecationHandler(null,t),n){var r=[],i,s,o,a=arguments.length;for(s=0;s<a;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])Ke(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}$O(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var VT={};function BO(t,e){de.deprecationHandler!=null&&de.deprecationHandler(t,e),VT[t]||($O(e),VT[t]=!0)}de.suppressDeprecationWarnings=!1;de.deprecationHandler=null;function ni(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function LF(t){var e,n;for(n in t)Ke(t,n)&&(e=t[n],ni(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Yy(t,e){var n=ss({},t),r;for(r in e)Ke(e,r)&&(oo(t[r])&&oo(e[r])?(n[r]={},ss(n[r],t[r]),ss(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)Ke(t,r)&&!Ke(e,r)&&oo(t[r])&&(n[r]=ss({},n[r]));return n}function P_(t){t!=null&&this.set(t)}var Gy;Object.keys?Gy=Object.keys:Gy=function(t){var e,n=[];for(e in t)Ke(t,e)&&n.push(e);return n};var jF={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function VF(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return ni(r)?r.call(e,n):r}function Jr(t,e,n){var r=""+Math.abs(t),i=e-r.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var R_=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Nf=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,sg={},Ea={};function Te(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(Ea[t]=i),e&&(Ea[e[0]]=function(){return Jr(i.apply(this,arguments),e[1],e[2])}),n&&(Ea[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function FF(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function UF(t){var e=t.match(R_),n,r;for(n=0,r=e.length;n<r;n++)Ea[e[n]]?e[n]=Ea[e[n]]:e[n]=FF(e[n]);return function(i){var s="",o;for(o=0;o<r;o++)s+=ni(e[o])?e[o].call(i,t):e[o];return s}}function ih(t,e){return t.isValid()?(e=zO(e,t.localeData()),sg[e]=sg[e]||UF(e),sg[e](t)):t.localeData().invalidDate()}function zO(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(Nf.lastIndex=0;n>=0&&Nf.test(t);)t=t.replace(Nf,r),Nf.lastIndex=0,n-=1;return t}var $F={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function BF(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(R_).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var zF="Invalid date";function qF(){return this._invalidDate}var WF="%d",HF=/\d{1,2}/;function YF(t){return this._ordinal.replace("%d",t)}var GF={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function KF(t,e,n,r){var i=this._relativeTime[n];return ni(i)?i(t,e,n,r):i.replace(/%d/i,t)}function QF(t,e){var n=this._relativeTime[t>0?"future":"past"];return ni(n)?n(e):n.replace(/%s/i,e)}var uu={};function bn(t,e){var n=t.toLowerCase();uu[n]=uu[n+"s"]=uu[e]=t}function _r(t){return typeof t=="string"?uu[t]||uu[t.toLowerCase()]:void 0}function N_(t){var e={},n,r;for(r in t)Ke(t,r)&&(n=_r(r),n&&(e[n]=t[r]));return e}var qO={};function xn(t,e){qO[t]=e}function ZF(t){var e=[],n;for(n in t)Ke(t,n)&&e.push({unit:n,priority:qO[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}function Ep(t){return t%4===0&&t%100!==0||t%400===0}function lr(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function je(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=lr(e)),n}function el(t,e){return function(n){return n!=null?(WO(this,t,n),de.updateOffset(this,e),this):rd(this,t)}}function rd(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function WO(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&Ep(t.year())&&t.month()===1&&t.date()===29?(n=je(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Ip(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function XF(t){return t=_r(t),ni(this[t])?this[t]():this}function JF(t,e){if(typeof t=="object"){t=N_(t);var n=ZF(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=_r(t),ni(this[t]))return this[t](e);return this}var HO=/\d/,ir=/\d\d/,YO=/\d{3}/,C_=/\d{4}/,Tp=/[+-]?\d{6}/,vt=/\d\d?/,GO=/\d\d\d\d?/,KO=/\d\d\d\d\d\d?/,Sp=/\d{1,3}/,D_=/\d{1,4}/,kp=/[+-]?\d{1,6}/,tl=/\d+/,bp=/[+-]?\d+/,eU=/Z|[+-]\d\d:?\d\d/gi,xp=/Z|[+-]\d\d(?::?\d\d)?/gi,tU=/[+-]?\d+(\.\d{1,3})?/,Dc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,id;id={};function ge(t,e,n){id[t]=ni(e)?e:function(r,i){return r&&n?n:e}}function nU(t,e){return Ke(id,t)?id[t](e._strict,e._locale):new RegExp(rU(t))}function rU(t){return Kn(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,s){return n||r||i||s}))}function Kn(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Ky={};function rt(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),Mi(e)&&(r=function(s,o){o[e]=je(s)}),i=t.length,n=0;n<i;n++)Ky[t[n]]=r}function Mc(t,e){rt(t,function(n,r,i,s){i._w=i._w||{},e(n,i._w,i,s)})}function iU(t,e,n){e!=null&&Ke(Ky,t)&&Ky[t](e,n._a,n,t)}var wn=0,Si=1,$r=2,Yt=3,xr=4,ki=5,eo=6,sU=7,oU=8;function aU(t,e){return(t%e+e)%e}var Lt;Array.prototype.indexOf?Lt=Array.prototype.indexOf:Lt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Ip(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=aU(e,12);return t+=(e-n)/12,n===1?Ep(t)?29:28:31-n%7%2}Te("M",["MM",2],"Mo",function(){return this.month()+1});Te("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Te("MMMM",0,0,function(t){return this.localeData().months(this,t)});bn("month","M");xn("month",8);ge("M",vt);ge("MM",vt,ir);ge("MMM",function(t,e){return e.monthsShortRegex(t)});ge("MMMM",function(t,e){return e.monthsRegex(t)});rt(["M","MM"],function(t,e){e[Si]=je(t)-1});rt(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[Si]=i:De(n).invalidMonth=t});var lU="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),QO="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ZO=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,uU=Dc,cU=Dc;function fU(t,e){return t?Nr(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ZO).test(e)?"format":"standalone"][t.month()]:Nr(this._months)?this._months:this._months.standalone}function hU(t,e){return t?Nr(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ZO.test(e)?"format":"standalone"][t.month()]:Nr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function dU(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=ti([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(i=Lt.call(this._shortMonthsParse,o),i!==-1?i:null):(i=Lt.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=Lt.call(this._shortMonthsParse,o),i!==-1?i:(i=Lt.call(this._longMonthsParse,o),i!==-1?i:null)):(i=Lt.call(this._longMonthsParse,o),i!==-1?i:(i=Lt.call(this._shortMonthsParse,o),i!==-1?i:null))}function pU(t,e,n){var r,i,s;if(this._monthsParseExact)return dU.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=ti([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function XO(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=je(e);else if(e=t.localeData().monthsParse(e),!Mi(e))return t}return n=Math.min(t.date(),Ip(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function JO(t){return t!=null?(XO(this,t),de.updateOffset(this,!0),this):rd(this,"Month")}function mU(){return Ip(this.year(),this.month())}function gU(t){return this._monthsParseExact?(Ke(this,"_monthsRegex")||eA.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Ke(this,"_monthsShortRegex")||(this._monthsShortRegex=uU),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function yU(t){return this._monthsParseExact?(Ke(this,"_monthsRegex")||eA.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Ke(this,"_monthsRegex")||(this._monthsRegex=cU),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function eA(){function t(o,a){return a.length-o.length}var e=[],n=[],r=[],i,s;for(i=0;i<12;i++)s=ti([2e3,i]),e.push(this.monthsShort(s,"")),n.push(this.months(s,"")),r.push(this.months(s,"")),r.push(this.monthsShort(s,""));for(e.sort(t),n.sort(t),r.sort(t),i=0;i<12;i++)e[i]=Kn(e[i]),n[i]=Kn(n[i]);for(i=0;i<24;i++)r[i]=Kn(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}Te("Y",0,0,function(){var t=this.year();return t<=9999?Jr(t,4):"+"+t});Te(0,["YY",2],0,function(){return this.year()%100});Te(0,["YYYY",4],0,"year");Te(0,["YYYYY",5],0,"year");Te(0,["YYYYYY",6,!0],0,"year");bn("year","y");xn("year",1);ge("Y",bp);ge("YY",vt,ir);ge("YYYY",D_,C_);ge("YYYYY",kp,Tp);ge("YYYYYY",kp,Tp);rt(["YYYYY","YYYYYY"],wn);rt("YYYY",function(t,e){e[wn]=t.length===2?de.parseTwoDigitYear(t):je(t)});rt("YY",function(t,e){e[wn]=de.parseTwoDigitYear(t)});rt("Y",function(t,e){e[wn]=parseInt(t,10)});function cu(t){return Ep(t)?366:365}de.parseTwoDigitYear=function(t){return je(t)+(je(t)>68?1900:2e3)};var tA=el("FullYear",!0);function vU(){return Ep(this.year())}function _U(t,e,n,r,i,s,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,i,s,o),a}function Zu(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function sd(t,e,n){var r=7+e-n,i=(7+Zu(t,0,r).getUTCDay()-e)%7;return-i+r-1}function nA(t,e,n,r,i){var s=(7+n-r)%7,o=sd(t,r,i),a=1+7*(e-1)+s+o,l,c;return a<=0?(l=t-1,c=cu(l)+a):a>cu(t)?(l=t+1,c=a-cu(t)):(l=t,c=a),{year:l,dayOfYear:c}}function Xu(t,e,n){var r=sd(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=t.year()-1,s=i+xi(o,e,n)):i>xi(t.year(),e,n)?(s=i-xi(t.year(),e,n),o=t.year()+1):(o=t.year(),s=i),{week:s,year:o}}function xi(t,e,n){var r=sd(t,e,n),i=sd(t+1,e,n);return(cu(t)-r+i)/7}Te("w",["ww",2],"wo","week");Te("W",["WW",2],"Wo","isoWeek");bn("week","w");bn("isoWeek","W");xn("week",5);xn("isoWeek",5);ge("w",vt);ge("ww",vt,ir);ge("W",vt);ge("WW",vt,ir);Mc(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=je(t)});function wU(t){return Xu(t,this._week.dow,this._week.doy).week}var EU={dow:0,doy:6};function TU(){return this._week.dow}function SU(){return this._week.doy}function kU(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function bU(t){var e=Xu(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Te("d",0,"do","day");Te("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Te("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Te("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Te("e",0,0,"weekday");Te("E",0,0,"isoWeekday");bn("day","d");bn("weekday","e");bn("isoWeekday","E");xn("day",11);xn("weekday",11);xn("isoWeekday",11);ge("d",vt);ge("e",vt);ge("E",vt);ge("dd",function(t,e){return e.weekdaysMinRegex(t)});ge("ddd",function(t,e){return e.weekdaysShortRegex(t)});ge("dddd",function(t,e){return e.weekdaysRegex(t)});Mc(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:De(n).invalidWeekday=t});Mc(["d","e","E"],function(t,e,n,r){e[r]=je(t)});function xU(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function IU(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function M_(t,e){return t.slice(e,7).concat(t.slice(0,e))}var OU="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),rA="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),AU="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),PU=Dc,RU=Dc,NU=Dc;function CU(t,e){var n=Nr(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?M_(n,this._week.dow):t?n[t.day()]:n}function DU(t){return t===!0?M_(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function MU(t){return t===!0?M_(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function LU(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=ti([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(i=Lt.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=Lt.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=Lt.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=Lt.call(this._weekdaysParse,o),i!==-1||(i=Lt.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=Lt.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=Lt.call(this._shortWeekdaysParse,o),i!==-1||(i=Lt.call(this._weekdaysParse,o),i!==-1)?i:(i=Lt.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=Lt.call(this._minWeekdaysParse,o),i!==-1||(i=Lt.call(this._weekdaysParse,o),i!==-1)?i:(i=Lt.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function jU(t,e,n){var r,i,s;if(this._weekdaysParseExact)return LU.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=ti([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function VU(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=xU(t,this.localeData()),this.add(t-e,"d")):e}function FU(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function UU(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=IU(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function $U(t){return this._weekdaysParseExact?(Ke(this,"_weekdaysRegex")||L_.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Ke(this,"_weekdaysRegex")||(this._weekdaysRegex=PU),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function BU(t){return this._weekdaysParseExact?(Ke(this,"_weekdaysRegex")||L_.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ke(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=RU),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function zU(t){return this._weekdaysParseExact?(Ke(this,"_weekdaysRegex")||L_.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ke(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=NU),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function L_(){function t(f,h){return h.length-f.length}var e=[],n=[],r=[],i=[],s,o,a,l,c;for(s=0;s<7;s++)o=ti([2e3,1]).day(s),a=Kn(this.weekdaysMin(o,"")),l=Kn(this.weekdaysShort(o,"")),c=Kn(this.weekdays(o,"")),e.push(a),n.push(l),r.push(c),i.push(a),i.push(l),i.push(c);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function j_(){return this.hours()%12||12}function qU(){return this.hours()||24}Te("H",["HH",2],0,"hour");Te("h",["hh",2],0,j_);Te("k",["kk",2],0,qU);Te("hmm",0,0,function(){return""+j_.apply(this)+Jr(this.minutes(),2)});Te("hmmss",0,0,function(){return""+j_.apply(this)+Jr(this.minutes(),2)+Jr(this.seconds(),2)});Te("Hmm",0,0,function(){return""+this.hours()+Jr(this.minutes(),2)});Te("Hmmss",0,0,function(){return""+this.hours()+Jr(this.minutes(),2)+Jr(this.seconds(),2)});function iA(t,e){Te(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}iA("a",!0);iA("A",!1);bn("hour","h");xn("hour",13);function sA(t,e){return e._meridiemParse}ge("a",sA);ge("A",sA);ge("H",vt);ge("h",vt);ge("k",vt);ge("HH",vt,ir);ge("hh",vt,ir);ge("kk",vt,ir);ge("hmm",GO);ge("hmmss",KO);ge("Hmm",GO);ge("Hmmss",KO);rt(["H","HH"],Yt);rt(["k","kk"],function(t,e,n){var r=je(t);e[Yt]=r===24?0:r});rt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});rt(["h","hh"],function(t,e,n){e[Yt]=je(t),De(n).bigHour=!0});rt("hmm",function(t,e,n){var r=t.length-2;e[Yt]=je(t.substr(0,r)),e[xr]=je(t.substr(r)),De(n).bigHour=!0});rt("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Yt]=je(t.substr(0,r)),e[xr]=je(t.substr(r,2)),e[ki]=je(t.substr(i)),De(n).bigHour=!0});rt("Hmm",function(t,e,n){var r=t.length-2;e[Yt]=je(t.substr(0,r)),e[xr]=je(t.substr(r))});rt("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Yt]=je(t.substr(0,r)),e[xr]=je(t.substr(r,2)),e[ki]=je(t.substr(i))});function WU(t){return(t+"").toLowerCase().charAt(0)==="p"}var HU=/[ap]\.?m?\.?/i,YU=el("Hours",!0);function GU(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var oA={calendar:jF,longDateFormat:$F,invalidDate:zF,ordinal:WF,dayOfMonthOrdinalParse:HF,relativeTime:GF,months:lU,monthsShort:QO,week:EU,weekdays:OU,weekdaysMin:AU,weekdaysShort:rA,meridiemParse:HU},wt={},Al={},Ju;function KU(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function FT(t){return t&&t.toLowerCase().replace("_","-")}function QU(t){for(var e=0,n,r,i,s;e<t.length;){for(s=FT(t[e]).split("-"),n=s.length,r=FT(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=Op(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&KU(s,r)>=n-1)break;n--}e++}return Ju}function ZU(t){return t.match("^[^/\\\\]*$")!=null}function Op(t){var e=null,n;if(wt[t]===void 0&&typeof ah<"u"&&ah&&ah.exports&&ZU(t))try{e=Ju._abbr,n=require,n("./locale/"+t),Es(e)}catch{wt[t]=null}return wt[t]}function Es(t,e){var n;return t&&(jn(e)?n=Vi(t):n=V_(t,e),n?Ju=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Ju._abbr}function V_(t,e){if(e!==null){var n,r=oA;if(e.abbr=t,wt[t]!=null)BO("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=wt[t]._config;else if(e.parentLocale!=null)if(wt[e.parentLocale]!=null)r=wt[e.parentLocale]._config;else if(n=Op(e.parentLocale),n!=null)r=n._config;else return Al[e.parentLocale]||(Al[e.parentLocale]=[]),Al[e.parentLocale].push({name:t,config:e}),null;return wt[t]=new P_(Yy(r,e)),Al[t]&&Al[t].forEach(function(i){V_(i.name,i.config)}),Es(t),wt[t]}else return delete wt[t],null}function XU(t,e){if(e!=null){var n,r,i=oA;wt[t]!=null&&wt[t].parentLocale!=null?wt[t].set(Yy(wt[t]._config,e)):(r=Op(t),r!=null&&(i=r._config),e=Yy(i,e),r==null&&(e.abbr=t),n=new P_(e),n.parentLocale=wt[t],wt[t]=n),Es(t)}else wt[t]!=null&&(wt[t].parentLocale!=null?(wt[t]=wt[t].parentLocale,t===Es()&&Es(t)):wt[t]!=null&&delete wt[t]);return wt[t]}function Vi(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ju;if(!Nr(t)){if(e=Op(t),e)return e;t=[t]}return QU(t)}function JU(){return Gy(wt)}function F_(t){var e,n=t._a;return n&&De(t).overflow===-2&&(e=n[Si]<0||n[Si]>11?Si:n[$r]<1||n[$r]>Ip(n[wn],n[Si])?$r:n[Yt]<0||n[Yt]>24||n[Yt]===24&&(n[xr]!==0||n[ki]!==0||n[eo]!==0)?Yt:n[xr]<0||n[xr]>59?xr:n[ki]<0||n[ki]>59?ki:n[eo]<0||n[eo]>999?eo:-1,De(t)._overflowDayOfYear&&(e<wn||e>$r)&&(e=$r),De(t)._overflowWeeks&&e===-1&&(e=sU),De(t)._overflowWeekday&&e===-1&&(e=oU),De(t).overflow=e),t}var e$=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,t$=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,n$=/Z|[+-]\d\d(?::?\d\d)?/,Cf=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],og=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],r$=/^\/?Date\((-?\d+)/i,i$=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,s$={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function aA(t){var e,n,r=t._i,i=e$.exec(r)||t$.exec(r),s,o,a,l,c=Cf.length,f=og.length;if(i){for(De(t).iso=!0,e=0,n=c;e<n;e++)if(Cf[e][1].exec(i[1])){o=Cf[e][0],s=Cf[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,n=f;e<n;e++)if(og[e][1].exec(i[3])){a=(i[2]||" ")+og[e][0];break}if(a==null){t._isValid=!1;return}}if(!s&&a!=null){t._isValid=!1;return}if(i[4])if(n$.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),$_(t)}else t._isValid=!1}function o$(t,e,n,r,i,s){var o=[a$(t),QO.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function a$(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function l$(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function u$(t,e,n){if(t){var r=rA.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return De(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function c$(t,e,n){if(t)return s$[t];if(e)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function lA(t){var e=i$.exec(l$(t._i)),n;if(e){if(n=o$(e[4],e[3],e[2],e[5],e[6],e[7]),!u$(e[1],n,t))return;t._a=n,t._tzm=c$(e[8],e[9],e[10]),t._d=Zu.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),De(t).rfc2822=!0}else t._isValid=!1}function f$(t){var e=r$.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(aA(t),t._isValid===!1)delete t._isValid;else return;if(lA(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:de.createFromInputFallback(t)}de.createFromInputFallback=vr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Go(t,e,n){return t??e??n}function h$(t){var e=new Date(de.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function U_(t){var e,n,r=[],i,s,o;if(!t._d){for(i=h$(t),t._w&&t._a[$r]==null&&t._a[Si]==null&&d$(t),t._dayOfYear!=null&&(o=Go(t._a[wn],i[wn]),(t._dayOfYear>cu(o)||t._dayOfYear===0)&&(De(t)._overflowDayOfYear=!0),n=Zu(o,0,t._dayOfYear),t._a[Si]=n.getUTCMonth(),t._a[$r]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Yt]===24&&t._a[xr]===0&&t._a[ki]===0&&t._a[eo]===0&&(t._nextDay=!0,t._a[Yt]=0),t._d=(t._useUTC?Zu:_U).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Yt]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(De(t).weekdayMismatch=!0)}}function d$(t){var e,n,r,i,s,o,a,l,c;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,n=Go(e.GG,t._a[wn],Xu(gt(),1,4).year),r=Go(e.W,1),i=Go(e.E,1),(i<1||i>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,c=Xu(gt(),s,o),n=Go(e.gg,t._a[wn],c.year),r=Go(e.w,c.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>xi(n,s,o)?De(t)._overflowWeeks=!0:l!=null?De(t)._overflowWeekday=!0:(a=nA(n,r,i,s,o),t._a[wn]=a.year,t._dayOfYear=a.dayOfYear)}de.ISO_8601=function(){};de.RFC_2822=function(){};function $_(t){if(t._f===de.ISO_8601){aA(t);return}if(t._f===de.RFC_2822){lA(t);return}t._a=[],De(t).empty=!0;var e=""+t._i,n,r,i,s,o,a=e.length,l=0,c,f;for(i=zO(t._f,t._locale).match(R_)||[],f=i.length,n=0;n<f;n++)s=i[n],r=(e.match(nU(s,t))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&De(t).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),Ea[s]?(r?De(t).empty=!1:De(t).unusedTokens.push(s),iU(s,r,t)):t._strict&&!r&&De(t).unusedTokens.push(s);De(t).charsLeftOver=a-l,e.length>0&&De(t).unusedInput.push(e),t._a[Yt]<=12&&De(t).bigHour===!0&&t._a[Yt]>0&&(De(t).bigHour=void 0),De(t).parsedDateParts=t._a.slice(0),De(t).meridiem=t._meridiem,t._a[Yt]=p$(t._locale,t._a[Yt],t._meridiem),c=De(t).era,c!==null&&(t._a[wn]=t._locale.erasConvertYear(c,t._a[wn])),U_(t),F_(t)}function p$(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function m$(t){var e,n,r,i,s,o,a=!1,l=t._f.length;if(l===0){De(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,e=A_({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],$_(e),O_(e)&&(o=!0),s+=De(e).charsLeftOver,s+=De(e).unusedTokens.length*10,De(e).score=s,a?s<r&&(r=s,n=e):(r==null||s<r||o)&&(r=s,n=e,o&&(a=!0));ss(t,n||e)}function g$(t){if(!t._d){var e=N_(t._i),n=e.day===void 0?e.date:e.day;t._a=UO([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),U_(t)}}function y$(t){var e=new Cc(F_(uA(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function uA(t){var e=t._i,n=t._f;return t._locale=t._locale||Vi(t._l),e===null||n===void 0&&e===""?wp({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Cr(e)?new Cc(F_(e)):(Nc(e)?t._d=e:Nr(n)?m$(t):n?$_(t):v$(t),O_(t)||(t._d=null),t))}function v$(t){var e=t._i;jn(e)?t._d=new Date(de.now()):Nc(e)?t._d=new Date(e.valueOf()):typeof e=="string"?f$(t):Nr(e)?(t._a=UO(e.slice(0),function(n){return parseInt(n,10)}),U_(t)):oo(e)?g$(t):Mi(e)?t._d=new Date(e):de.createFromInputFallback(t)}function cA(t,e,n,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(oo(t)&&I_(t)||Nr(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,y$(s)}function gt(t,e,n,r){return cA(t,e,n,r,!1)}var _$=vr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=gt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:wp()}),w$=vr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=gt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:wp()});function fA(t,e){var n,r;if(e.length===1&&Nr(e[0])&&(e=e[0]),!e.length)return gt();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function E$(){var t=[].slice.call(arguments,0);return fA("isBefore",t)}function T$(){var t=[].slice.call(arguments,0);return fA("isAfter",t)}var S$=function(){return Date.now?Date.now():+new Date},Pl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function k$(t){var e,n=!1,r,i=Pl.length;for(e in t)if(Ke(t,e)&&!(Lt.call(Pl,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[Pl[r]]){if(n)return!1;parseFloat(t[Pl[r]])!==je(t[Pl[r]])&&(n=!0)}return!0}function b$(){return this._isValid}function x$(){return Dr(NaN)}function Ap(t){var e=N_(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,f=e.millisecond||0;this._isValid=k$(e),this._milliseconds=+f+c*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=Vi(),this._bubble()}function sh(t){return t instanceof Ap}function Qy(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function I$(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,o;for(o=0;o<r;o++)(n&&t[o]!==e[o]||!n&&je(t[o])!==je(e[o]))&&s++;return s+i}function hA(t,e){Te(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Jr(~~(n/60),2)+e+Jr(~~n%60,2)})}hA("Z",":");hA("ZZ","");ge("Z",xp);ge("ZZ",xp);rt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=B_(xp,t)});var O$=/([\+\-]|\d\d)/gi;function B_(t,e){var n=(e||"").match(t),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(O$)||["-",0,0],s=+(i[1]*60)+je(i[2]),s===0?0:i[0]==="+"?s:-s)}function z_(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Cr(t)||Nc(t)?t.valueOf():gt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),de.updateOffset(n,!1),n):gt(t).local()}function Zy(t){return-Math.round(t._d.getTimezoneOffset())}de.updateOffset=function(){};function A$(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=B_(xp,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=Zy(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?mA(this,Dr(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,de.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:Zy(this)}function P$(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function R$(t){return this.utcOffset(0,t)}function N$(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Zy(this),"m")),this}function C$(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=B_(eU,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function D$(t){return this.isValid()?(t=t?gt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function M$(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function L$(){if(!jn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return A_(t,this),t=uA(t),t._a?(e=t._isUTC?ti(t._a):gt(t._a),this._isDSTShifted=this.isValid()&&I$(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function j$(){return this.isValid()?!this._isUTC:!1}function V$(){return this.isValid()?this._isUTC:!1}function dA(){return this.isValid()?this._isUTC&&this._offset===0:!1}var F$=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,U$=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Dr(t,e){var n=t,r=null,i,s,o;return sh(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Mi(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=F$.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:je(r[$r])*i,h:je(r[Yt])*i,m:je(r[xr])*i,s:je(r[ki])*i,ms:je(Qy(r[eo]*1e3))*i}):(r=U$.exec(t))?(i=r[1]==="-"?-1:1,n={y:$s(r[2],i),M:$s(r[3],i),w:$s(r[4],i),d:$s(r[5],i),h:$s(r[6],i),m:$s(r[7],i),s:$s(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=$$(gt(n.from),gt(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new Ap(n),sh(t)&&Ke(t,"_locale")&&(s._locale=t._locale),sh(t)&&Ke(t,"_isValid")&&(s._isValid=t._isValid),s}Dr.fn=Ap.prototype;Dr.invalid=x$;function $s(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function UT(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function $$(t,e){var n;return t.isValid()&&e.isValid()?(e=z_(e,t),t.isBefore(e)?n=UT(t,e):(n=UT(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function pA(t,e){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(BO(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=Dr(n,r),mA(this,i,t),this}}function mA(t,e,n,r){var i=e._milliseconds,s=Qy(e._days),o=Qy(e._months);t.isValid()&&(r=r??!0,o&&XO(t,rd(t,"Month")+o*n),s&&WO(t,"Date",rd(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&de.updateOffset(t,s||o))}var B$=pA(1,"add"),z$=pA(-1,"subtract");function gA(t){return typeof t=="string"||t instanceof String}function q$(t){return Cr(t)||Nc(t)||gA(t)||Mi(t)||H$(t)||W$(t)||t===null||t===void 0}function W$(t){var e=oo(t)&&!I_(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],n=n||Ke(t,s);return e&&n}function H$(t){var e=Nr(t),n=!1;return e&&(n=t.filter(function(r){return!Mi(r)&&gA(t)}).length===0),e&&n}function Y$(t){var e=oo(t)&&!I_(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||Ke(t,s);return e&&n}function G$(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function K$(t,e){arguments.length===1&&(arguments[0]?q$(arguments[0])?(t=arguments[0],e=void 0):Y$(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||gt(),r=z_(n,this).startOf("day"),i=de.calendarFormat(this,r)||"sameElse",s=e&&(ni(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,gt(n)))}function Q$(){return new Cc(this)}function Z$(t,e){var n=Cr(t)?t:gt(t);return this.isValid()&&n.isValid()?(e=_r(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function X$(t,e){var n=Cr(t)?t:gt(t);return this.isValid()&&n.isValid()?(e=_r(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function J$(t,e,n,r){var i=Cr(t)?t:gt(t),s=Cr(e)?e:gt(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function eB(t,e){var n=Cr(t)?t:gt(t),r;return this.isValid()&&n.isValid()?(e=_r(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function tB(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function nB(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function rB(t,e,n){var r,i,s;if(!this.isValid())return NaN;if(r=z_(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=_r(e),e){case"year":s=oh(this,r)/12;break;case"month":s=oh(this,r);break;case"quarter":s=oh(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:lr(s)}function oh(t,e){if(t.date()<e.date())return-oh(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,s;return e-r<0?(i=t.clone().add(n-1,"months"),s=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),s=(e-r)/(i-r)),-(n+s)||0}de.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";de.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function iB(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function sB(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?ih(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ni(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ih(n,"Z")):ih(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function oB(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+r+i+s)}function aB(t){t||(t=this.isUtc()?de.defaultFormatUtc:de.defaultFormat);var e=ih(this,t);return this.localeData().postformat(e)}function lB(t,e){return this.isValid()&&(Cr(t)&&t.isValid()||gt(t).isValid())?Dr({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function uB(t){return this.from(gt(),t)}function cB(t,e){return this.isValid()&&(Cr(t)&&t.isValid()||gt(t).isValid())?Dr({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function fB(t){return this.to(gt(),t)}function yA(t){var e;return t===void 0?this._locale._abbr:(e=Vi(t),e!=null&&(this._locale=e),this)}var vA=vr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function _A(){return this._locale}var od=1e3,Ta=60*od,ad=60*Ta,wA=(365*400+97)*24*ad;function Sa(t,e){return(t%e+e)%e}function EA(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-wA:new Date(t,e,n).valueOf()}function TA(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-wA:Date.UTC(t,e,n)}function hB(t){var e,n;if(t=_r(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?TA:EA,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Sa(e+(this._isUTC?0:this.utcOffset()*Ta),ad);break;case"minute":e=this._d.valueOf(),e-=Sa(e,Ta);break;case"second":e=this._d.valueOf(),e-=Sa(e,od);break}return this._d.setTime(e),de.updateOffset(this,!0),this}function dB(t){var e,n;if(t=_r(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?TA:EA,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=ad-Sa(e+(this._isUTC?0:this.utcOffset()*Ta),ad)-1;break;case"minute":e=this._d.valueOf(),e+=Ta-Sa(e,Ta)-1;break;case"second":e=this._d.valueOf(),e+=od-Sa(e,od)-1;break}return this._d.setTime(e),de.updateOffset(this,!0),this}function pB(){return this._d.valueOf()-(this._offset||0)*6e4}function mB(){return Math.floor(this.valueOf()/1e3)}function gB(){return new Date(this.valueOf())}function yB(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function vB(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function _B(){return this.isValid()?this.toISOString():null}function wB(){return O_(this)}function EB(){return ss({},De(this))}function TB(){return De(this).overflow}function SB(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Te("N",0,0,"eraAbbr");Te("NN",0,0,"eraAbbr");Te("NNN",0,0,"eraAbbr");Te("NNNN",0,0,"eraName");Te("NNNNN",0,0,"eraNarrow");Te("y",["y",1],"yo","eraYear");Te("y",["yy",2],0,"eraYear");Te("y",["yyy",3],0,"eraYear");Te("y",["yyyy",4],0,"eraYear");ge("N",q_);ge("NN",q_);ge("NNN",q_);ge("NNNN",DB);ge("NNNNN",MB);rt(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?De(n).era=i:De(n).invalidEra=t});ge("y",tl);ge("yy",tl);ge("yyy",tl);ge("yyyy",tl);ge("yo",LB);rt(["y","yy","yyy","yyyy"],wn);rt(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[wn]=n._locale.eraYearOrdinalParse(t,i):e[wn]=parseInt(t,10)});function kB(t,e){var n,r,i,s=this._eras||Vi("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=de(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=de(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function bB(t,e,n){var r,i,s=this.eras(),o,a,l;for(t=t.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),a=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return s[r];break;case"NNNN":if(o===t)return s[r];break;case"NNNNN":if(l===t)return s[r];break}else if([o,a,l].indexOf(t)>=0)return s[r]}function xB(t,e){var n=t.since<=t.until?1:-1;return e===void 0?de(t.since).year():de(t.since).year()+(e-t.offset)*n}function IB(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function OB(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function AB(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function PB(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-de(i[t].since).year())*n+i[t].offset;return this.year()}function RB(t){return Ke(this,"_erasNameRegex")||W_.call(this),t?this._erasNameRegex:this._erasRegex}function NB(t){return Ke(this,"_erasAbbrRegex")||W_.call(this),t?this._erasAbbrRegex:this._erasRegex}function CB(t){return Ke(this,"_erasNarrowRegex")||W_.call(this),t?this._erasNarrowRegex:this._erasRegex}function q_(t,e){return e.erasAbbrRegex(t)}function DB(t,e){return e.erasNameRegex(t)}function MB(t,e){return e.erasNarrowRegex(t)}function LB(t,e){return e._eraYearOrdinalRegex||tl}function W_(){var t=[],e=[],n=[],r=[],i,s,o=this.eras();for(i=0,s=o.length;i<s;++i)e.push(Kn(o[i].name)),t.push(Kn(o[i].abbr)),n.push(Kn(o[i].narrow)),r.push(Kn(o[i].name)),r.push(Kn(o[i].abbr)),r.push(Kn(o[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Te(0,["gg",2],0,function(){return this.weekYear()%100});Te(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Pp(t,e){Te(0,[t,t.length],0,e)}Pp("gggg","weekYear");Pp("ggggg","weekYear");Pp("GGGG","isoWeekYear");Pp("GGGGG","isoWeekYear");bn("weekYear","gg");bn("isoWeekYear","GG");xn("weekYear",1);xn("isoWeekYear",1);ge("G",bp);ge("g",bp);ge("GG",vt,ir);ge("gg",vt,ir);ge("GGGG",D_,C_);ge("gggg",D_,C_);ge("GGGGG",kp,Tp);ge("ggggg",kp,Tp);Mc(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=je(t)});Mc(["gg","GG"],function(t,e,n,r){e[r]=de.parseTwoDigitYear(t)});function jB(t){return SA.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function VB(t){return SA.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function FB(){return xi(this.year(),1,4)}function UB(){return xi(this.isoWeekYear(),1,4)}function $B(){var t=this.localeData()._week;return xi(this.year(),t.dow,t.doy)}function BB(){var t=this.localeData()._week;return xi(this.weekYear(),t.dow,t.doy)}function SA(t,e,n,r,i){var s;return t==null?Xu(this,r,i).year:(s=xi(t,r,i),e>s&&(e=s),zB.call(this,t,e,n,r,i))}function zB(t,e,n,r,i){var s=nA(t,e,n,r,i),o=Zu(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}Te("Q",0,"Qo","quarter");bn("quarter","Q");xn("quarter",7);ge("Q",HO);rt("Q",function(t,e){e[Si]=(je(t)-1)*3});function qB(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Te("D",["DD",2],"Do","date");bn("date","D");xn("date",9);ge("D",vt);ge("DD",vt,ir);ge("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});rt(["D","DD"],$r);rt("Do",function(t,e){e[$r]=je(t.match(vt)[0])});var kA=el("Date",!0);Te("DDD",["DDDD",3],"DDDo","dayOfYear");bn("dayOfYear","DDD");xn("dayOfYear",4);ge("DDD",Sp);ge("DDDD",YO);rt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=je(t)});function WB(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Te("m",["mm",2],0,"minute");bn("minute","m");xn("minute",14);ge("m",vt);ge("mm",vt,ir);rt(["m","mm"],xr);var HB=el("Minutes",!1);Te("s",["ss",2],0,"second");bn("second","s");xn("second",15);ge("s",vt);ge("ss",vt,ir);rt(["s","ss"],ki);var YB=el("Seconds",!1);Te("S",0,0,function(){return~~(this.millisecond()/100)});Te(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Te(0,["SSS",3],0,"millisecond");Te(0,["SSSS",4],0,function(){return this.millisecond()*10});Te(0,["SSSSS",5],0,function(){return this.millisecond()*100});Te(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Te(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Te(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Te(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});bn("millisecond","ms");xn("millisecond",16);ge("S",Sp,HO);ge("SS",Sp,ir);ge("SSS",Sp,YO);var os,bA;for(os="SSSS";os.length<=9;os+="S")ge(os,tl);function GB(t,e){e[eo]=je(("0."+t)*1e3)}for(os="S";os.length<=9;os+="S")rt(os,GB);bA=el("Milliseconds",!1);Te("z",0,0,"zoneAbbr");Te("zz",0,0,"zoneName");function KB(){return this._isUTC?"UTC":""}function QB(){return this._isUTC?"Coordinated Universal Time":""}var ue=Cc.prototype;ue.add=B$;ue.calendar=K$;ue.clone=Q$;ue.diff=rB;ue.endOf=dB;ue.format=aB;ue.from=lB;ue.fromNow=uB;ue.to=cB;ue.toNow=fB;ue.get=XF;ue.invalidAt=TB;ue.isAfter=Z$;ue.isBefore=X$;ue.isBetween=J$;ue.isSame=eB;ue.isSameOrAfter=tB;ue.isSameOrBefore=nB;ue.isValid=wB;ue.lang=vA;ue.locale=yA;ue.localeData=_A;ue.max=w$;ue.min=_$;ue.parsingFlags=EB;ue.set=JF;ue.startOf=hB;ue.subtract=z$;ue.toArray=yB;ue.toObject=vB;ue.toDate=gB;ue.toISOString=sB;ue.inspect=oB;typeof Symbol<"u"&&Symbol.for!=null&&(ue[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ue.toJSON=_B;ue.toString=iB;ue.unix=mB;ue.valueOf=pB;ue.creationData=SB;ue.eraName=IB;ue.eraNarrow=OB;ue.eraAbbr=AB;ue.eraYear=PB;ue.year=tA;ue.isLeapYear=vU;ue.weekYear=jB;ue.isoWeekYear=VB;ue.quarter=ue.quarters=qB;ue.month=JO;ue.daysInMonth=mU;ue.week=ue.weeks=kU;ue.isoWeek=ue.isoWeeks=bU;ue.weeksInYear=$B;ue.weeksInWeekYear=BB;ue.isoWeeksInYear=FB;ue.isoWeeksInISOWeekYear=UB;ue.date=kA;ue.day=ue.days=VU;ue.weekday=FU;ue.isoWeekday=UU;ue.dayOfYear=WB;ue.hour=ue.hours=YU;ue.minute=ue.minutes=HB;ue.second=ue.seconds=YB;ue.millisecond=ue.milliseconds=bA;ue.utcOffset=A$;ue.utc=R$;ue.local=N$;ue.parseZone=C$;ue.hasAlignedHourOffset=D$;ue.isDST=M$;ue.isLocal=j$;ue.isUtcOffset=V$;ue.isUtc=dA;ue.isUTC=dA;ue.zoneAbbr=KB;ue.zoneName=QB;ue.dates=vr("dates accessor is deprecated. Use date instead.",kA);ue.months=vr("months accessor is deprecated. Use month instead",JO);ue.years=vr("years accessor is deprecated. Use year instead",tA);ue.zone=vr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",P$);ue.isDSTShifted=vr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",L$);function ZB(t){return gt(t*1e3)}function XB(){return gt.apply(null,arguments).parseZone()}function xA(t){return t}var Qe=P_.prototype;Qe.calendar=VF;Qe.longDateFormat=BF;Qe.invalidDate=qF;Qe.ordinal=YF;Qe.preparse=xA;Qe.postformat=xA;Qe.relativeTime=KF;Qe.pastFuture=QF;Qe.set=LF;Qe.eras=kB;Qe.erasParse=bB;Qe.erasConvertYear=xB;Qe.erasAbbrRegex=NB;Qe.erasNameRegex=RB;Qe.erasNarrowRegex=CB;Qe.months=fU;Qe.monthsShort=hU;Qe.monthsParse=pU;Qe.monthsRegex=yU;Qe.monthsShortRegex=gU;Qe.week=wU;Qe.firstDayOfYear=SU;Qe.firstDayOfWeek=TU;Qe.weekdays=CU;Qe.weekdaysMin=MU;Qe.weekdaysShort=DU;Qe.weekdaysParse=jU;Qe.weekdaysRegex=$U;Qe.weekdaysShortRegex=BU;Qe.weekdaysMinRegex=zU;Qe.isPM=WU;Qe.meridiem=GU;function ld(t,e,n,r){var i=Vi(),s=ti().set(r,e);return i[n](s,t)}function IA(t,e,n){if(Mi(t)&&(e=t,t=void 0),t=t||"",e!=null)return ld(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=ld(t,r,n,"month");return i}function H_(t,e,n,r){typeof t=="boolean"?(Mi(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Mi(e)&&(n=e,e=void 0),e=e||"");var i=Vi(),s=t?i._week.dow:0,o,a=[];if(n!=null)return ld(e,(n+s)%7,r,"day");for(o=0;o<7;o++)a[o]=ld(e,(o+s)%7,r,"day");return a}function JB(t,e){return IA(t,e,"months")}function ez(t,e){return IA(t,e,"monthsShort")}function tz(t,e,n){return H_(t,e,n,"weekdays")}function nz(t,e,n){return H_(t,e,n,"weekdaysShort")}function rz(t,e,n){return H_(t,e,n,"weekdaysMin")}Es("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=je(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});de.lang=vr("moment.lang is deprecated. Use moment.locale instead.",Es);de.langData=vr("moment.langData is deprecated. Use moment.localeData instead.",Vi);var fi=Math.abs;function iz(){var t=this._data;return this._milliseconds=fi(this._milliseconds),this._days=fi(this._days),this._months=fi(this._months),t.milliseconds=fi(t.milliseconds),t.seconds=fi(t.seconds),t.minutes=fi(t.minutes),t.hours=fi(t.hours),t.months=fi(t.months),t.years=fi(t.years),this}function OA(t,e,n,r){var i=Dr(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function sz(t,e){return OA(this,t,e,1)}function oz(t,e){return OA(this,t,e,-1)}function $T(t){return t<0?Math.floor(t):Math.ceil(t)}function az(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,s,o,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=$T(Xy(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=lr(t/1e3),r.seconds=i%60,s=lr(i/60),r.minutes=s%60,o=lr(s/60),r.hours=o%24,e+=lr(o/24),l=lr(AA(e)),n+=l,e-=$T(Xy(l)),a=lr(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function AA(t){return t*4800/146097}function Xy(t){return t*146097/4800}function lz(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=_r(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+AA(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Xy(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function uz(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+je(this._months/12)*31536e6:NaN}function Fi(t){return function(){return this.as(t)}}var cz=Fi("ms"),fz=Fi("s"),hz=Fi("m"),dz=Fi("h"),pz=Fi("d"),mz=Fi("w"),gz=Fi("M"),yz=Fi("Q"),vz=Fi("y");function _z(){return Dr(this)}function wz(t){return t=_r(t),this.isValid()?this[t+"s"]():NaN}function Co(t){return function(){return this.isValid()?this._data[t]:NaN}}var Ez=Co("milliseconds"),Tz=Co("seconds"),Sz=Co("minutes"),kz=Co("hours"),bz=Co("days"),xz=Co("months"),Iz=Co("years");function Oz(){return lr(this.days()/7)}var pi=Math.round,la={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Az(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function Pz(t,e,n,r){var i=Dr(t).abs(),s=pi(i.as("s")),o=pi(i.as("m")),a=pi(i.as("h")),l=pi(i.as("d")),c=pi(i.as("M")),f=pi(i.as("w")),h=pi(i.as("y")),d=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(d=d||f<=1&&["w"]||f<n.w&&["ww",f]),d=d||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h],d[2]=e,d[3]=+t>0,d[4]=r,Az.apply(null,d)}function Rz(t){return t===void 0?pi:typeof t=="function"?(pi=t,!0):!1}function Nz(t,e){return la[t]===void 0?!1:e===void 0?la[t]:(la[t]=e,t==="s"&&(la.ss=e-1),!0)}function Cz(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=la,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},la,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=Pz(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var ag=Math.abs;function qo(t){return(t>0)-(t<0)||+t}function Rp(){if(!this.isValid())return this.localeData().invalidDate();var t=ag(this._milliseconds)/1e3,e=ag(this._days),n=ag(this._months),r,i,s,o,a=this.asSeconds(),l,c,f,h;return a?(r=lr(t/60),i=lr(r/60),t%=60,r%=60,s=lr(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=qo(this._months)!==qo(a)?"-":"",f=qo(this._days)!==qo(a)?"-":"",h=qo(this._milliseconds)!==qo(a)?"-":"",l+"P"+(s?c+s+"Y":"")+(n?c+n+"M":"")+(e?f+e+"D":"")+(i||r||t?"T":"")+(i?h+i+"H":"")+(r?h+r+"M":"")+(t?h+o+"S":"")):"P0D"}var He=Ap.prototype;He.isValid=b$;He.abs=iz;He.add=sz;He.subtract=oz;He.as=lz;He.asMilliseconds=cz;He.asSeconds=fz;He.asMinutes=hz;He.asHours=dz;He.asDays=pz;He.asWeeks=mz;He.asMonths=gz;He.asQuarters=yz;He.asYears=vz;He.valueOf=uz;He._bubble=az;He.clone=_z;He.get=wz;He.milliseconds=Ez;He.seconds=Tz;He.minutes=Sz;He.hours=kz;He.days=bz;He.weeks=Oz;He.months=xz;He.years=Iz;He.humanize=Cz;He.toISOString=Rp;He.toString=Rp;He.toJSON=Rp;He.locale=yA;He.localeData=_A;He.toIsoString=vr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Rp);He.lang=vA;Te("X",0,0,"unix");Te("x",0,0,"valueOf");ge("x",bp);ge("X",tU);rt("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});rt("x",function(t,e,n){n._d=new Date(je(t))});//! moment.js
de.version="2.29.4";DF(gt);de.fn=ue;de.min=E$;de.max=T$;de.now=S$;de.utc=ti;de.unix=ZB;de.months=JB;de.isDate=Nc;de.locale=Es;de.invalid=wp;de.duration=Dr;de.isMoment=Cr;de.weekdays=tz;de.parseZone=XB;de.localeData=Vi;de.isDuration=sh;de.monthsShort=ez;de.weekdaysMin=rz;de.defineLocale=V_;de.updateLocale=XU;de.locales=JU;de.weekdaysShort=nz;de.normalizeUnits=_r;de.relativeTimeRounding=Rz;de.relativeTimeThreshold=Nz;de.calendarFormat=G$;de.prototype=ue;de.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Dz=()=>{const{postData:t}=yt(),e=t&&(t==null?void 0:t.sort((n,r)=>r.pageViews-n.pageViews));return R.jsx("section",{className:"border-b border-gray-600",children:R.jsxs("div",{className:"size py-[2rem]",children:[R.jsxs("div",{className:"flex items-center gap-3 font-semibold",children:[R.jsx("span",{children:R.jsx(OF,{})}),R.jsx("h2",{children:"Trending on Medium"})]}),R.jsx("div",{className:"grid grid-cols-card gap-3",children:e&&e.slice(0,6).map((n,r)=>R.jsx(Mz,{trend:n,index:r},r))})]})})},Mz=({trend:t,index:e})=>{const n=kn();return R.jsxs("main",{className:"flex gap-4 w-full",children:[R.jsx("span",{className:"text-gray-400 text-4xl mt-4",children:e+1}),R.jsxs("div",{className:"py-6 flex flex-col gap-3",children:[R.jsx("div",{className:"flex items-center gap-2",children:R.jsxs("div",{onClick:()=>n(`/profile/${t==null?void 0:t.userId}`),className:"flex items-center gap-2 cursor-pointer hover:opacity-75",children:[R.jsx("img",{className:"w-[1.3rem] h-[1.3rem] object-cover rounded-full",src:t==null?void 0:t.userImg,alt:"userImg"}),R.jsx("h2",{className:"font-semibold text-sm capitalize",children:t==null?void 0:t.username})]})}),R.jsxs("div",{onClick:()=>n(`/post/${t==null?void 0:t.id}`),className:"flex flex-col gap-4 cursor-pointer hover:opacity-75",children:[R.jsx("p",{className:"w-full md:w-[18rem] text-md font-bold line-clamp-2",children:t.title}),R.jsxs("p",{className:"text-gray-500 text-xs",children:[de(t==null?void 0:t.created).format("MMM YY"),` ${Rd(t.desc)} min read`]})]})]})]})},Lz=[{title:"Our story",path:"/"},{title:"Membership",path:"/"},{title:"Write",path:"/"}],jz=["Technology","Study","Programming","Sport","Knowledge","Self Improvement","Relationships","Machine Learning","Politics"],PA=["Help","Status","Writers","Blog","Careers","Privacy","Terms","About","Text to speech","Teams"],Vz=()=>{const t=kn();return R.jsxs("div",{className:"sticky top-[6rem]",children:[R.jsxs("div",{className:"border-b border-gray-400 pb-7",children:[R.jsx("h2",{className:"font-semibold",children:"Discover more of what matters to you"}),R.jsx("div",{className:"my-2 flex items-center gap-3 flex-wrap",children:jz.map((e,n)=>R.jsx("button",{onClick:()=>t(`/filter/${e.toLowerCase()}`),className:"bg-gray-200 py-2 px-3 text-sm rounded-full",children:e},n))}),R.jsx("button",{className:"text-green-600 text-sm py-3 hover:text-black1",children:"See more topics"})]}),R.jsx("div",{className:"flex items-center flex-wrap gap-3 leading-3 pt-8",children:PA.map((e,n)=>R.jsx("button",{className:"text-md text-black1",children:e},n))})]})},Fz=()=>R.jsxs(R.Fragment,{children:[R.jsx(CF,{}),R.jsx(Dz,{}),R.jsxs("div",{className:"size py-7 flex flex-col-reverse md:flex-row gap-[7rem]",children:[R.jsx("div",{className:"flex-[1.5]",children:R.jsx(jO,{})}),R.jsx("div",{className:"flex-[1] relative",children:R.jsx(Vz,{})})]})]});function RA(t){return st({tag:"svg",attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 25 4.03125 C 24.234375 4.03125 23.484375 4.328125 22.90625 4.90625 L 13 14.78125 L 12.78125 15 L 12.71875 15.3125 L 12.03125 18.8125 L 11.71875 20.28125 L 13.1875 19.96875 L 16.6875 19.28125 L 17 19.21875 L 17.21875 19 L 27.09375 9.09375 C 28.246094 7.941406 28.246094 6.058594 27.09375 4.90625 C 26.515625 4.328125 25.765625 4.03125 25 4.03125 Z M 25 5.96875 C 25.234375 5.96875 25.464844 6.089844 25.6875 6.3125 C 26.132813 6.757813 26.132813 7.242188 25.6875 7.6875 L 16 17.375 L 14.28125 17.71875 L 14.625 16 L 24.3125 6.3125 C 24.535156 6.089844 24.765625 5.96875 25 5.96875 Z M 4 8 L 4 28 L 24 28 L 24 14.8125 L 22 16.8125 L 22 26 L 6 26 L 6 10 L 15.1875 10 L 17.1875 8 Z"}}]})(t)}function Lc(t){return st({tag:"svg",attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 7.21875 5.78125 L 5.78125 7.21875 L 14.5625 16 L 5.78125 24.78125 L 7.21875 26.21875 L 16 17.4375 L 24.78125 26.21875 L 26.21875 24.78125 L 17.4375 16 L 26.21875 7.21875 L 24.78125 5.78125 L 16 14.5625 Z"}}]})(t)}function Uz(t){return st({tag:"svg",attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 16 5 C 12.144531 5 9 8.144531 9 12 C 9 14.410156 10.230469 16.550781 12.09375 17.8125 C 8.527344 19.34375 6 22.882813 6 27 L 8 27 C 8 22.570313 11.570313 19 16 19 C 20.429688 19 24 22.570313 24 27 L 26 27 C 26 22.882813 23.472656 19.34375 19.90625 17.8125 C 21.769531 16.550781 23 14.410156 23 12 C 23 8.144531 19.855469 5 16 5 Z M 16 7 C 18.773438 7 21 9.226563 21 12 C 21 14.773438 18.773438 17 16 17 C 13.226563 17 11 14.773438 11 12 C 11 9.226563 13.226563 7 16 7 Z"}}]})(t)}function $z(t){return st({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M257 120.471c7.083 0 23.911 4.479 23.911 4.479 45.589 10.447 77.678 52.439 77.678 99.85V352.412l9.321 9.364 7.788 7.823H136.302l7.788-7.823 9.321-9.364V224.8c0-47.41 32.089-89.403 77.678-99.85 0 0 18.043-4.479 23.911-4.479M256 48c-17.602 0-31.059 13.518-31.059 31.2v14.559c-59.015 13.523-103.53 67.601-103.53 131.041v114.4L80 380.8v20.8h352v-20.8l-41.411-41.6V224.8c0-63.44-44.516-117.518-103.53-131.041V79.2c0-17.682-13.457-31.2-31.059-31.2zm41.411 374.4h-82.823c0 22.881 18.633 41.6 41.412 41.6s41.411-18.719 41.411-41.6z"}}]})(t)}function Bz(t){return st({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}}]})(t)}function NA(t){return st({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}}]})(t)}function zz(t){return st({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z"}}]})(t)}function qz(t){return st({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M12 9c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0 8.55C9.64 9.35 6.48 8 3 8v11c3.48 0 6.64 1.35 9 3.55 2.36-2.19 5.52-3.55 9-3.55V8c-3.48 0-6.64 1.35-9 3.55zm7 5.58c-2.53.34-4.93 1.3-7 2.82a15.2 15.2 0 00-7-2.83v-6.95c2.1.38 4.05 1.35 5.64 2.83L12 14.28l1.36-1.27A11.18 11.18 0 0119 10.18v6.95z"}}]})(t)}const nl=({children:t,modal:e,setModal:n})=>R.jsxs(R.Fragment,{children:[R.jsx("div",{onClick:()=>n(!1),className:`bg-white/50 fixed inset-0 z-10 
      ${e?"visible opacity-100":"invisible opacity-0"} transition-all duration-500`}),t]}),Wz=({modal:t,setModal:e})=>{const[n,r]=K.useState(""),{postData:i}=yt(),s=i&&(i==null?void 0:i.filter(a=>a.title.toLowerCase().includes(n.toLowerCase()))),o=kn();return R.jsx(R.Fragment,{children:R.jsx(nl,{modal:t,setModal:e,children:R.jsx("div",{className:`absolute sm:relative right-4 left-4 top-[4rem] sm:left-0 sm:top-0
          ${t?"visible opacity-100":"invisible sm:visible sm:opacity-100 opacity-0"}
          transition-all duration-100`,children:R.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 px-2 rounded-full relative z-10",children:[R.jsx("span",{className:"text-2xl text-gray-400",children:R.jsx(Qk,{})}),R.jsx("input",{value:n,onChange:a=>r(a.target.value),className:"bg-transparent outline-none py-[0.7rem] text-sm w-full",type:"text",placeholder:"Search Medium"}),n!==""&&R.jsx("div",{className:"absolute right-0 left-0 top-full bg-white shadow rounded-md",children:s.length>0?R.jsx(R.Fragment,{children:s.map((a,l)=>R.jsxs("div",{onClick:()=>{o(`/post/${a==null?void 0:a.id}`),r("")},className:"p-2 border-b border-gray-300 hover:bg-gray-100 cursor-pointer",children:[R.jsx("h2",{className:"line-clamp-1 capitalize text-sm font-bold",children:a.title}),R.jsx("div",{className:"text-xs text-gray-500 line-clamp-2",dangerouslySetInnerHTML:{__html:a.desc}})]},l))}):R.jsx("p",{className:"text-sm text-gray-500 p-3",children:"No Post Found"})})]})})})})};function Hz(t){return st({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}}]})(t)}function Yz(t){return st({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M8.465 11.293c1.133-1.133 3.109-1.133 4.242 0l.707.707 1.414-1.414-.707-.707c-.943-.944-2.199-1.465-3.535-1.465s-2.592.521-3.535 1.465L4.929 12a5.008 5.008 0 0 0 0 7.071 4.983 4.983 0 0 0 3.535 1.462A4.982 4.982 0 0 0 12 19.071l.707-.707-1.414-1.414-.707.707a3.007 3.007 0 0 1-4.243 0 3.005 3.005 0 0 1 0-4.243l2.122-2.121z"}},{tag:"path",attr:{d:"m12 4.929-.707.707 1.414 1.414.707-.707a3.007 3.007 0 0 1 4.243 0 3.005 3.005 0 0 1 0 4.243l-2.122 2.121c-1.133 1.133-3.109 1.133-4.242 0L10.586 12l-1.414 1.414.707.707c.943.944 2.199 1.465 3.535 1.465s2.592-.521 3.535-1.465L19.071 12a5.008 5.008 0 0 0 0-7.071 5.006 5.006 0 0 0-7.071 0z"}}]})(t)}function Gz(t){return st({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C9.243 2 7 4.243 7 7v2H6c-1.103 0-2 .897-2 2v9c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-9c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zM9 7c0-1.654 1.346-3 3-3s3 1.346 3 3v2H9V7zm9.002 13H13v-2.278c.595-.347 1-.985 1-1.722 0-1.103-.897-2-2-2s-2 .897-2 2c0 .736.405 1.375 1 1.722V20H6v-9h12l.002 9z"}}]})(t)}function Kz(t){return st({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21 5c0-1.103-.897-2-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2V5zM5 19V5h14l.002 14H5z"}},{tag:"path",attr:{d:"M7 7h1.998v2H7zm4 0h6v2h-6zm-4 4h1.998v2H7zm4 0h6v2h-6zm-4 4h1.998v2H7zm4 0h6v2h-6z"}}]})(t)}function Qz(t){return st({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.001 2.002c-5.522 0-9.999 4.477-9.999 9.999 0 4.99 3.656 9.126 8.437 9.879v-6.988h-2.54v-2.891h2.54V9.798c0-2.508 1.493-3.891 3.776-3.891 1.094 0 2.24.195 2.24.195v2.459h-1.264c-1.24 0-1.628.772-1.628 1.563v1.875h2.771l-.443 2.891h-2.328v6.988C18.344 21.129 22 16.992 22 12.001c0-5.522-4.477-9.999-9.999-9.999z"}}]})(t)}function Zz(t){return st({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 3H4a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM8.339 18.337H5.667v-8.59h2.672v8.59zM7.003 8.574a1.548 1.548 0 1 1 0-3.096 1.548 1.548 0 0 1 0 3.096zm11.335 9.763h-2.669V14.16c0-.996-.018-2.277-1.388-2.277-1.39 0-1.601 1.086-1.601 2.207v4.248h-2.667v-8.59h2.56v1.174h.037c.355-.675 1.227-1.387 2.524-1.387 2.704 0 3.203 1.778 3.203 4.092v4.71z"}}]})(t)}function Xz(t){return st({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.633 7.997c.013.175.013.349.013.523 0 5.325-4.053 11.461-11.46 11.461-2.282 0-4.402-.661-6.186-1.809.324.037.636.05.973.05a8.07 8.07 0 0 0 5.001-1.721 4.036 4.036 0 0 1-3.767-2.793c.249.037.499.062.761.062.361 0 .724-.05 1.061-.137a4.027 4.027 0 0 1-3.23-3.953v-.05c.537.299 1.16.486 1.82.511a4.022 4.022 0 0 1-1.796-3.354c0-.748.199-1.434.548-2.032a11.457 11.457 0 0 0 8.306 4.215c-.062-.3-.1-.611-.1-.923a4.026 4.026 0 0 1 4.028-4.028c1.16 0 2.207.486 2.943 1.272a7.957 7.957 0 0 0 2.556-.973 4.02 4.02 0 0 1-1.771 2.22 8.073 8.073 0 0 0 2.319-.624 8.645 8.645 0 0 1-2.019 2.083z"}}]})(t)}function Jz(t){return st({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"}}]})(t)}const eq=({setModal:t})=>{const{currentUser:e}=yt(),n=[{title:"Profile",icon:R.jsx(Uz,{}),path:`/profile/${e==null?void 0:e.uid}`},{title:"Library",icon:R.jsx(qz,{}),path:"/library"},{title:"Stories",icon:R.jsx(Kz,{}),path:"/stories"},{title:"Stats",icon:R.jsx(Jz,{}),path:"/stats"}],r=kn(),i=async()=>{try{await $3(Rc),r("/demo"),we.success("User has be logged out")}catch(s){we.error(s.message)}};return R.jsxs("section",{className:`absolute w-[18rem] p-6 bg-white right-0 top-[100%]\r
    shadows rounded-md z-50 text-gray-500`,children:[R.jsxs(Ra,{to:"/write",className:"flex md:hidden items-center gap-1 text-gray-500",children:[R.jsx("span",{className:"text-3xl",children:R.jsx(RA,{})}),R.jsx("span",{className:"text-sm mt-2",children:"Write"})]}),R.jsx("div",{className:"flex flex-col gap-4 border-b border-gray-300 pb-5",children:n.map((s,o)=>R.jsxs(Ra,{onClick:()=>t(!1),className:"flex items-center gap-2 text-gray-500 hover:text-black/70",to:s.path,children:[R.jsx("span",{className:"text-2xl",children:s.icon}),R.jsx("h2",{className:"text-md",children:s.title})]},o))}),R.jsxs("button",{onClick:i,className:"flex flex-col pt-5 cursor-pointer hover:text-black/70",children:["Sign Out",R.jsx("span",{className:"text-sm",children:aL(e==null?void 0:e.email)})]})]})},tq=()=>{const{allUsers:t,userLoading:e,currentUser:n,setPublish:r,title:i,description:s}=yt(),[o,a]=K.useState(!1),[l,c]=K.useState(!1),[f,h]=K.useState(!1),{pathname:d}=bo(),p=t==null?void 0:t.find(m=>m.id===(n==null?void 0:n.uid)),w=d.split("/")[1],E=d.split("/")[2],_=kn(),g=async()=>{try{h(!0);const m=Ht(Tt,"posts",E);await mp(m,{title:i,desc:s}),_(`/post/${E}`),we.success("Post has been updated")}catch{}finally{h(!1)}};return R.jsxs("header",{className:"border-b border-gray-200",children:[e&&R.jsx(Cs,{}),R.jsxs("div",{className:"size h-[60px] flex items-center justify-between",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx(Ra,{to:"/",children:R.jsx("span",{className:"text-5xl",children:R.jsx(AF,{})})}),R.jsx(Wz,{modal:l,setModal:c})]}),R.jsxs("div",{className:"flex items-center gap-3 sm:gap-7",children:[R.jsx("span",{onClick:()=>c(!0),className:"flex sm:hidden text-3xl text-gray-300 cursor-pointer",children:R.jsx(Qk,{})}),d==="/write"?R.jsx("button",{onClick:()=>r(!0),className:"btn !bg-green-700 !py-1 !text-white !rounded-full",children:"Publish"}):w==="editPost"?R.jsx("button",{onClick:g,className:`btn !bg-green-700 !py-1 !text-white !rounded-full
              ${f?"opacity-40":""}
              `,children:f?"Updating...":"Save and Update"}):R.jsxs(Ra,{to:"/write",className:"hidden md:flex items-center gap-1 text-gray-500",children:[R.jsx("span",{className:"text-3xl",children:R.jsx(RA,{})}),R.jsx("span",{className:"text-sm mt-2",children:"Write"})]}),R.jsx("span",{className:"text-3xl text-gray-500 cursor-pointer",children:R.jsx($z,{})}),R.jsxs("div",{className:"flex items-center relative",children:[R.jsx("img",{onClick:()=>a(!0),className:"w-[2.3rem] h-[2.3rem] object-cover rounded-full cursor-pointer",src:(p==null?void 0:p.userImg)||"/profile.jpg",alt:"profile-img"}),R.jsx("span",{className:"text-gray-500 cursor-pointer",children:R.jsx(Bz,{})}),R.jsx(nl,{modal:o,setModal:a,children:R.jsx("div",{className:`${o?"visible opacity-100%":"invisible opacity-0"} transition-all duration-100`,children:R.jsx(eq,{setModal:a})})})]})]})]})]})};function nq(t){return st({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`}},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`}},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`}},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`}}]})(t)}function rq(t){return st({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0 0 68.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]})(t)}const ua=({type:t,title:e,form:n,setForm:r})=>{const i=s=>{r({...n,[s.target.name]:s.target.value})};return R.jsxs("div",{className:"flex flex-col gap-2",children:[R.jsx("label",{className:"text-sm capitalize",children:e}),R.jsx("input",{className:"text-center border-b border-black outline-none",type:t,name:e,onChange:i})]})},iq=({setSignReq:t})=>{const e=kn(),[n,r]=K.useState({email:"",password:""}),[i,s]=K.useState(!1),o=async a=>{a.preventDefault(),n.password===""&&we.error("All fields are required!!!");try{s(!0),await j3(Rc,n.email,n.password),e("/"),we.success("User has been logged in "),s(!1)}catch(l){we.error(l.message),s(!1)}};return R.jsxs("div",{className:"size mt-[6rem] text-center",children:[R.jsx("h2",{className:"text-3xl",children:"Sign in with email"}),R.jsx("p",{className:"w-full sm:w-[25rem] mx-auto py-[3rem]",children:"Enter the email address associated with your account, and well send a magic link to your inbox."}),R.jsxs("form",{onSubmit:o,className:"flex flex-col gap-4",children:[R.jsx(ua,{form:n,setForm:r,type:"email",title:"email"}),R.jsx(ua,{form:n,setForm:r,type:"password",title:"password"}),R.jsx("button",{className:`px-4 py-1 text-sm rounded-full bg-green-700
        hover:bg-green-800 text-white w-fit mx-auto
        ${i?"opacity-50 pointer-events-none":""}`,children:"Sign In"})]}),R.jsxs("button",{onClick:()=>t(""),className:`mt-5 text-sm text-green-600 hover:text-green-700\r
      flex items-center mx-auto`,children:[R.jsx(NA,{}),"All sign In Options"]})]})},sq=({setSignReq:t,setModal:e})=>{const n=kn(),[r,i]=K.useState(!1),[s,o]=K.useState({username:"",email:"",password:"",rePassword:""}),a=async l=>{if(l.preventDefault(),s.rePassword==="")we.error("All fields are required");else if(s.password!==s.rePassword){we.error("Your passwords are not matching!!");return}else{i(!0);const{user:c}=await L3(Rc,s.email,s.password),f=Ht(Tt,"users",c.uid);(await Qu(f)).exists()||(await Ua(f,{userId:c.uid,username:s.username,email:s.email,userImg:"",bio:"",created:Date.now()}),n("/"),we.success("New Account has been Created"),e(!1),i(!1))}};return R.jsxs("div",{className:"size mt-[6rem] text-center",children:[R.jsx("h2",{className:"text-3xl",children:"Sign up with email"}),R.jsx("p",{className:"w-full sm:w-[25rem] mx-auto py-[3rem]",children:"Enter the email address associated with your account, and well send a magic link to your inbox."}),R.jsxs("form",{onSubmit:a,className:"flex flex-col gap-4",children:[R.jsx(ua,{form:s,setForm:o,type:"text",title:"username"}),R.jsx(ua,{form:s,setForm:o,type:"email",title:"email"}),R.jsx(ua,{form:s,setForm:o,type:"password",title:"password"}),R.jsx(ua,{form:s,setForm:o,type:"password",title:"rePassword"}),R.jsx("button",{className:`first-letter:px-4 py-1 text-sm rounded-full bg-green-700
        hover:bg-green-800 text-white w-fit mx-auto
        ${r?"opacity-50 pointer-events-none":""}`,children:"Sign Up"})]}),R.jsxs("button",{onClick:()=>t(""),className:`mt-5 text-sm text-green-600 hover:text-green-700\r
      flex items-center mx-auto`,children:[R.jsx(NA,{}),"All sign Up Options"]})]})},oq=({modal:t,setModal:e})=>{const[n,r]=K.useState(!1),[i,s]=K.useState(""),o=kn(),a=async()=>{try{const c=(await l6(Rc,vF)).user,f=Ht(Tt,"users",c.uid);(await Qu(f)).exists()||(await Ua(f,{userId:c.uid,username:c.displayName,email:c.email,userImg:c.photoURL,bio:""}),o("/"),we.success("User have been Signed in"),e(!1))}catch(l){we.error(l.message)}};return R.jsx(nl,{modal:t,setModal:e,children:R.jsxs("section",{className:`z-50 fixed top-0 bottom-0 left-0 md:left-[10rem]
        overflow-auto right-0 md:right-[10rem] bg-white shadows transition-all duration-500
        ${t?"visible opacity-100":"invisible opacity-0"}`,children:[R.jsx("button",{onClick:()=>e(!1),className:"absolute top-8 right-8 text-2xl hover:opacity-50",children:R.jsx(Lc,{})}),R.jsxs("div",{className:"flex flex-col justify-center items-center gap-[3rem]",children:[i===""?R.jsxs(R.Fragment,{children:[R.jsx("h2",{className:"text-2xl pt-[5rem]",children:n?"Join Medium":"Welcome Back"}),R.jsxs("div",{className:"flex flex-col gap-2 w-fit mx-auto",children:[R.jsx(lg,{click:a,icon:R.jsx(nq,{className:"text-xl"}),text:`${n?"Sign Up":"Sign In"} With Google`}),R.jsx(lg,{icon:R.jsx(zz,{className:"text-xl text-blue-600"}),text:`${n?"Sign Up":"Sign In"} With Facebook`}),R.jsx(lg,{click:()=>s(n?"sign-up":"sign-in"),icon:R.jsx(rq,{className:"text-xl"}),text:`${n?"Sign Up":"Sign In"} With Email`})]}),R.jsxs("p",{children:[n?"Already have an account":"No Account",R.jsx("button",{onClick:()=>r(!n),className:"text-green-600 hover:text-green-700 font-bold ml-1",children:n?"Sign In":"Create one"})]})]}):i==="sign-in"?R.jsx(iq,{setModal:e,setSignReq:s}):i==="sign-up"?R.jsx(sq,{setModal:e,setSignReq:s}):null,R.jsx("p",{className:"md:w-[30rem] mx-auto text-center text-sm mb-[3rem]",children:"Click Sign In to agree to Mediums Terms of Service and acknowledge that Mediums Privacy Policy applies to you."})]})]})})},lg=({icon:t,text:e,click:n})=>R.jsxs("button",{onClick:n,className:`flex items-center gap-10 sm:w-[20rem] border border-black\r
        px-3 py-2 rounded-full`,children:[t," ",e]}),aq=()=>{const[t,e]=K.useState(!1),{authModel:n,setAuthModel:r}=yt();return K.useEffect(()=>{const i=()=>{window.scrollY>50?e(!0):e(!1)};window.addEventListener("scroll",i)},[]),R.jsx("header",{className:`border-b border-black sticky top-0 z-50 
    ${t?"bg-white":"bg-banner"}
    transition-all duration-500`,children:R.jsxs("div",{className:"size h-[70px] flex items-center justify-between",children:[R.jsx(Ra,{to:"/",children:R.jsx("img",{className:"h-[2.5rem]",src:"https://miro.medium.com/v2/resize:fit:8978/1*s986xIGqhfsN8U--09_AdA.png",alt:"logo"})}),R.jsxs("div",{className:"flex items-center gap-5",children:[R.jsx("div",{className:"hidden text-sm sm:flex items-center gap-5",children:Lz.map((i,s)=>R.jsx(Ra,{to:i.path,children:i.title},s))}),R.jsxs("div",{className:"relative",children:[R.jsx("button",{onClick:()=>r(!0),className:"hidden text-sm sm:flex items-center gap-5",children:"Sign In"}),R.jsx(oq,{modal:n,setModal:r})]}),R.jsx("button",{onClick:()=>r(!0),className:`text-white rounded-full px-3 p-2 text-sm font-medium
            ${t?"bg-green-700":"bg-black"}
            `,children:"Get Started"})]})]})})},lq=({getUserData:t})=>{const{postData:e,postLoading:n}=yt(),r=e&&(e==null?void 0:e.filter(i=>(i==null?void 0:i.userId)===(t==null?void 0:t.userId)));return R.jsxs("div",{className:"flex flex-col gap-5 mb-[4rem]",children:[r.length===0&&R.jsxs("p",{className:"text-gray-500",children:[R.jsx("span",{className:"capitalize",children:t==null?void 0:t.username})," has no posts"]}),n?R.jsx(Cs,{}):r&&(r==null?void 0:r.map((i,s)=>R.jsx(_p,{post:i},s)))]})},uq=({getUserData:t})=>{const{currentUser:e}=yt(),{data:n,loading:r}=To("users",e==null?void 0:e.uid,"savePost");return R.jsx("div",{children:e&&(e==null?void 0:e.uid)===(t==null?void 0:t.userId)?R.jsxs("div",{className:"flex flex-col gap-[2rem] mb-[2rem]",children:[n&&n.length===0&&R.jsxs("p",{className:"text-gray-500",children:[R.jsx("span",{className:"capitalize mr-1",children:t==null?void 0:t.username})," ","has no saved post"]}),r?R.jsx(Cs,{}):n&&(n==null?void 0:n.map((i,s)=>R.jsx(_p,{post:i},s)))]}):R.jsx(cq,{username:t==null?void 0:t.username})})},cq=({username:t})=>R.jsxs("div",{className:"flex flex-col justify-center items-center gap-[3rem] text-center",children:[R.jsx("p",{children:R.jsxs("span",{className:"capitalize",children:[t," saved posts are private"]})}),R.jsx("span",{className:"text-[10rem] text-gray-500",children:R.jsx(Gz,{})})]}),fq=({getUserData:t,setEditModal:e})=>{const{currentUser:n}=yt();return R.jsxs("div",{className:"w-full",children:[R.jsx("p",{className:"text-2xl first-letter:uppercase",children:(t==null?void 0:t.bio)||(t==null?void 0:t.username)+" Has no bio"}),R.jsx("div",{className:"text-right",children:(n==null?void 0:n.uid)===t.userId&&R.jsx("button",{onClick:()=>e(!0),className:"border border-black py-2 px-5 rounded-full text-black mt-[3rem]",children:"Edit"})})]})};function hq(t){return st({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 176a80 80 0 1080 80 80.24 80.24 0 00-80-80zm172.72 80a165.53 165.53 0 01-1.64 22.34l48.69 38.12a11.59 11.59 0 012.63 14.78l-46.06 79.52a11.64 11.64 0 01-14.14 4.93l-57.25-23a176.56 176.56 0 01-38.82 22.67l-8.56 60.78a11.93 11.93 0 01-11.51 9.86h-92.12a12 12 0 01-11.51-9.53l-8.56-60.78A169.3 169.3 0 01151.05 393L93.8 416a11.64 11.64 0 01-14.14-4.92L33.6 331.57a11.59 11.59 0 012.63-14.78l48.69-38.12A174.58 174.58 0 0183.28 256a165.53 165.53 0 011.64-22.34l-48.69-38.12a11.59 11.59 0 01-2.63-14.78l46.06-79.52a11.64 11.64 0 0114.14-4.93l57.25 23a176.56 176.56 0 0138.82-22.67l8.56-60.78A11.93 11.93 0 01209.94 26h92.12a12 12 0 0111.51 9.53l8.56 60.78A169.3 169.3 0 01361 119l57.2-23a11.64 11.64 0 0114.14 4.92l46.06 79.52a11.59 11.59 0 01-2.63 14.78l-48.69 38.12a174.58 174.58 0 011.64 22.66z"}}]})(t)}const dq=({editModal:t,setEditModal:e,getUserData:n})=>{const r=K.useRef(null),[i,s]=K.useState(""),[o,a]=K.useState(!1),[l,c]=K.useState({username:"",userImg:"",bio:""}),f="border border-green-600 py-2 px-5 rounded-full text-green-600",h=()=>{r.current.click()};K.useEffect(()=>{c(n||{username:"",bio:"",userImg:""})},[n]);const d=async()=>{if(l.username===""||l.bio===""){we.error("All inputs are required!!!");return}a(!0);const p=ax(PO,`image/${l.userImg.name}`);await sx(p,l==null?void 0:l.userImg);const w=await ox(p);try{const E=Ht(Tt,"users",n==null?void 0:n.userId);await mp(E,{bio:l.bio,username:l.username,userImg:i?w:l.userImg,userId:n==null?void 0:n.userId}),a(!1),e(!1),we.success("Profile has been updated")}catch(E){we.error(E.message)}};return R.jsx(nl,{modal:t,setModal:e,children:R.jsxs("div",{className:`center w-[95%] md:w-[45rem] bg-white mx-auto shadows\r
        my-[1rem] z-20 mb-[3rem] p-[2rem]`,children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("h2",{className:"font-bold text-xl",children:"Profile information"}),R.jsx("button",{onClick:()=>e(!1),className:"text-xl",children:R.jsx(Lc,{})})]}),R.jsxs("section",{className:"mt-6",children:[R.jsx("p",{className:"pb-3 text-sm text-gray-500",children:"Photo"}),R.jsxs("div",{className:"flex gap-[2rem]",children:[R.jsxs("div",{className:"w-[5rem]",children:[R.jsx("img",{className:"min-h-[5rem] min-w-[5rem] object-cover border border-gray-400 rounded-full",src:i||(l.userImg?l.userImg:"/profile.jpg"),alt:"profile-img"}),R.jsx("input",{onChange:p=>{s(URL.createObjectURL(p.target.files[0])),c({...l,userImg:p.target.files[0]})},accept:"image/jpg, image/png, image/jpeg",ref:r,type:"file",hidden:!0})]}),R.jsxs("div",{children:[R.jsxs("div",{className:"flex gap-4 text-sm",children:[R.jsx("button",{onClick:h,className:"text-green-600",children:"Update"}),R.jsx("button",{className:"text-red-600",children:"Remove"})]}),R.jsx("p",{className:"w-full sm:w-[20rem] text-gray-500 text-sm pt-2",children:"Recommended: Square JPG, PNG, or GIF, at least 1,000 pixels per side."})]})]})]}),R.jsxs("section",{className:"pt-[1rem] text-sm",children:[R.jsx("label",{className:"pb-3 block",htmlFor:"",children:"Name*"}),R.jsx("input",{onChange:p=>c({...l,username:p.target.value}),value:l.username,type:"text",placeholder:"username...",className:"p-1 border-b border-black w-full outline-none",maxLength:50}),R.jsxs("p",{className:"text-sm text-gray-600 pt-2",children:["Appears on your Profile page, as your byline, and in your responses.",l.username.length,"/50"]}),R.jsxs("section",{className:"pt-[1rem] text-sm",children:[R.jsx("label",{className:"pb-3 block",htmlFor:"",children:"Bio*"}),R.jsx("input",{onChange:p=>c({...l,bio:p.target.value}),value:l.bio,type:"text",placeholder:"bio...",className:"p-1 border-b border-black w-full outline-none",maxLength:160}),R.jsxs("p",{className:"text-sm text-gray-600 pt-2",children:["Appears on your Profile and next to your stories."," ",l.bio.length,"/160"]})]})]}),R.jsxs("div",{className:"flex items-center justify-end gap-4 pt-[2rem]",children:[R.jsx("button",{onClick:()=>e(!1),className:f,children:"Cancel"}),R.jsx("button",{onClick:d,className:`${f} bg-green-800 text-white ${o?"opacity-50":""}`,children:"Save"})]})]})})},pq=()=>{const{allUsers:t,currentUser:e}=yt(),{userId:n}=s0(),r=[{title:"Home",comp:lq},{title:"Lists",comp:uq},{title:"About",comp:fq}],[i,s]=K.useState(r[0]),[o,a]=K.useState(!1),[l,c]=K.useState(!1),f=t.find(p=>p.id===n),{data:h}=To("users",n,"follows"),{data:d}=To("users",n,"followers");return R.jsxs("section",{className:"size flex gap-[4rem] relative",children:[R.jsxs("div",{className:"mt-[9rem] flex-[2]",children:[R.jsxs("div",{className:"flex items-end gap-4",children:[R.jsx("h2",{className:"text-3xl sm:text-5xl font-bold capitalize",children:f==null?void 0:f.username}),R.jsxs("p",{className:"text-gray-500 text-xs sm:text-sm",children:["Followers(",d.length,")"]}),R.jsxs("p",{className:"text-gray-500 text-xs sm:text-sm",children:["Followings(",h.length,")"]})]}),R.jsx("div",{className:"flex items-center gap-5 mt-[1rem] border-b border-gray-300 mb-[3rem]",children:r.map((p,w)=>R.jsx("div",{className:`py-[0.5rem]
            ${p.title===i.title?"border-b border-gray-500":""}
            `,children:R.jsx("button",{onClick:()=>s(p),children:p.title})},w))}),R.jsx(i.comp,{getUserData:f,setEditModal:c})]}),R.jsx("button",{onClick:()=>a(!0),className:`fixed top-[8rem] right-0 w-[2rem] h-[2rem] bg-black text-white\r
        grid place-items-center md:hidden`,children:R.jsx(hq,{})}),R.jsx(nl,{modal:o,setModal:a,children:R.jsxs("div",{className:`flex-[1] border-l border-gray-300 p-[2rem] z-10
        fixed right-0 bottom-0 top-0 w-[18rem] bg-white md:sticky
        ${o?"translate-x-0":"translate-x-[100%] md:translate-x-0"}
        transition-all duration-500`,children:[R.jsx("div",{className:"pb-4 text-right",children:R.jsx("button",{onClick:()=>a(!1),className:"inline-block md:hidden",children:R.jsx(Lc,{})})}),R.jsxs("div",{className:"sticky top-7 flex flex-col justify-between",children:[R.jsx("img",{className:"w-[3.5rem] h-[3.5rem] object-cover rounded-full",src:(f==null?void 0:f.userImg)||"/profile.jpg",alt:"profile-img"}),R.jsx("h2",{className:"py-2 font-bold capitalize",children:f==null?void 0:f.username}),R.jsx("p",{className:"text-gray-500 first-letter:uppercase text-sm",children:f==null?void 0:f.bio}),(e==null?void 0:e.uid)===(f==null?void 0:f.userId)&&R.jsx("button",{onClick:()=>c(!0),className:"text-green-700 pt-6 text-sm w-fit",children:"Edit Profile"}),R.jsx("div",{className:"flex-[1] flex items-center flex-wrap gap-3 pt-8",children:PA.map(p=>R.jsx("button",{className:"text-xs text-black1",children:p},p))})]})]})}),l&&R.jsx(dq,{getUserData:f,editModal:l,setEditModal:c})]})};function mq(){this.__data__=[],this.size=0}var gq=mq;function yq(t,e){return t===e||t!==t&&e!==e}var CA=yq,vq=CA;function _q(t,e){for(var n=t.length;n--;)if(vq(t[n][0],e))return n;return-1}var Np=_q,wq=Np,Eq=Array.prototype,Tq=Eq.splice;function Sq(t){var e=this.__data__,n=wq(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Tq.call(e,n,1),--this.size,!0}var kq=Sq,bq=Np;function xq(t){var e=this.__data__,n=bq(e,t);return n<0?void 0:e[n][1]}var Iq=xq,Oq=Np;function Aq(t){return Oq(this.__data__,t)>-1}var Pq=Aq,Rq=Np;function Nq(t,e){var n=this.__data__,r=Rq(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Cq=Nq,Dq=gq,Mq=kq,Lq=Iq,jq=Pq,Vq=Cq;function rl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}rl.prototype.clear=Dq;rl.prototype.delete=Mq;rl.prototype.get=Lq;rl.prototype.has=jq;rl.prototype.set=Vq;var Cp=rl,Fq=Cp;function Uq(){this.__data__=new Fq,this.size=0}var $q=Uq;function Bq(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var zq=Bq;function qq(t){return this.__data__.get(t)}var Wq=qq;function Hq(t){return this.__data__.has(t)}var Yq=Hq,Gq=typeof Pn=="object"&&Pn&&Pn.Object===Object&&Pn,DA=Gq,Kq=DA,Qq=typeof self=="object"&&self&&self.Object===Object&&self,Zq=Kq||Qq||Function("return this")(),Ui=Zq,Xq=Ui,Jq=Xq.Symbol,Y_=Jq,BT=Y_,MA=Object.prototype,eW=MA.hasOwnProperty,tW=MA.toString,Rl=BT?BT.toStringTag:void 0;function nW(t){var e=eW.call(t,Rl),n=t[Rl];try{t[Rl]=void 0;var r=!0}catch{}var i=tW.call(t);return r&&(e?t[Rl]=n:delete t[Rl]),i}var rW=nW,iW=Object.prototype,sW=iW.toString;function oW(t){return sW.call(t)}var aW=oW,zT=Y_,lW=rW,uW=aW,cW="[object Null]",fW="[object Undefined]",qT=zT?zT.toStringTag:void 0;function hW(t){return t==null?t===void 0?fW:cW:qT&&qT in Object(t)?lW(t):uW(t)}var Dp=hW;function dW(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var LA=dW,pW=Dp,mW=LA,gW="[object AsyncFunction]",yW="[object Function]",vW="[object GeneratorFunction]",_W="[object Proxy]";function wW(t){if(!mW(t))return!1;var e=pW(t);return e==yW||e==vW||e==gW||e==_W}var jA=wW,EW=Ui,TW=EW["__core-js_shared__"],SW=TW,ug=SW,WT=function(){var t=/[^.]+$/.exec(ug&&ug.keys&&ug.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function kW(t){return!!WT&&WT in t}var bW=kW,xW=Function.prototype,IW=xW.toString;function OW(t){if(t!=null){try{return IW.call(t)}catch{}try{return t+""}catch{}}return""}var VA=OW,AW=jA,PW=bW,RW=LA,NW=VA,CW=/[\\^$.*+?()[\]{}|]/g,DW=/^\[object .+?Constructor\]$/,MW=Function.prototype,LW=Object.prototype,jW=MW.toString,VW=LW.hasOwnProperty,FW=RegExp("^"+jW.call(VW).replace(CW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function UW(t){if(!RW(t)||PW(t))return!1;var e=AW(t)?FW:DW;return e.test(NW(t))}var $W=UW;function BW(t,e){return t==null?void 0:t[e]}var zW=BW,qW=$W,WW=zW;function HW(t,e){var n=WW(t,e);return qW(n)?n:void 0}var il=HW,YW=il,GW=Ui,KW=YW(GW,"Map"),G_=KW,QW=il,ZW=QW(Object,"create"),Mp=ZW,HT=Mp;function XW(){this.__data__=HT?HT(null):{},this.size=0}var JW=XW;function eH(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var tH=eH,nH=Mp,rH="__lodash_hash_undefined__",iH=Object.prototype,sH=iH.hasOwnProperty;function oH(t){var e=this.__data__;if(nH){var n=e[t];return n===rH?void 0:n}return sH.call(e,t)?e[t]:void 0}var aH=oH,lH=Mp,uH=Object.prototype,cH=uH.hasOwnProperty;function fH(t){var e=this.__data__;return lH?e[t]!==void 0:cH.call(e,t)}var hH=fH,dH=Mp,pH="__lodash_hash_undefined__";function mH(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=dH&&e===void 0?pH:e,this}var gH=mH,yH=JW,vH=tH,_H=aH,wH=hH,EH=gH;function sl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}sl.prototype.clear=yH;sl.prototype.delete=vH;sl.prototype.get=_H;sl.prototype.has=wH;sl.prototype.set=EH;var TH=sl,YT=TH,SH=Cp,kH=G_;function bH(){this.size=0,this.__data__={hash:new YT,map:new(kH||SH),string:new YT}}var xH=bH;function IH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var OH=IH,AH=OH;function PH(t,e){var n=t.__data__;return AH(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Lp=PH,RH=Lp;function NH(t){var e=RH(this,t).delete(t);return this.size-=e?1:0,e}var CH=NH,DH=Lp;function MH(t){return DH(this,t).get(t)}var LH=MH,jH=Lp;function VH(t){return jH(this,t).has(t)}var FH=VH,UH=Lp;function $H(t,e){var n=UH(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var BH=$H,zH=xH,qH=CH,WH=LH,HH=FH,YH=BH;function ol(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ol.prototype.clear=zH;ol.prototype.delete=qH;ol.prototype.get=WH;ol.prototype.has=HH;ol.prototype.set=YH;var FA=ol,GH=Cp,KH=G_,QH=FA,ZH=200;function XH(t,e){var n=this.__data__;if(n instanceof GH){var r=n.__data__;if(!KH||r.length<ZH-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new QH(r)}return n.set(t,e),this.size=n.size,this}var JH=XH,eY=Cp,tY=$q,nY=zq,rY=Wq,iY=Yq,sY=JH;function al(t){var e=this.__data__=new eY(t);this.size=e.size}al.prototype.clear=tY;al.prototype.delete=nY;al.prototype.get=rY;al.prototype.has=iY;al.prototype.set=sY;var oY=al,aY="__lodash_hash_undefined__";function lY(t){return this.__data__.set(t,aY),this}var uY=lY;function cY(t){return this.__data__.has(t)}var fY=cY,hY=FA,dY=uY,pY=fY;function ud(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new hY;++e<n;)this.add(t[e])}ud.prototype.add=ud.prototype.push=dY;ud.prototype.has=pY;var mY=ud;function gY(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var yY=gY;function vY(t,e){return t.has(e)}var _Y=vY,wY=mY,EY=yY,TY=_Y,SY=1,kY=2;function bY(t,e,n,r,i,s){var o=n&SY,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),f=s.get(e);if(c&&f)return c==e&&f==t;var h=-1,d=!0,p=n&kY?new wY:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var w=t[h],E=e[h];if(r)var _=o?r(E,w,h,e,t,s):r(w,E,h,t,e,s);if(_!==void 0){if(_)continue;d=!1;break}if(p){if(!EY(e,function(g,m){if(!TY(p,m)&&(w===g||i(w,g,n,r,s)))return p.push(m)})){d=!1;break}}else if(!(w===E||i(w,E,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}var UA=bY,xY=Ui,IY=xY.Uint8Array,OY=IY;function AY(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var PY=AY;function RY(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var NY=RY,GT=Y_,KT=OY,CY=CA,DY=UA,MY=PY,LY=NY,jY=1,VY=2,FY="[object Boolean]",UY="[object Date]",$Y="[object Error]",BY="[object Map]",zY="[object Number]",qY="[object RegExp]",WY="[object Set]",HY="[object String]",YY="[object Symbol]",GY="[object ArrayBuffer]",KY="[object DataView]",QT=GT?GT.prototype:void 0,cg=QT?QT.valueOf:void 0;function QY(t,e,n,r,i,s,o){switch(n){case KY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case GY:return!(t.byteLength!=e.byteLength||!s(new KT(t),new KT(e)));case FY:case UY:case zY:return CY(+t,+e);case $Y:return t.name==e.name&&t.message==e.message;case qY:case HY:return t==e+"";case BY:var a=MY;case WY:var l=r&jY;if(a||(a=LY),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=VY,o.set(t,e);var f=DY(a(t),a(e),r,i,s,o);return o.delete(t),f;case YY:if(cg)return cg.call(t)==cg.call(e)}return!1}var ZY=QY;function XY(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var JY=XY,eG=Array.isArray,K_=eG,tG=JY,nG=K_;function rG(t,e,n){var r=e(t);return nG(t)?r:tG(r,n(t))}var iG=rG;function sG(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var oG=sG;function aG(){return[]}var lG=aG,uG=oG,cG=lG,fG=Object.prototype,hG=fG.propertyIsEnumerable,ZT=Object.getOwnPropertySymbols,dG=ZT?function(t){return t==null?[]:(t=Object(t),uG(ZT(t),function(e){return hG.call(t,e)}))}:cG,pG=dG;function mG(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var gG=mG;function yG(t){return t!=null&&typeof t=="object"}var jp=yG,vG=Dp,_G=jp,wG="[object Arguments]";function EG(t){return _G(t)&&vG(t)==wG}var TG=EG,XT=TG,SG=jp,$A=Object.prototype,kG=$A.hasOwnProperty,bG=$A.propertyIsEnumerable,xG=XT(function(){return arguments}())?XT:function(t){return SG(t)&&kG.call(t,"callee")&&!bG.call(t,"callee")},IG=xG,cd={exports:{}};function OG(){return!1}var AG=OG;cd.exports;(function(t,e){var n=Ui,r=AG,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(cd,cd.exports);var BA=cd.exports,PG=9007199254740991,RG=/^(?:0|[1-9]\d*)$/;function NG(t,e){var n=typeof t;return e=e??PG,!!e&&(n=="number"||n!="symbol"&&RG.test(t))&&t>-1&&t%1==0&&t<e}var CG=NG,DG=9007199254740991;function MG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=DG}var zA=MG,LG=Dp,jG=zA,VG=jp,FG="[object Arguments]",UG="[object Array]",$G="[object Boolean]",BG="[object Date]",zG="[object Error]",qG="[object Function]",WG="[object Map]",HG="[object Number]",YG="[object Object]",GG="[object RegExp]",KG="[object Set]",QG="[object String]",ZG="[object WeakMap]",XG="[object ArrayBuffer]",JG="[object DataView]",eK="[object Float32Array]",tK="[object Float64Array]",nK="[object Int8Array]",rK="[object Int16Array]",iK="[object Int32Array]",sK="[object Uint8Array]",oK="[object Uint8ClampedArray]",aK="[object Uint16Array]",lK="[object Uint32Array]",ft={};ft[eK]=ft[tK]=ft[nK]=ft[rK]=ft[iK]=ft[sK]=ft[oK]=ft[aK]=ft[lK]=!0;ft[FG]=ft[UG]=ft[XG]=ft[$G]=ft[JG]=ft[BG]=ft[zG]=ft[qG]=ft[WG]=ft[HG]=ft[YG]=ft[GG]=ft[KG]=ft[QG]=ft[ZG]=!1;function uK(t){return VG(t)&&jG(t.length)&&!!ft[LG(t)]}var cK=uK;function fK(t){return function(e){return t(e)}}var hK=fK,fd={exports:{}};fd.exports;(function(t,e){var n=DA,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(fd,fd.exports);var dK=fd.exports,pK=cK,mK=hK,JT=dK,e2=JT&&JT.isTypedArray,gK=e2?mK(e2):pK,qA=gK,yK=gG,vK=IG,_K=K_,wK=BA,EK=CG,TK=qA,SK=Object.prototype,kK=SK.hasOwnProperty;function bK(t,e){var n=_K(t),r=!n&&vK(t),i=!n&&!r&&wK(t),s=!n&&!r&&!i&&TK(t),o=n||r||i||s,a=o?yK(t.length,String):[],l=a.length;for(var c in t)(e||kK.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||EK(c,l)))&&a.push(c);return a}var xK=bK,IK=Object.prototype;function OK(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||IK;return t===n}var AK=OK;function PK(t,e){return function(n){return t(e(n))}}var RK=PK,NK=RK,CK=NK(Object.keys,Object),DK=CK,MK=AK,LK=DK,jK=Object.prototype,VK=jK.hasOwnProperty;function FK(t){if(!MK(t))return LK(t);var e=[];for(var n in Object(t))VK.call(t,n)&&n!="constructor"&&e.push(n);return e}var UK=FK,$K=jA,BK=zA;function zK(t){return t!=null&&BK(t.length)&&!$K(t)}var qK=zK,WK=xK,HK=UK,YK=qK;function GK(t){return YK(t)?WK(t):HK(t)}var KK=GK,QK=iG,ZK=pG,XK=KK;function JK(t){return QK(t,XK,ZK)}var eQ=JK,t2=eQ,tQ=1,nQ=Object.prototype,rQ=nQ.hasOwnProperty;function iQ(t,e,n,r,i,s){var o=n&tQ,a=t2(t),l=a.length,c=t2(e),f=c.length;if(l!=f&&!o)return!1;for(var h=l;h--;){var d=a[h];if(!(o?d in e:rQ.call(e,d)))return!1}var p=s.get(t),w=s.get(e);if(p&&w)return p==e&&w==t;var E=!0;s.set(t,e),s.set(e,t);for(var _=o;++h<l;){d=a[h];var g=t[d],m=e[d];if(r)var T=o?r(m,g,d,e,t,s):r(g,m,d,t,e,s);if(!(T===void 0?g===m||i(g,m,n,r,s):T)){E=!1;break}_||(_=d=="constructor")}if(E&&!_){var v=t.constructor,S=e.constructor;v!=S&&"constructor"in t&&"constructor"in e&&!(typeof v=="function"&&v instanceof v&&typeof S=="function"&&S instanceof S)&&(E=!1)}return s.delete(t),s.delete(e),E}var sQ=iQ,oQ=il,aQ=Ui,lQ=oQ(aQ,"DataView"),uQ=lQ,cQ=il,fQ=Ui,hQ=cQ(fQ,"Promise"),dQ=hQ,pQ=il,mQ=Ui,gQ=pQ(mQ,"Set"),yQ=gQ,vQ=il,_Q=Ui,wQ=vQ(_Q,"WeakMap"),EQ=wQ,Jy=uQ,ev=G_,tv=dQ,nv=yQ,rv=EQ,WA=Dp,ll=VA,n2="[object Map]",TQ="[object Object]",r2="[object Promise]",i2="[object Set]",s2="[object WeakMap]",o2="[object DataView]",SQ=ll(Jy),kQ=ll(ev),bQ=ll(tv),xQ=ll(nv),IQ=ll(rv),Hs=WA;(Jy&&Hs(new Jy(new ArrayBuffer(1)))!=o2||ev&&Hs(new ev)!=n2||tv&&Hs(tv.resolve())!=r2||nv&&Hs(new nv)!=i2||rv&&Hs(new rv)!=s2)&&(Hs=function(t){var e=WA(t),n=e==TQ?t.constructor:void 0,r=n?ll(n):"";if(r)switch(r){case SQ:return o2;case kQ:return n2;case bQ:return r2;case xQ:return i2;case IQ:return s2}return e});var OQ=Hs,fg=oY,AQ=UA,PQ=ZY,RQ=sQ,a2=OQ,l2=K_,u2=BA,NQ=qA,CQ=1,c2="[object Arguments]",f2="[object Array]",Df="[object Object]",DQ=Object.prototype,h2=DQ.hasOwnProperty;function MQ(t,e,n,r,i,s){var o=l2(t),a=l2(e),l=o?f2:a2(t),c=a?f2:a2(e);l=l==c2?Df:l,c=c==c2?Df:c;var f=l==Df,h=c==Df,d=l==c;if(d&&u2(t)){if(!u2(e))return!1;o=!0,f=!1}if(d&&!f)return s||(s=new fg),o||NQ(t)?AQ(t,e,n,r,i,s):PQ(t,e,l,n,r,i,s);if(!(n&CQ)){var p=f&&h2.call(t,"__wrapped__"),w=h&&h2.call(e,"__wrapped__");if(p||w){var E=p?t.value():t,_=w?e.value():e;return s||(s=new fg),i(E,_,n,r,s)}}return d?(s||(s=new fg),RQ(t,e,n,r,i,s)):!1}var LQ=MQ,jQ=LQ,d2=jp;function HA(t,e,n,r,i){return t===e?!0:t==null||e==null||!d2(t)&&!d2(e)?t!==t&&e!==e:jQ(t,e,n,r,HA,i)}var VQ=HA,FQ=VQ;function UQ(t,e){return FQ(t,e)}var $Q=UQ,YA={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Pn,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:a})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),o=i(18),a=i(19),l=i(45),c=i(46),f=i(47),h=i(48),d=i(49),p=i(12),w=i(32),E=i(33),_=i(31),g=i(1),m={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:s.default,Format:o.default,Leaf:a.default,Embed:h.default,Scroll:l.default,Block:f.default,Inline:c.default,Text:d.default,Attributor:{Attribute:p.default,Class:w.default,Style:E.default,Store:_.default}};r.default=m},function(n,r,i){var s=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var T in m)m.hasOwnProperty(T)&&(g[T]=m[T])};return function(g,m){_(g,m);function T(){this.constructor=g}g.prototype=m===null?Object.create(m):(T.prototype=m.prototype,new T)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(_){s(g,_);function g(m){var T=this;return m="[Parchment] "+m,T=_.call(this,m)||this,T.message=m,T.name=T.constructor.name,T}return g}(Error);r.ParchmentError=o;var a={},l={},c={},f={};r.DATA_KEY="__blot";var h;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(h=r.Scope||(r.Scope={}));function d(_,g){var m=w(_);if(m==null)throw new o("Unable to create "+_+" blot");var T=m,v=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:T.create(g);return new T(v,g)}r.create=d;function p(_,g){return g===void 0&&(g=!1),_==null?null:_[r.DATA_KEY]!=null?_[r.DATA_KEY].blot:g?p(_.parentNode,g):null}r.find=p;function w(_,g){g===void 0&&(g=h.ANY);var m;if(typeof _=="string")m=f[_]||a[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)m=f.text;else if(typeof _=="number")_&h.LEVEL&h.BLOCK?m=f.block:_&h.LEVEL&h.INLINE&&(m=f.inline);else if(_ instanceof HTMLElement){var T=(_.getAttribute("class")||"").split(/\s+/);for(var v in T)if(m=l[T[v]],m)break;m=m||c[_.tagName]}return m==null?null:g&h.LEVEL&m.scope&&g&h.TYPE&m.scope?m:null}r.query=w;function E(){for(var _=[],g=0;g<arguments.length;g++)_[g]=arguments[g];if(_.length>1)return _.map(function(v){return E(v)});var m=_[0];if(typeof m.blotName!="string"&&typeof m.attrName!="string")throw new o("Invalid definition");if(m.blotName==="abstract")throw new o("Cannot register abstract class");if(f[m.blotName||m.attrName]=m,typeof m.keyName=="string")a[m.keyName]=m;else if(m.className!=null&&(l[m.className]=m),m.tagName!=null){Array.isArray(m.tagName)?m.tagName=m.tagName.map(function(v){return v.toUpperCase()}):m.tagName=m.tagName.toUpperCase();var T=Array.isArray(m.tagName)?m.tagName:[m.tagName];T.forEach(function(v){(c[v]==null||m.className==null)&&(c[v]=m)})}return m}r.register=E},function(n,r,i){var s=i(51),o=i(11),a=i(3),l=i(20),c=String.fromCharCode(0),f=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};f.prototype.insert=function(h,d){var p={};return h.length===0?this:(p.insert=h,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p))},f.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},f.prototype.retain=function(h,d){if(h<=0)return this;var p={retain:h};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p)},f.prototype.push=function(h){var d=this.ops.length,p=this.ops[d-1];if(h=a(!0,{},h),typeof p=="object"){if(typeof h.delete=="number"&&typeof p.delete=="number")return this.ops[d-1]={delete:p.delete+h.delete},this;if(typeof p.delete=="number"&&h.insert!=null&&(d-=1,p=this.ops[d-1],typeof p!="object"))return this.ops.unshift(h),this;if(o(h.attributes,p.attributes)){if(typeof h.insert=="string"&&typeof p.insert=="string")return this.ops[d-1]={insert:p.insert+h.insert},typeof h.attributes=="object"&&(this.ops[d-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof p.retain=="number")return this.ops[d-1]={retain:p.retain+h.retain},typeof h.attributes=="object"&&(this.ops[d-1].attributes=h.attributes),this}}return d===this.ops.length?this.ops.push(h):this.ops.splice(d,0,h),this},f.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},f.prototype.filter=function(h){return this.ops.filter(h)},f.prototype.forEach=function(h){this.ops.forEach(h)},f.prototype.map=function(h){return this.ops.map(h)},f.prototype.partition=function(h){var d=[],p=[];return this.forEach(function(w){var E=h(w)?d:p;E.push(w)}),[d,p]},f.prototype.reduce=function(h,d){return this.ops.reduce(h,d)},f.prototype.changeLength=function(){return this.reduce(function(h,d){return d.insert?h+l.length(d):d.delete?h-d.delete:h},0)},f.prototype.length=function(){return this.reduce(function(h,d){return h+l.length(d)},0)},f.prototype.slice=function(h,d){h=h||0,typeof d!="number"&&(d=1/0);for(var p=[],w=l.iterator(this.ops),E=0;E<d&&w.hasNext();){var _;E<h?_=w.next(h-E):(_=w.next(d-E),p.push(_)),E+=l.length(_)}return new f(p)},f.prototype.compose=function(h){var d=l.iterator(this.ops),p=l.iterator(h.ops),w=[],E=p.peek();if(E!=null&&typeof E.retain=="number"&&E.attributes==null){for(var _=E.retain;d.peekType()==="insert"&&d.peekLength()<=_;)_-=d.peekLength(),w.push(d.next());E.retain-_>0&&p.next(E.retain-_)}for(var g=new f(w);d.hasNext()||p.hasNext();)if(p.peekType()==="insert")g.push(p.next());else if(d.peekType()==="delete")g.push(d.next());else{var m=Math.min(d.peekLength(),p.peekLength()),T=d.next(m),v=p.next(m);if(typeof v.retain=="number"){var S={};typeof T.retain=="number"?S.retain=m:S.insert=T.insert;var P=l.attributes.compose(T.attributes,v.attributes,typeof T.retain=="number");if(P&&(S.attributes=P),g.push(S),!p.hasNext()&&o(g.ops[g.ops.length-1],S)){var I=new f(d.rest());return g.concat(I).chop()}}else typeof v.delete=="number"&&typeof T.retain=="number"&&g.push(v)}return g.chop()},f.prototype.concat=function(h){var d=new f(this.ops.slice());return h.ops.length>0&&(d.push(h.ops[0]),d.ops=d.ops.concat(h.ops.slice(1))),d},f.prototype.diff=function(h,d){if(this.ops===h.ops)return new f;var p=[this,h].map(function(m){return m.map(function(T){if(T.insert!=null)return typeof T.insert=="string"?T.insert:c;var v=m===h?"on":"with";throw new Error("diff() called "+v+" non-document")}).join("")}),w=new f,E=s(p[0],p[1],d),_=l.iterator(this.ops),g=l.iterator(h.ops);return E.forEach(function(m){for(var T=m[1].length;T>0;){var v=0;switch(m[0]){case s.INSERT:v=Math.min(g.peekLength(),T),w.push(g.next(v));break;case s.DELETE:v=Math.min(T,_.peekLength()),_.next(v),w.delete(v);break;case s.EQUAL:v=Math.min(_.peekLength(),g.peekLength(),T);var S=_.next(v),P=g.next(v);o(S.insert,P.insert)?w.retain(v,l.attributes.diff(S.attributes,P.attributes)):w.push(P).delete(v);break}T-=v}}),w.chop()},f.prototype.eachLine=function(h,d){d=d||`
`;for(var p=l.iterator(this.ops),w=new f,E=0;p.hasNext();){if(p.peekType()!=="insert")return;var _=p.peek(),g=l.length(_)-p.peekLength(),m=typeof _.insert=="string"?_.insert.indexOf(d,g)-g:-1;if(m<0)w.push(p.next());else if(m>0)w.push(p.next(m));else{if(h(w,p.next(1).attributes||{},E)===!1)return;E+=1,w=new f}}w.length()>0&&h(w,{},E)},f.prototype.transform=function(h,d){if(d=!!d,typeof h=="number")return this.transformPosition(h,d);for(var p=l.iterator(this.ops),w=l.iterator(h.ops),E=new f;p.hasNext()||w.hasNext();)if(p.peekType()==="insert"&&(d||w.peekType()!=="insert"))E.retain(l.length(p.next()));else if(w.peekType()==="insert")E.push(w.next());else{var _=Math.min(p.peekLength(),w.peekLength()),g=p.next(_),m=w.next(_);if(g.delete)continue;m.delete?E.push(m):E.retain(_,l.attributes.transform(g.attributes,m.attributes,d))}return E.chop()},f.prototype.transformPosition=function(h,d){d=!!d;for(var p=l.iterator(this.ops),w=0;p.hasNext()&&w<=h;){var E=p.peekLength(),_=p.peekType();if(p.next(),_==="delete"){h-=Math.min(E,h-w);continue}else _==="insert"&&(w<h||!d)&&(h+=E);w+=E}return h},n.exports=f},function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):s.call(p)==="[object Array]"},c=function(p){if(!p||s.call(p)!=="[object Object]")return!1;var w=i.call(p,"constructor"),E=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!w&&!E)return!1;var _;for(_ in p);return typeof _>"u"||i.call(p,_)},f=function(p,w){o&&w.name==="__proto__"?o(p,w.name,{enumerable:!0,configurable:!0,value:w.newValue,writable:!0}):p[w.name]=w.newValue},h=function(p,w){if(w==="__proto__")if(i.call(p,w)){if(a)return a(p,w).value}else return;return p[w]};n.exports=function d(){var p,w,E,_,g,m,T=arguments[0],v=1,S=arguments.length,P=!1;for(typeof T=="boolean"&&(P=T,T=arguments[1]||{},v=2),(T==null||typeof T!="object"&&typeof T!="function")&&(T={});v<S;++v)if(p=arguments[v],p!=null)for(w in p)E=h(T,w),_=h(p,w),T!==_&&(P&&_&&(c(_)||(g=l(_)))?(g?(g=!1,m=E&&l(E)?E:[]):m=E&&c(E)?E:{},f(T,{name:w,newValue:d(P,m,_)})):typeof _<"u"&&f(T,{name:w,newValue:_}));return T}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=function(){function A(C,M){for(var j=0;j<M.length;j++){var $=M[j];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(C,$.key,$)}}return function(C,M,j){return M&&A(C.prototype,M),j&&A(C,j),C}}(),o=function A(C,M,j){C===null&&(C=Function.prototype);var $=Object.getOwnPropertyDescriptor(C,M);if($===void 0){var H=Object.getPrototypeOf(C);return H===null?void 0:A(H,M,j)}else{if("value"in $)return $.value;var G=$.get;return G===void 0?void 0:G.call(j)}},a=i(3),l=T(a),c=i(2),f=T(c),h=i(0),d=T(h),p=i(16),w=T(p),E=i(6),_=T(E),g=i(7),m=T(g);function T(A){return A&&A.__esModule?A:{default:A}}function v(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function S(A,C){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:A}function P(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}var I=1,x=function(A){P(C,A);function C(){return v(this,C),S(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return s(C,[{key:"attach",value:function(){o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(j,$){var H=d.default.query(j,d.default.Scope.BLOCK_ATTRIBUTE);H!=null&&this.attributes.attribute(H,$)}},{key:"formatAt",value:function(j,$,H,G){this.format(H,G)}},{key:"insertAt",value:function(j,$,H){if(typeof $=="string"&&$.endsWith(`
`)){var G=d.default.create(N.blotName);this.parent.insertBefore(G,j===0?this:this.next),G.insertAt(0,$.slice(0,-1))}else o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertAt",this).call(this,j,$,H)}}]),C}(d.default.Embed);x.scope=d.default.Scope.BLOCK_BLOT;var N=function(A){P(C,A);function C(M){v(this,C);var j=S(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,M));return j.cache={},j}return s(C,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(j,$){return $.length()===0?j:j.insert($.value(),b($))},new f.default).insert(`
`,b(this))),this.cache.delta}},{key:"deleteAt",value:function(j,$){o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"deleteAt",this).call(this,j,$),this.cache={}}},{key:"formatAt",value:function(j,$,H,G){$<=0||(d.default.query(H,d.default.Scope.BLOCK)?j+$===this.length()&&this.format(H,G):o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"formatAt",this).call(this,j,Math.min($,this.length()-j-1),H,G),this.cache={})}},{key:"insertAt",value:function(j,$,H){if(H!=null)return o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertAt",this).call(this,j,$,H);if($.length!==0){var G=$.split(`
`),Q=G.shift();Q.length>0&&(j<this.length()-1||this.children.tail==null?o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertAt",this).call(this,Math.min(j,this.length()-1),Q):this.children.tail.insertAt(this.children.tail.length(),Q),this.cache={});var z=this;G.reduce(function(F,D){return z=z.split(F,!0),z.insertAt(0,D),D.length},j+Q.length)}}},{key:"insertBefore",value:function(j,$){var H=this.children.head;o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertBefore",this).call(this,j,$),H instanceof w.default&&H.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"length",this).call(this)+I),this.cache.length}},{key:"moveChildren",value:function(j,$){o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"moveChildren",this).call(this,j,$),this.cache={}}},{key:"optimize",value:function(j){o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,j),this.cache={}}},{key:"path",value:function(j){return o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"path",this).call(this,j,!0)}},{key:"removeChild",value:function(j){o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"removeChild",this).call(this,j),this.cache={}}},{key:"split",value:function(j){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if($&&(j===0||j>=this.length()-I)){var H=this.clone();return j===0?(this.parent.insertBefore(H,this),this):(this.parent.insertBefore(H,this.next),H)}else{var G=o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"split",this).call(this,j,$);return this.cache={},G}}}]),C}(d.default.Block);N.blotName="block",N.tagName="P",N.defaultChild="break",N.allowedChildren=[_.default,d.default.Embed,m.default];function b(A){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return A==null||(typeof A.formats=="function"&&(C=(0,l.default)(C,A.formats())),A.parent==null||A.parent.blotName=="scroll"||A.parent.statics.scope!==A.statics.scope)?C:b(A.parent,C)}r.bubbleFormats=b,r.BlockEmbed=x,r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},o=function(){function z(F,D){var V=[],B=!0,Z=!1,q=void 0;try{for(var U=F[Symbol.iterator](),Y;!(B=(Y=U.next()).done)&&(V.push(Y.value),!(D&&V.length===D));B=!0);}catch(X){Z=!0,q=X}finally{try{!B&&U.return&&U.return()}finally{if(Z)throw q}}return V}return function(F,D){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return z(F,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function z(F,D){for(var V=0;V<D.length;V++){var B=D[V];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(F,B.key,B)}}return function(F,D,V){return D&&z(F.prototype,D),V&&z(F,V),F}}();i(50);var l=i(2),c=b(l),f=i(14),h=b(f),d=i(8),p=b(d),w=i(9),E=b(w),_=i(0),g=b(_),m=i(15),T=b(m),v=i(3),S=b(v),P=i(10),I=b(P),x=i(34),N=b(x);function b(z){return z&&z.__esModule?z:{default:z}}function A(z,F,D){return F in z?Object.defineProperty(z,F,{value:D,enumerable:!0,configurable:!0,writable:!0}):z[F]=D,z}function C(z,F){if(!(z instanceof F))throw new TypeError("Cannot call a class as a function")}var M=(0,I.default)("quill"),j=function(){a(z,null,[{key:"debug",value:function(D){D===!0&&(D="log"),I.default.level(D)}},{key:"find",value:function(D){return D.__quill||g.default.find(D)}},{key:"import",value:function(D){return this.imports[D]==null&&M.error("Cannot import "+D+". Are you sure it was registered?"),this.imports[D]}},{key:"register",value:function(D,V){var B=this,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof D!="string"){var q=D.attrName||D.blotName;typeof q=="string"?this.register("formats/"+q,D,V):Object.keys(D).forEach(function(U){B.register(U,D[U],V)})}else this.imports[D]!=null&&!Z&&M.warn("Overwriting "+D+" with",V),this.imports[D]=V,(D.startsWith("blots/")||D.startsWith("formats/"))&&V.blotName!=="abstract"?g.default.register(V):D.startsWith("modules")&&typeof V.register=="function"&&V.register()}}]);function z(F){var D=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(C(this,z),this.options=$(F,V),this.container=this.options.container,this.container==null)return M.error("Invalid Quill container",F);this.options.debug&&z.debug(this.options.debug);var B=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new T.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(q){q===p.default.events.TEXT_CHANGE&&D.root.classList.toggle("ql-blank",D.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(q,U){var Y=D.selection.lastRange,X=Y&&Y.length===0?Y.index:void 0;H.call(D,function(){return D.editor.update(null,U,X)},q)});var Z=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+B+"<p><br></p></div>");this.setContents(Z),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(z,[{key:"addContainer",value:function(D){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof D=="string"){var B=D;D=document.createElement("div"),D.classList.add(B)}return this.container.insertBefore(D,V),D}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(D,V,B){var Z=this,q=G(D,V,B),U=o(q,4);return D=U[0],V=U[1],B=U[3],H.call(this,function(){return Z.editor.deleteText(D,V)},B,D,-1*V)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(D),this.container.classList.toggle("ql-disabled",!D)}},{key:"focus",value:function(){var D=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=D,this.scrollIntoView()}},{key:"format",value:function(D,V){var B=this,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return H.call(this,function(){var q=B.getSelection(!0),U=new c.default;if(q==null)return U;if(g.default.query(D,g.default.Scope.BLOCK))U=B.editor.formatLine(q.index,q.length,A({},D,V));else{if(q.length===0)return B.selection.format(D,V),U;U=B.editor.formatText(q.index,q.length,A({},D,V))}return B.setSelection(q,p.default.sources.SILENT),U},Z)}},{key:"formatLine",value:function(D,V,B,Z,q){var U=this,Y=void 0,X=G(D,V,B,Z,q),J=o(X,4);return D=J[0],V=J[1],Y=J[2],q=J[3],H.call(this,function(){return U.editor.formatLine(D,V,Y)},q,D,0)}},{key:"formatText",value:function(D,V,B,Z,q){var U=this,Y=void 0,X=G(D,V,B,Z,q),J=o(X,4);return D=J[0],V=J[1],Y=J[2],q=J[3],H.call(this,function(){return U.editor.formatText(D,V,Y)},q,D,0)}},{key:"getBounds",value:function(D){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=void 0;typeof D=="number"?B=this.selection.getBounds(D,V):B=this.selection.getBounds(D.index,D.length);var Z=this.container.getBoundingClientRect();return{bottom:B.bottom-Z.top,height:B.height,left:B.left-Z.left,right:B.right-Z.left,top:B.top-Z.top,width:B.width}}},{key:"getContents",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-D,B=G(D,V),Z=o(B,2);return D=Z[0],V=Z[1],this.editor.getContents(D,V)}},{key:"getFormat",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof D=="number"?this.editor.getFormat(D,V):this.editor.getFormat(D.index,D.length)}},{key:"getIndex",value:function(D){return D.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(D){return this.scroll.leaf(D)}},{key:"getLine",value:function(D){return this.scroll.line(D)}},{key:"getLines",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof D!="number"?this.scroll.lines(D.index,D.length):this.scroll.lines(D,V)}},{key:"getModule",value:function(D){return this.theme.modules[D]}},{key:"getSelection",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return D&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-D,B=G(D,V),Z=o(B,2);return D=Z[0],V=Z[1],this.editor.getText(D,V)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(D,V,B){var Z=this,q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:z.sources.API;return H.call(this,function(){return Z.editor.insertEmbed(D,V,B)},q,D)}},{key:"insertText",value:function(D,V,B,Z,q){var U=this,Y=void 0,X=G(D,0,B,Z,q),J=o(X,4);return D=J[0],Y=J[2],q=J[3],H.call(this,function(){return U.editor.insertText(D,V,Y)},q,D,V.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(D,V,B){this.clipboard.dangerouslyPasteHTML(D,V,B)}},{key:"removeFormat",value:function(D,V,B){var Z=this,q=G(D,V,B),U=o(q,4);return D=U[0],V=U[1],B=U[3],H.call(this,function(){return Z.editor.removeFormat(D,V)},B,D)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(D){var V=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return H.call(this,function(){D=new c.default(D);var Z=V.getLength(),q=V.editor.deleteText(0,Z),U=V.editor.applyDelta(D),Y=U.ops[U.ops.length-1];Y!=null&&typeof Y.insert=="string"&&Y.insert[Y.insert.length-1]===`
`&&(V.editor.deleteText(V.getLength()-1,1),U.delete(1));var X=q.compose(U);return X},B)}},{key:"setSelection",value:function(D,V,B){if(D==null)this.selection.setRange(null,V||z.sources.API);else{var Z=G(D,V,B),q=o(Z,4);D=q[0],V=q[1],B=q[3],this.selection.setRange(new m.Range(D,V),B),B!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(D){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,B=new c.default().insert(D);return this.setContents(B,V)}},{key:"update",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,V=this.scroll.update(D);return this.selection.update(D),V}},{key:"updateContents",value:function(D){var V=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return H.call(this,function(){return D=new c.default(D),V.editor.applyDelta(D,B)},B,!0)}}]),z}();j.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},j.events=p.default.events,j.sources=p.default.sources,j.version="1.3.7",j.imports={delta:c.default,parchment:g.default,"core/module":E.default,"core/theme":N.default};function $(z,F){if(F=(0,S.default)(!0,{container:z,modules:{clipboard:!0,keyboard:!0,history:!0}},F),!F.theme||F.theme===j.DEFAULTS.theme)F.theme=N.default;else if(F.theme=j.import("themes/"+F.theme),F.theme==null)throw new Error("Invalid theme "+F.theme+". Did you register it?");var D=(0,S.default)(!0,{},F.theme.DEFAULTS);[D,F].forEach(function(Z){Z.modules=Z.modules||{},Object.keys(Z.modules).forEach(function(q){Z.modules[q]===!0&&(Z.modules[q]={})})});var V=Object.keys(D.modules).concat(Object.keys(F.modules)),B=V.reduce(function(Z,q){var U=j.import("modules/"+q);return U==null?M.error("Cannot load "+q+" module. Are you sure you registered it?"):Z[q]=U.DEFAULTS||{},Z},{});return F.modules!=null&&F.modules.toolbar&&F.modules.toolbar.constructor!==Object&&(F.modules.toolbar={container:F.modules.toolbar}),F=(0,S.default)(!0,{},j.DEFAULTS,{modules:B},D,F),["bounds","container","scrollingContainer"].forEach(function(Z){typeof F[Z]=="string"&&(F[Z]=document.querySelector(F[Z]))}),F.modules=Object.keys(F.modules).reduce(function(Z,q){return F.modules[q]&&(Z[q]=F.modules[q]),Z},{}),F}function H(z,F,D,V){if(this.options.strict&&!this.isEnabled()&&F===p.default.sources.USER)return new c.default;var B=D==null?null:this.getSelection(),Z=this.editor.delta,q=z();if(B!=null&&(D===!0&&(D=B.index),V==null?B=Q(B,q,F):V!==0&&(B=Q(B,D,V,F)),this.setSelection(B,p.default.sources.SILENT)),q.length()>0){var U,Y=[p.default.events.TEXT_CHANGE,q,Z,F];if((U=this.emitter).emit.apply(U,[p.default.events.EDITOR_CHANGE].concat(Y)),F!==p.default.sources.SILENT){var X;(X=this.emitter).emit.apply(X,Y)}}return q}function G(z,F,D,V,B){var Z={};return typeof z.index=="number"&&typeof z.length=="number"?typeof F!="number"?(B=V,V=D,D=F,F=z.length,z=z.index):(F=z.length,z=z.index):typeof F!="number"&&(B=V,V=D,D=F,F=0),(typeof D>"u"?"undefined":s(D))==="object"?(Z=D,B=V):typeof D=="string"&&(V!=null?Z[D]=V:B=D),B=B||p.default.sources.API,[z,F,Z,B]}function Q(z,F,D,V){if(z==null)return null;var B=void 0,Z=void 0;if(F instanceof c.default){var q=[z.index,z.index+z.length].map(function(J){return F.transformPosition(J,V!==p.default.sources.USER)}),U=o(q,2);B=U[0],Z=U[1]}else{var Y=[z.index,z.index+z.length].map(function(J){return J<F||J===F&&V===p.default.sources.USER?J:D>=0?J+D:Math.max(F,J+D)}),X=o(Y,2);B=X[0],Z=X[1]}return new m.Range(B,Z-B)}r.expandConfig=$,r.overload=G,r.default=j},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function _(g,m){for(var T=0;T<m.length;T++){var v=m[T];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,m,T){return m&&_(g.prototype,m),T&&_(g,T),g}}(),o=function _(g,m,T){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,m);if(v===void 0){var S=Object.getPrototypeOf(g);return S===null?void 0:_(S,m,T)}else{if("value"in v)return v.value;var P=v.get;return P===void 0?void 0:P.call(T)}},a=i(7),l=h(a),c=i(0),f=h(c);function h(_){return _&&_.__esModule?_:{default:_}}function d(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function p(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function w(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var E=function(_){w(g,_);function g(){return d(this,g),p(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"formatAt",value:function(T,v,S,P){if(g.compare(this.statics.blotName,S)<0&&f.default.query(S,f.default.Scope.BLOT)){var I=this.isolate(T,v);P&&I.wrap(S,P)}else o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,T,v,S,P)}},{key:"optimize",value:function(T){if(o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,T),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var v=this.parent.isolate(this.offset(),this.length());this.moveChildren(v),v.wrap(this)}}}],[{key:"compare",value:function(T,v){var S=g.order.indexOf(T),P=g.order.indexOf(v);return S>=0||P>=0?S-P:T===v?0:T<v?-1:1}}]),g}(f.default.Inline);E.allowedChildren=[E,f.default.Embed,l.default],E.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function c(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function f(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var h=function(d){f(p,d);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Text);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function m(T,v){for(var S=0;S<v.length;S++){var P=v[S];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(T,P.key,P)}}return function(T,v,S){return v&&m(T.prototype,v),S&&m(T,S),T}}(),o=function m(T,v,S){T===null&&(T=Function.prototype);var P=Object.getOwnPropertyDescriptor(T,v);if(P===void 0){var I=Object.getPrototypeOf(T);return I===null?void 0:m(I,v,S)}else{if("value"in P)return P.value;var x=P.get;return x===void 0?void 0:x.call(S)}},a=i(54),l=h(a),c=i(10),f=h(c);function h(m){return m&&m.__esModule?m:{default:m}}function d(m,T){if(!(m instanceof T))throw new TypeError("Cannot call a class as a function")}function p(m,T){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:m}function w(m,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);m.prototype=Object.create(T&&T.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(m,T):m.__proto__=T)}var E=(0,f.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(m){document.addEventListener(m,function(){for(var T=arguments.length,v=Array(T),S=0;S<T;S++)v[S]=arguments[S];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(P){if(P.__quill&&P.__quill.emitter){var I;(I=P.__quill.emitter).handleDOM.apply(I,v)}})})});var g=function(m){w(T,m);function T(){d(this,T);var v=p(this,(T.__proto__||Object.getPrototypeOf(T)).call(this));return v.listeners={},v.on("error",E.error),v}return s(T,[{key:"emit",value:function(){E.log.apply(E,arguments),o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(S){for(var P=arguments.length,I=Array(P>1?P-1:0),x=1;x<P;x++)I[x-1]=arguments[x];(this.listeners[S.type]||[]).forEach(function(N){var b=N.node,A=N.handler;(S.target===b||b.contains(S.target))&&A.apply(void 0,[S].concat(I))})}},{key:"listenDOM",value:function(S,P,I){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push({node:P,handler:I})}}]),T}(l.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function a(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,a),this.quill=l,this.options=c};o.DEFAULTS={},r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function a(c){if(s.indexOf(c)<=s.indexOf(o)){for(var f,h=arguments.length,d=Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];(f=console)[c].apply(f,d)}}function l(c){return s.reduce(function(f,h){return f[h]=a.bind(console,h,c),f},{})}a.level=l.level=function(c){o=c},r.default=l},function(n,r,i){var s=Array.prototype.slice,o=i(52),a=i(53),l=n.exports=function(d,p,w){return w||(w={}),d===p?!0:d instanceof Date&&p instanceof Date?d.getTime()===p.getTime():!d||!p||typeof d!="object"&&typeof p!="object"?w.strict?d===p:d==p:h(d,p,w)};function c(d){return d==null}function f(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function h(d,p,w){var E,_;if(c(d)||c(p)||d.prototype!==p.prototype)return!1;if(a(d))return a(p)?(d=s.call(d),p=s.call(p),l(d,p,w)):!1;if(f(d)){if(!f(p)||d.length!==p.length)return!1;for(E=0;E<d.length;E++)if(d[E]!==p[E])return!1;return!0}try{var g=o(d),m=o(p)}catch{return!1}if(g.length!=m.length)return!1;for(g.sort(),m.sort(),E=g.length-1;E>=0;E--)if(g[E]!=m[E])return!1;for(E=g.length-1;E>=0;E--)if(_=g[E],!l(d[_],p[_],w))return!1;return typeof d==typeof p}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l,c,f){f===void 0&&(f={}),this.attrName=l,this.keyName=c;var h=s.Scope.TYPE&s.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&s.Scope.LEVEL|h:this.scope=s.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(c){return c.name})},a.prototype.add=function(l,c){return this.canAdd(l,c)?(l.setAttribute(this.keyName,c),!0):!1},a.prototype.canAdd=function(l,c){var f=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var c=l.getAttribute(this.keyName);return this.canAdd(l,c)&&c?c:""},a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=function(){function x(N,b){var A=[],C=!0,M=!1,j=void 0;try{for(var $=N[Symbol.iterator](),H;!(C=(H=$.next()).done)&&(A.push(H.value),!(b&&A.length===b));C=!0);}catch(G){M=!0,j=G}finally{try{!C&&$.return&&$.return()}finally{if(M)throw j}}return A}return function(N,b){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return x(N,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function x(N,b){for(var A=0;A<b.length;A++){var C=b[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(N,C.key,C)}}return function(N,b,A){return b&&x(N.prototype,b),A&&x(N,A),N}}(),a=function x(N,b,A){N===null&&(N=Function.prototype);var C=Object.getOwnPropertyDescriptor(N,b);if(C===void 0){var M=Object.getPrototypeOf(N);return M===null?void 0:x(M,b,A)}else{if("value"in C)return C.value;var j=C.get;return j===void 0?void 0:j.call(A)}},l=i(2),c=m(l),f=i(0),h=m(f),d=i(4),p=m(d),w=i(6),E=m(w),_=i(7),g=m(_);function m(x){return x&&x.__esModule?x:{default:x}}function T(x,N){if(!(x instanceof N))throw new TypeError("Cannot call a class as a function")}function v(x,N){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:x}function S(x,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);x.prototype=Object.create(N&&N.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(x,N):x.__proto__=N)}var P=function(x){S(N,x);function N(){return T(this,N),v(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return N}(E.default);P.blotName="code",P.tagName="CODE";var I=function(x){S(N,x);function N(){return T(this,N),v(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return o(N,[{key:"delta",value:function(){var A=this,C=this.domNode.textContent;return C.endsWith(`
`)&&(C=C.slice(0,-1)),C.split(`
`).reduce(function(M,j){return M.insert(j).insert(`
`,A.formats())},new c.default)}},{key:"format",value:function(A,C){if(!(A===this.statics.blotName&&C)){var M=this.descendant(g.default,this.length()-1),j=s(M,1),$=j[0];$!=null&&$.deleteAt($.length()-1,1),a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,A,C)}}},{key:"formatAt",value:function(A,C,M,j){if(C!==0&&!(h.default.query(M,h.default.Scope.BLOCK)==null||M===this.statics.blotName&&j===this.statics.formats(this.domNode))){var $=this.newlineIndex(A);if(!($<0||$>=A+C)){var H=this.newlineIndex(A,!0)+1,G=$-H+1,Q=this.isolate(H,G),z=Q.next;Q.format(M,j),z instanceof N&&z.formatAt(0,A-H+C-G,M,j)}}}},{key:"insertAt",value:function(A,C,M){if(M==null){var j=this.descendant(g.default,A),$=s(j,2),H=$[0],G=$[1];H.insertAt(G,C)}}},{key:"length",value:function(){var A=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?A:A+1}},{key:"newlineIndex",value:function(A){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(C)return this.domNode.textContent.slice(0,A).lastIndexOf(`
`);var M=this.domNode.textContent.slice(A).indexOf(`
`);return M>-1?A+M:-1}},{key:"optimize",value:function(A){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,A);var C=this.next;C!=null&&C.prev===this&&C.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===C.statics.formats(C.domNode)&&(C.optimize(A),C.moveChildren(this),C.remove())}},{key:"replace",value:function(A){a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,A),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(C){var M=h.default.find(C);M==null?C.parentNode.removeChild(C):M instanceof h.default.Embed?M.remove():M.unwrap()})}}],[{key:"create",value:function(A){var C=a(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,A);return C.setAttribute("spellcheck",!1),C}},{key:"formats",value:function(){return!0}}]),N}(p.default);I.blotName="code-block",I.tagName="PRE",I.TAB="  ",r.Code=P,r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},o=function(){function z(F,D){var V=[],B=!0,Z=!1,q=void 0;try{for(var U=F[Symbol.iterator](),Y;!(B=(Y=U.next()).done)&&(V.push(Y.value),!(D&&V.length===D));B=!0);}catch(X){Z=!0,q=X}finally{try{!B&&U.return&&U.return()}finally{if(Z)throw q}}return V}return function(F,D){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return z(F,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function z(F,D){for(var V=0;V<D.length;V++){var B=D[V];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(F,B.key,B)}}return function(F,D,V){return D&&z(F.prototype,D),V&&z(F,V),F}}(),l=i(2),c=C(l),f=i(20),h=C(f),d=i(0),p=C(d),w=i(13),E=C(w),_=i(24),g=C(_),m=i(4),T=C(m),v=i(16),S=C(v),P=i(21),I=C(P),x=i(11),N=C(x),b=i(3),A=C(b);function C(z){return z&&z.__esModule?z:{default:z}}function M(z,F,D){return F in z?Object.defineProperty(z,F,{value:D,enumerable:!0,configurable:!0,writable:!0}):z[F]=D,z}function j(z,F){if(!(z instanceof F))throw new TypeError("Cannot call a class as a function")}var $=/^[ -~]*$/,H=function(){function z(F){j(this,z),this.scroll=F,this.delta=this.getDelta()}return a(z,[{key:"applyDelta",value:function(D){var V=this,B=!1;this.scroll.update();var Z=this.scroll.length();return this.scroll.batchStart(),D=Q(D),D.reduce(function(q,U){var Y=U.retain||U.delete||U.insert.length||1,X=U.attributes||{};if(U.insert!=null){if(typeof U.insert=="string"){var J=U.insert;J.endsWith(`
`)&&B&&(B=!1,J=J.slice(0,-1)),q>=Z&&!J.endsWith(`
`)&&(B=!0),V.scroll.insertAt(q,J);var se=V.scroll.line(q),pe=o(se,2),be=pe[0],Ae=pe[1],Ve=(0,A.default)({},(0,m.bubbleFormats)(be));if(be instanceof T.default){var Ze=be.descendant(p.default.Leaf,Ae),un=o(Ze,1),Dt=un[0];Ve=(0,A.default)(Ve,(0,m.bubbleFormats)(Dt))}X=h.default.attributes.diff(Ve,X)||{}}else if(s(U.insert)==="object"){var te=Object.keys(U.insert)[0];if(te==null)return q;V.scroll.insertAt(q,te,U.insert[te])}Z+=Y}return Object.keys(X).forEach(function(ne){V.scroll.formatAt(q,Y,ne,X[ne])}),q+Y},0),D.reduce(function(q,U){return typeof U.delete=="number"?(V.scroll.deleteAt(q,U.delete),q):q+(U.retain||U.insert.length||1)},0),this.scroll.batchEnd(),this.update(D)}},{key:"deleteText",value:function(D,V){return this.scroll.deleteAt(D,V),this.update(new c.default().retain(D).delete(V))}},{key:"formatLine",value:function(D,V){var B=this,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Z).forEach(function(q){if(!(B.scroll.whitelist!=null&&!B.scroll.whitelist[q])){var U=B.scroll.lines(D,Math.max(V,1)),Y=V;U.forEach(function(X){var J=X.length();if(!(X instanceof E.default))X.format(q,Z[q]);else{var se=D-X.offset(B.scroll),pe=X.newlineIndex(se+Y)-se+1;X.formatAt(se,pe,q,Z[q])}Y-=J})}}),this.scroll.optimize(),this.update(new c.default().retain(D).retain(V,(0,I.default)(Z)))}},{key:"formatText",value:function(D,V){var B=this,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Z).forEach(function(q){B.scroll.formatAt(D,V,q,Z[q])}),this.update(new c.default().retain(D).retain(V,(0,I.default)(Z)))}},{key:"getContents",value:function(D,V){return this.delta.slice(D,D+V)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(D,V){return D.concat(V.delta())},new c.default)}},{key:"getFormat",value:function(D){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=[],Z=[];V===0?this.scroll.path(D).forEach(function(U){var Y=o(U,1),X=Y[0];X instanceof T.default?B.push(X):X instanceof p.default.Leaf&&Z.push(X)}):(B=this.scroll.lines(D,V),Z=this.scroll.descendants(p.default.Leaf,D,V));var q=[B,Z].map(function(U){if(U.length===0)return{};for(var Y=(0,m.bubbleFormats)(U.shift());Object.keys(Y).length>0;){var X=U.shift();if(X==null)return Y;Y=G((0,m.bubbleFormats)(X),Y)}return Y});return A.default.apply(A.default,q)}},{key:"getText",value:function(D,V){return this.getContents(D,V).filter(function(B){return typeof B.insert=="string"}).map(function(B){return B.insert}).join("")}},{key:"insertEmbed",value:function(D,V,B){return this.scroll.insertAt(D,V,B),this.update(new c.default().retain(D).insert(M({},V,B)))}},{key:"insertText",value:function(D,V){var B=this,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return V=V.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(D,V),Object.keys(Z).forEach(function(q){B.scroll.formatAt(D,V.length,q,Z[q])}),this.update(new c.default().retain(D).insert(V,(0,I.default)(Z)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var D=this.scroll.children.head;return D.statics.blotName!==T.default.blotName||D.children.length>1?!1:D.children.head instanceof S.default}},{key:"removeFormat",value:function(D,V){var B=this.getText(D,V),Z=this.scroll.line(D+V),q=o(Z,2),U=q[0],Y=q[1],X=0,J=new c.default;U!=null&&(U instanceof E.default?X=U.newlineIndex(Y)-Y+1:X=U.length()-Y,J=U.delta().slice(Y,Y+X-1).insert(`
`));var se=this.getContents(D,V+X),pe=se.diff(new c.default().insert(B).concat(J)),be=new c.default().retain(D).concat(pe);return this.applyDelta(be)}},{key:"update",value:function(D){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Z=this.delta;if(V.length===1&&V[0].type==="characterData"&&V[0].target.data.match($)&&p.default.find(V[0].target)){var q=p.default.find(V[0].target),U=(0,m.bubbleFormats)(q),Y=q.offset(this.scroll),X=V[0].oldValue.replace(g.default.CONTENTS,""),J=new c.default().insert(X),se=new c.default().insert(q.value()),pe=new c.default().retain(Y).concat(J.diff(se,B));D=pe.reduce(function(be,Ae){return Ae.insert?be.insert(Ae.insert,U):be.push(Ae)},new c.default),this.delta=Z.compose(D)}else this.delta=this.getDelta(),(!D||!(0,N.default)(Z.compose(D),this.delta))&&(D=Z.diff(this.delta,B));return D}}]),z}();function G(z,F){return Object.keys(F).reduce(function(D,V){return z[V]==null||(F[V]===z[V]?D[V]=F[V]:Array.isArray(F[V])?F[V].indexOf(z[V])<0&&(D[V]=F[V].concat([z[V]])):D[V]=[F[V],z[V]]),D},{})}function Q(z){return z.reduce(function(F,D){if(D.insert===1){var V=(0,I.default)(D.attributes);return delete V.image,F.insert({image:D.attributes.image},V)}if(D.attributes!=null&&(D.attributes.list===!0||D.attributes.bullet===!0)&&(D=(0,I.default)(D),D.attributes.list?D.attributes.list="ordered":(D.attributes.list="bullet",delete D.attributes.bullet)),typeof D.insert=="string"){var B=D.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return F.insert(B,D.attributes)}return F.push(D)},new c.default)}r.default=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=function(){function x(N,b){var A=[],C=!0,M=!1,j=void 0;try{for(var $=N[Symbol.iterator](),H;!(C=(H=$.next()).done)&&(A.push(H.value),!(b&&A.length===b));C=!0);}catch(G){M=!0,j=G}finally{try{!C&&$.return&&$.return()}finally{if(M)throw j}}return A}return function(N,b){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return x(N,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function x(N,b){for(var A=0;A<b.length;A++){var C=b[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(N,C.key,C)}}return function(N,b,A){return b&&x(N.prototype,b),A&&x(N,A),N}}(),a=i(0),l=g(a),c=i(21),f=g(c),h=i(11),d=g(h),p=i(8),w=g(p),E=i(10),_=g(E);function g(x){return x&&x.__esModule?x:{default:x}}function m(x){if(Array.isArray(x)){for(var N=0,b=Array(x.length);N<x.length;N++)b[N]=x[N];return b}else return Array.from(x)}function T(x,N){if(!(x instanceof N))throw new TypeError("Cannot call a class as a function")}var v=(0,_.default)("quill:selection"),S=function x(N){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;T(this,x),this.index=N,this.length=b},P=function(){function x(N,b){var A=this;T(this,x),this.emitter=b,this.scroll=N,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){A.mouseDown||setTimeout(A.update.bind(A,w.default.sources.USER),1)}),this.emitter.on(w.default.events.EDITOR_CHANGE,function(C,M){C===w.default.events.TEXT_CHANGE&&M.length()>0&&A.update(w.default.sources.SILENT)}),this.emitter.on(w.default.events.SCROLL_BEFORE_UPDATE,function(){if(A.hasFocus()){var C=A.getNativeRange();C!=null&&C.start.node!==A.cursor.textNode&&A.emitter.once(w.default.events.SCROLL_UPDATE,function(){try{A.setNativeRange(C.start.node,C.start.offset,C.end.node,C.end.offset)}catch{}})}}),this.emitter.on(w.default.events.SCROLL_OPTIMIZE,function(C,M){if(M.range){var j=M.range,$=j.startNode,H=j.startOffset,G=j.endNode,Q=j.endOffset;A.setNativeRange($,H,G,Q)}}),this.update(w.default.sources.SILENT)}return o(x,[{key:"handleComposition",value:function(){var b=this;this.root.addEventListener("compositionstart",function(){b.composing=!0}),this.root.addEventListener("compositionend",function(){if(b.composing=!1,b.cursor.parent){var A=b.cursor.restore();if(!A)return;setTimeout(function(){b.setNativeRange(A.startNode,A.startOffset,A.endNode,A.endOffset)},1)}})}},{key:"handleDragging",value:function(){var b=this;this.emitter.listenDOM("mousedown",document.body,function(){b.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){b.mouseDown=!1,b.update(w.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(b,A){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[b])){this.scroll.update();var C=this.getNativeRange();if(!(C==null||!C.native.collapsed||l.default.query(b,l.default.Scope.BLOCK))){if(C.start.node!==this.cursor.textNode){var M=l.default.find(C.start.node,!1);if(M==null)return;if(M instanceof l.default.Leaf){var j=M.split(C.start.offset);M.parent.insertBefore(this.cursor,j)}else M.insertBefore(this.cursor,C.start.node);this.cursor.attach()}this.cursor.format(b,A),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(b){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=this.scroll.length();b=Math.min(b,C-1),A=Math.min(b+A,C-1)-b;var M=void 0,j=this.scroll.leaf(b),$=s(j,2),H=$[0],G=$[1];if(H==null)return null;var Q=H.position(G,!0),z=s(Q,2);M=z[0],G=z[1];var F=document.createRange();if(A>0){F.setStart(M,G);var D=this.scroll.leaf(b+A),V=s(D,2);if(H=V[0],G=V[1],H==null)return null;var B=H.position(G,!0),Z=s(B,2);return M=Z[0],G=Z[1],F.setEnd(M,G),F.getBoundingClientRect()}else{var q="left",U=void 0;return M instanceof Text?(G<M.data.length?(F.setStart(M,G),F.setEnd(M,G+1)):(F.setStart(M,G-1),F.setEnd(M,G),q="right"),U=F.getBoundingClientRect()):(U=H.domNode.getBoundingClientRect(),G>0&&(q="right")),{bottom:U.top+U.height,height:U.height,left:U[q],right:U[q],top:U.top,width:0}}}},{key:"getNativeRange",value:function(){var b=document.getSelection();if(b==null||b.rangeCount<=0)return null;var A=b.getRangeAt(0);if(A==null)return null;var C=this.normalizeNative(A);return v.info("getNativeRange",C),C}},{key:"getRange",value:function(){var b=this.getNativeRange();if(b==null)return[null,null];var A=this.normalizedToRange(b);return[A,b]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(b){var A=this,C=[[b.start.node,b.start.offset]];b.native.collapsed||C.push([b.end.node,b.end.offset]);var M=C.map(function(H){var G=s(H,2),Q=G[0],z=G[1],F=l.default.find(Q,!0),D=F.offset(A.scroll);return z===0?D:F instanceof l.default.Container?D+F.length():D+F.index(Q,z)}),j=Math.min(Math.max.apply(Math,m(M)),this.scroll.length()-1),$=Math.min.apply(Math,[j].concat(m(M)));return new S($,j-$)}},{key:"normalizeNative",value:function(b){if(!I(this.root,b.startContainer)||!b.collapsed&&!I(this.root,b.endContainer))return null;var A={start:{node:b.startContainer,offset:b.startOffset},end:{node:b.endContainer,offset:b.endOffset},native:b};return[A.start,A.end].forEach(function(C){for(var M=C.node,j=C.offset;!(M instanceof Text)&&M.childNodes.length>0;)if(M.childNodes.length>j)M=M.childNodes[j],j=0;else if(M.childNodes.length===j)M=M.lastChild,j=M instanceof Text?M.data.length:M.childNodes.length+1;else break;C.node=M,C.offset=j}),A}},{key:"rangeToNative",value:function(b){var A=this,C=b.collapsed?[b.index]:[b.index,b.index+b.length],M=[],j=this.scroll.length();return C.forEach(function($,H){$=Math.min(j-1,$);var G=void 0,Q=A.scroll.leaf($),z=s(Q,2),F=z[0],D=z[1],V=F.position(D,H!==0),B=s(V,2);G=B[0],D=B[1],M.push(G,D)}),M.length<2&&(M=M.concat(M)),M}},{key:"scrollIntoView",value:function(b){var A=this.lastRange;if(A!=null){var C=this.getBounds(A.index,A.length);if(C!=null){var M=this.scroll.length()-1,j=this.scroll.line(Math.min(A.index,M)),$=s(j,1),H=$[0],G=H;if(A.length>0){var Q=this.scroll.line(Math.min(A.index+A.length,M)),z=s(Q,1);G=z[0]}if(!(H==null||G==null)){var F=b.getBoundingClientRect();C.top<F.top?b.scrollTop-=F.top-C.top:C.bottom>F.bottom&&(b.scrollTop+=C.bottom-F.bottom)}}}}},{key:"setNativeRange",value:function(b,A){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b,M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:A,j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(v.info("setNativeRange",b,A,C,M),!(b!=null&&(this.root.parentNode==null||b.parentNode==null||C.parentNode==null))){var $=document.getSelection();if($!=null)if(b!=null){this.hasFocus()||this.root.focus();var H=(this.getNativeRange()||{}).native;if(H==null||j||b!==H.startContainer||A!==H.startOffset||C!==H.endContainer||M!==H.endOffset){b.tagName=="BR"&&(A=[].indexOf.call(b.parentNode.childNodes,b),b=b.parentNode),C.tagName=="BR"&&(M=[].indexOf.call(C.parentNode.childNodes,C),C=C.parentNode);var G=document.createRange();G.setStart(b,A),G.setEnd(C,M),$.removeAllRanges(),$.addRange(G)}}else $.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(b){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.default.sources.API;if(typeof A=="string"&&(C=A,A=!1),v.info("setRange",b),b!=null){var M=this.rangeToNative(b);this.setNativeRange.apply(this,m(M).concat([A]))}else this.setNativeRange(null);this.update(C)}},{key:"update",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.default.sources.USER,A=this.lastRange,C=this.getRange(),M=s(C,2),j=M[0],$=M[1];if(this.lastRange=j,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(A,this.lastRange)){var H;!this.composing&&$!=null&&$.native.collapsed&&$.start.node!==this.cursor.textNode&&this.cursor.restore();var G=[w.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(A),b];if((H=this.emitter).emit.apply(H,[w.default.events.EDITOR_CHANGE].concat(G)),b!==w.default.sources.SILENT){var Q;(Q=this.emitter).emit.apply(Q,G)}}}}]),x}();function I(x,N){try{N.parentNode}catch{return!1}return N instanceof Text&&(N=N.parentNode),x.contains(N)}r.Range=S,r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(E,_){for(var g=0;g<_.length;g++){var m=_[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(E,m.key,m)}}return function(E,_,g){return _&&w(E.prototype,_),g&&w(E,g),E}}(),o=function w(E,_,g){E===null&&(E=Function.prototype);var m=Object.getOwnPropertyDescriptor(E,_);if(m===void 0){var T=Object.getPrototypeOf(E);return T===null?void 0:w(T,_,g)}else{if("value"in m)return m.value;var v=m.get;return v===void 0?void 0:v.call(g)}},a=i(0),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function h(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function d(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var p=function(w){d(E,w);function E(){return f(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return s(E,[{key:"insertInto",value:function(g,m){g.children.length===0?o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertInto",this).call(this,g,m):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),E}(l.default.Embed);p.blotName="break",p.tagName="BR",r.default=p},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var w in p)p.hasOwnProperty(w)&&(d[w]=p[w])};return function(d,p){h(d,p);function w(){this.constructor=d}d.prototype=p===null?Object.create(p):(w.prototype=p.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(44),a=i(30),l=i(1),c=function(h){s(d,h);function d(p){var w=h.call(this,p)||this;return w.build(),w}return d.prototype.appendChild=function(p){this.insertBefore(p)},d.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},d.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(w){try{var E=f(w);p.insertBefore(E,p.children.head||void 0)}catch(_){if(_ instanceof l.ParchmentError)return;throw _}})},d.prototype.deleteAt=function(p,w){if(p===0&&w===this.length())return this.remove();this.children.forEachAt(p,w,function(E,_,g){E.deleteAt(_,g)})},d.prototype.descendant=function(p,w){var E=this.children.find(w),_=E[0],g=E[1];return p.blotName==null&&p(_)||p.blotName!=null&&_ instanceof p?[_,g]:_ instanceof d?_.descendant(p,g):[null,-1]},d.prototype.descendants=function(p,w,E){w===void 0&&(w=0),E===void 0&&(E=Number.MAX_VALUE);var _=[],g=E;return this.children.forEachAt(w,E,function(m,T,v){(p.blotName==null&&p(m)||p.blotName!=null&&m instanceof p)&&_.push(m),m instanceof d&&(_=_.concat(m.descendants(p,T,g))),g-=v}),_},d.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),h.prototype.detach.call(this)},d.prototype.formatAt=function(p,w,E,_){this.children.forEachAt(p,w,function(g,m,T){g.formatAt(m,T,E,_)})},d.prototype.insertAt=function(p,w,E){var _=this.children.find(p),g=_[0],m=_[1];if(g)g.insertAt(m,w,E);else{var T=E==null?l.create("text",w):l.create(w,E);this.appendChild(T)}},d.prototype.insertBefore=function(p,w){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(E){return p instanceof E}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,w)},d.prototype.length=function(){return this.children.reduce(function(p,w){return p+w.length()},0)},d.prototype.moveChildren=function(p,w){this.children.forEach(function(E){p.insertBefore(E,w)})},d.prototype.optimize=function(p){if(h.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var w=l.create(this.statics.defaultChild);this.appendChild(w),w.optimize(p)}else this.remove()},d.prototype.path=function(p,w){w===void 0&&(w=!1);var E=this.children.find(p,w),_=E[0],g=E[1],m=[[this,p]];return _ instanceof d?m.concat(_.path(g,w)):(_!=null&&m.push([_,g]),m)},d.prototype.removeChild=function(p){this.children.remove(p)},d.prototype.replace=function(p){p instanceof d&&p.moveChildren(this),h.prototype.replace.call(this,p)},d.prototype.split=function(p,w){if(w===void 0&&(w=!1),!w){if(p===0)return this;if(p===this.length())return this.next}var E=this.clone();return this.parent.insertBefore(E,this.next),this.children.forEachAt(p,this.length(),function(_,g,m){_=_.split(g,w),E.appendChild(_)}),E},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(p,w){var E=this,_=[],g=[];p.forEach(function(m){m.target===E.domNode&&m.type==="childList"&&(_.push.apply(_,m.addedNodes),g.push.apply(g,m.removedNodes))}),g.forEach(function(m){if(!(m.parentNode!=null&&m.tagName!=="IFRAME"&&document.body.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var T=l.find(m);T!=null&&(T.domNode.parentNode==null||T.domNode.parentNode===E.domNode)&&T.detach()}}),_.filter(function(m){return m.parentNode==E.domNode}).sort(function(m,T){return m===T?0:m.compareDocumentPosition(T)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(m){var T=null;m.nextSibling!=null&&(T=l.find(m.nextSibling));var v=f(m);(v.next!=T||v.next==null)&&(v.parent!=null&&v.parent.removeChild(E),E.insertBefore(v,T||void 0))})},d}(a.default);function f(h){var d=l.find(h);if(d==null)try{d=l.create(h)}catch{d=l.create(l.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(w){d.domNode.appendChild(w)}),h.parentNode&&h.parentNode.replaceChild(d.domNode,h),d.attach()}return d}r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var w in p)p.hasOwnProperty(w)&&(d[w]=p[w])};return function(d,p){h(d,p);function w(){this.constructor=d}d.prototype=p===null?Object.create(p):(w.prototype=p.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),a=i(31),l=i(17),c=i(1),f=function(h){s(d,h);function d(p){var w=h.call(this,p)||this;return w.attributes=new a.default(w.domNode),w}return d.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},d.prototype.format=function(p,w){var E=c.query(p);E instanceof o.default?this.attributes.attribute(E,w):w&&E!=null&&(p!==this.statics.blotName||this.formats()[p]!==w)&&this.replaceWith(p,w)},d.prototype.formats=function(){var p=this.attributes.values(),w=this.statics.formats(this.domNode);return w!=null&&(p[this.statics.blotName]=w),p},d.prototype.replaceWith=function(p,w){var E=h.prototype.replaceWith.call(this,p,w);return this.attributes.copy(E),E},d.prototype.update=function(p,w){var E=this;h.prototype.update.call(this,p,w),p.some(function(_){return _.target===E.domNode&&_.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(p,w){var E=h.prototype.wrap.call(this,p,w);return E instanceof d&&E.statics.scope===this.statics.scope&&this.attributes.move(E),E},d}(l.default);r.default=f},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){c(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(30),a=i(1),l=function(c){s(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.value=function(h){return!0},f.prototype.index=function(h,d){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},f.prototype.position=function(h,d){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(p+=1),[this.parent.domNode,p]},f.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},f.scope=a.Scope.INLINE_BLOT,f}(o.default);r.default=l},function(n,r,i){var s=i(11),o=i(3),a={attributes:{compose:function(c,f,h){typeof c!="object"&&(c={}),typeof f!="object"&&(f={});var d=o(!0,{},f);h||(d=Object.keys(d).reduce(function(w,E){return d[E]!=null&&(w[E]=d[E]),w},{}));for(var p in c)c[p]!==void 0&&f[p]===void 0&&(d[p]=c[p]);return Object.keys(d).length>0?d:void 0},diff:function(c,f){typeof c!="object"&&(c={}),typeof f!="object"&&(f={});var h=Object.keys(c).concat(Object.keys(f)).reduce(function(d,p){return s(c[p],f[p])||(d[p]=f[p]===void 0?null:f[p]),d},{});return Object.keys(h).length>0?h:void 0},transform:function(c,f,h){if(typeof c!="object")return f;if(typeof f=="object"){if(!h)return f;var d=Object.keys(f).reduce(function(p,w){return c[w]===void 0&&(p[w]=f[w]),p},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(c){return new l(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function l(c){this.ops=c,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(c){c||(c=1/0);var f=this.ops[this.index];if(f){var h=this.offset,d=a.length(f);if(c>=d-h?(c=d-h,this.index+=1,this.offset=0):this.offset+=c,typeof f.delete=="number")return{delete:c};var p={};return f.attributes&&(p.attributes=f.attributes),typeof f.retain=="number"?p.retain=c:typeof f.insert=="string"?p.insert=f.insert.substr(h,c):p.insert=f.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,f=this.index,h=this.next(),d=this.ops.slice(this.index);return this.offset=c,this.index=f,[h].concat(d)}else return[]},n.exports=a},function(n,r){var i=function(){function s(E,_){return _!=null&&E instanceof _}var o;try{o=Map}catch{o=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function c(E,_,g,m,T){typeof _=="object"&&(g=_.depth,m=_.prototype,T=_.includeNonEnumerable,_=_.circular);var v=[],S=[],P=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof g>"u"&&(g=1/0);function I(x,N){if(x===null)return null;if(N===0)return x;var b,A;if(typeof x!="object")return x;if(s(x,o))b=new o;else if(s(x,a))b=new a;else if(s(x,l))b=new l(function(F,D){x.then(function(V){F(I(V,N-1))},function(V){D(I(V,N-1))})});else if(c.__isArray(x))b=[];else if(c.__isRegExp(x))b=new RegExp(x.source,w(x)),x.lastIndex&&(b.lastIndex=x.lastIndex);else if(c.__isDate(x))b=new Date(x.getTime());else{if(P&&Buffer.isBuffer(x))return Buffer.allocUnsafe?b=Buffer.allocUnsafe(x.length):b=new Buffer(x.length),x.copy(b),b;s(x,Error)?b=Object.create(x):typeof m>"u"?(A=Object.getPrototypeOf(x),b=Object.create(A)):(b=Object.create(m),A=m)}if(_){var C=v.indexOf(x);if(C!=-1)return S[C];v.push(x),S.push(b)}s(x,o)&&x.forEach(function(F,D){var V=I(D,N-1),B=I(F,N-1);b.set(V,B)}),s(x,a)&&x.forEach(function(F){var D=I(F,N-1);b.add(D)});for(var M in x){var j;A&&(j=Object.getOwnPropertyDescriptor(A,M)),!(j&&j.set==null)&&(b[M]=I(x[M],N-1))}if(Object.getOwnPropertySymbols)for(var $=Object.getOwnPropertySymbols(x),M=0;M<$.length;M++){var H=$[M],G=Object.getOwnPropertyDescriptor(x,H);G&&!G.enumerable&&!T||(b[H]=I(x[H],N-1),G.enumerable||Object.defineProperty(b,H,{enumerable:!1}))}if(T)for(var Q=Object.getOwnPropertyNames(x),M=0;M<Q.length;M++){var z=Q[M],G=Object.getOwnPropertyDescriptor(x,z);G&&G.enumerable||(b[z]=I(x[z],N-1),Object.defineProperty(b,z,{enumerable:!1}))}return b}return I(E,g)}c.clonePrototype=function(_){if(_===null)return null;var g=function(){};return g.prototype=_,new g};function f(E){return Object.prototype.toString.call(E)}c.__objToStr=f;function h(E){return typeof E=="object"&&f(E)==="[object Date]"}c.__isDate=h;function d(E){return typeof E=="object"&&f(E)==="[object Array]"}c.__isArray=d;function p(E){return typeof E=="object"&&f(E)==="[object RegExp]"}c.__isRegExp=p;function w(E){var _="";return E.global&&(_+="g"),E.ignoreCase&&(_+="i"),E.multiline&&(_+="m"),_}return c.__getRegExpFlags=w,c}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function b(A,C){var M=[],j=!0,$=!1,H=void 0;try{for(var G=A[Symbol.iterator](),Q;!(j=(Q=G.next()).done)&&(M.push(Q.value),!(C&&M.length===C));j=!0);}catch(z){$=!0,H=z}finally{try{!j&&G.return&&G.return()}finally{if($)throw H}}return M}return function(A,C){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return b(A,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function b(A,C){for(var M=0;M<C.length;M++){var j=C[M];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(A,j.key,j)}}return function(A,C,M){return C&&b(A.prototype,C),M&&b(A,M),A}}(),a=function b(A,C,M){A===null&&(A=Function.prototype);var j=Object.getOwnPropertyDescriptor(A,C);if(j===void 0){var $=Object.getPrototypeOf(A);return $===null?void 0:b($,C,M)}else{if("value"in j)return j.value;var H=j.get;return H===void 0?void 0:H.call(M)}},l=i(0),c=v(l),f=i(8),h=v(f),d=i(4),p=v(d),w=i(16),E=v(w),_=i(13),g=v(_),m=i(25),T=v(m);function v(b){return b&&b.__esModule?b:{default:b}}function S(b,A){if(!(b instanceof A))throw new TypeError("Cannot call a class as a function")}function P(b,A){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:b}function I(b,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);b.prototype=Object.create(A&&A.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(b,A):b.__proto__=A)}function x(b){return b instanceof p.default||b instanceof d.BlockEmbed}var N=function(b){I(A,b);function A(C,M){S(this,A);var j=P(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,C));return j.emitter=M.emitter,Array.isArray(M.whitelist)&&(j.whitelist=M.whitelist.reduce(function($,H){return $[H]=!0,$},{})),j.domNode.addEventListener("DOMNodeInserted",function(){}),j.optimize(),j.enable(),j}return o(A,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(M,j){var $=this.line(M),H=s($,2),G=H[0],Q=H[1],z=this.line(M+j),F=s(z,1),D=F[0];if(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,M,j),D!=null&&G!==D&&Q>0){if(G instanceof d.BlockEmbed||D instanceof d.BlockEmbed){this.optimize();return}if(G instanceof g.default){var V=G.newlineIndex(G.length(),!0);if(V>-1&&(G=G.split(V+1),G===D)){this.optimize();return}}else if(D instanceof g.default){var B=D.newlineIndex(0);B>-1&&D.split(B+1)}var Z=D.children.head instanceof E.default?null:D.children.head;G.moveChildren(D,Z),G.remove()}this.optimize()}},{key:"enable",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",M)}},{key:"formatAt",value:function(M,j,$,H){this.whitelist!=null&&!this.whitelist[$]||(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,M,j,$,H),this.optimize())}},{key:"insertAt",value:function(M,j,$){if(!($!=null&&this.whitelist!=null&&!this.whitelist[j])){if(M>=this.length())if($==null||c.default.query(j,c.default.Scope.BLOCK)==null){var H=c.default.create(this.statics.defaultChild);this.appendChild(H),$==null&&j.endsWith(`
`)&&(j=j.slice(0,-1)),H.insertAt(0,j,$)}else{var G=c.default.create(j,$);this.appendChild(G)}else a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,M,j,$);this.optimize()}}},{key:"insertBefore",value:function(M,j){if(M.statics.scope===c.default.Scope.INLINE_BLOT){var $=c.default.create(this.statics.defaultChild);$.appendChild(M),M=$}a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,M,j)}},{key:"leaf",value:function(M){return this.path(M).pop()||[null,-1]}},{key:"line",value:function(M){return M===this.length()?this.line(M-1):this.descendant(x,M)}},{key:"lines",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,$=function H(G,Q,z){var F=[],D=z;return G.children.forEachAt(Q,z,function(V,B,Z){x(V)?F.push(V):V instanceof c.default.Container&&(F=F.concat(H(V,B,D))),D-=Z}),F};return $(this,M,j)}},{key:"optimize",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,M,j),M.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,M,j))}},{key:"path",value:function(M){return a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,M).slice(1)}},{key:"update",value:function(M){if(this.batch!==!0){var j=h.default.sources.USER;typeof M=="string"&&(j=M),Array.isArray(M)||(M=this.observer.takeRecords()),M.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,j,M),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"update",this).call(this,M.concat([])),M.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,j,M)}}}]),A}(c.default.Scroll);N.blotName="scroll",N.className="ql-editor",N.tagName="DIV",N.defaultChild="block",N.allowedChildren=[p.default,d.BlockEmbed,T.default],r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},o=function(){function U(Y,X){var J=[],se=!0,pe=!1,be=void 0;try{for(var Ae=Y[Symbol.iterator](),Ve;!(se=(Ve=Ae.next()).done)&&(J.push(Ve.value),!(X&&J.length===X));se=!0);}catch(Ze){pe=!0,be=Ze}finally{try{!se&&Ae.return&&Ae.return()}finally{if(pe)throw be}}return J}return function(Y,X){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y))return U(Y,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function U(Y,X){for(var J=0;J<X.length;J++){var se=X[J];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(Y,se.key,se)}}return function(Y,X,J){return X&&U(Y.prototype,X),J&&U(Y,J),Y}}(),l=i(21),c=b(l),f=i(11),h=b(f),d=i(3),p=b(d),w=i(2),E=b(w),_=i(20),g=b(_),m=i(0),T=b(m),v=i(5),S=b(v),P=i(10),I=b(P),x=i(9),N=b(x);function b(U){return U&&U.__esModule?U:{default:U}}function A(U,Y,X){return Y in U?Object.defineProperty(U,Y,{value:X,enumerable:!0,configurable:!0,writable:!0}):U[Y]=X,U}function C(U,Y){if(!(U instanceof Y))throw new TypeError("Cannot call a class as a function")}function M(U,Y){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y&&(typeof Y=="object"||typeof Y=="function")?Y:U}function j(U,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);U.prototype=Object.create(Y&&Y.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(U,Y):U.__proto__=Y)}var $=(0,I.default)("quill:keyboard"),H=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",G=function(U){j(Y,U),a(Y,null,[{key:"match",value:function(J,se){return se=q(se),["altKey","ctrlKey","metaKey","shiftKey"].some(function(pe){return!!se[pe]!==J[pe]&&se[pe]!==null})?!1:se.key===(J.which||J.keyCode)}}]);function Y(X,J){C(this,Y);var se=M(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,X,J));return se.bindings={},Object.keys(se.options.bindings).forEach(function(pe){pe==="list autofill"&&X.scroll.whitelist!=null&&!X.scroll.whitelist.list||se.options.bindings[pe]&&se.addBinding(se.options.bindings[pe])}),se.addBinding({key:Y.keys.ENTER,shiftKey:null},V),se.addBinding({key:Y.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(se.addBinding({key:Y.keys.BACKSPACE},{collapsed:!0},z),se.addBinding({key:Y.keys.DELETE},{collapsed:!0},F)):(se.addBinding({key:Y.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},z),se.addBinding({key:Y.keys.DELETE},{collapsed:!0,suffix:/^.?$/},F)),se.addBinding({key:Y.keys.BACKSPACE},{collapsed:!1},D),se.addBinding({key:Y.keys.DELETE},{collapsed:!1},D),se.addBinding({key:Y.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},z),se.listen(),se}return a(Y,[{key:"addBinding",value:function(J){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},be=q(J);if(be==null||be.key==null)return $.warn("Attempted to add invalid keyboard binding",be);typeof se=="function"&&(se={handler:se}),typeof pe=="function"&&(pe={handler:pe}),be=(0,p.default)(be,se,pe),this.bindings[be.key]=this.bindings[be.key]||[],this.bindings[be.key].push(be)}},{key:"listen",value:function(){var J=this;this.quill.root.addEventListener("keydown",function(se){if(!se.defaultPrevented){var pe=se.which||se.keyCode,be=(J.bindings[pe]||[]).filter(function(it){return Y.match(se,it)});if(be.length!==0){var Ae=J.quill.getSelection();if(!(Ae==null||!J.quill.hasFocus())){var Ve=J.quill.getLine(Ae.index),Ze=o(Ve,2),un=Ze[0],Dt=Ze[1],te=J.quill.getLeaf(Ae.index),ne=o(te,2),fe=ne[0],ce=ne[1],re=Ae.length===0?[fe,ce]:J.quill.getLeaf(Ae.index+Ae.length),Re=o(re,2),Ce=Re[0],Se=Re[1],Mn=fe instanceof T.default.Text?fe.value().slice(0,ce):"",Ln=Ce instanceof T.default.Text?Ce.value().slice(Se):"",Fe={collapsed:Ae.length===0,empty:Ae.length===0&&un.length()<=1,format:J.quill.getFormat(Ae),offset:Dt,prefix:Mn,suffix:Ln},Me=be.some(function(it){if(it.collapsed!=null&&it.collapsed!==Fe.collapsed||it.empty!=null&&it.empty!==Fe.empty||it.offset!=null&&it.offset!==Fe.offset)return!1;if(Array.isArray(it.format)){if(it.format.every(function(Wn){return Fe.format[Wn]==null}))return!1}else if(s(it.format)==="object"&&!Object.keys(it.format).every(function(Wn){return it.format[Wn]===!0?Fe.format[Wn]!=null:it.format[Wn]===!1?Fe.format[Wn]==null:(0,h.default)(it.format[Wn],Fe.format[Wn])}))return!1;return it.prefix!=null&&!it.prefix.test(Fe.prefix)||it.suffix!=null&&!it.suffix.test(Fe.suffix)?!1:it.handler.call(J,Ae,Fe)!==!0});Me&&se.preventDefault()}}}})}}]),Y}(N.default);G.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},G.DEFAULTS={bindings:{bold:Z("bold"),italic:Z("italic"),underline:Z("underline"),indent:{key:G.keys.TAB,format:["blockquote","indent","list"],handler:function(Y,X){if(X.collapsed&&X.offset!==0)return!0;this.quill.format("indent","+1",S.default.sources.USER)}},outdent:{key:G.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Y,X){if(X.collapsed&&X.offset!==0)return!0;this.quill.format("indent","-1",S.default.sources.USER)}},"outdent backspace":{key:G.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Y,X){X.format.indent!=null?this.quill.format("indent","-1",S.default.sources.USER):X.format.list!=null&&this.quill.format("list",!1,S.default.sources.USER)}},"indent code-block":B(!0),"outdent code-block":B(!1),"remove tab":{key:G.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Y){this.quill.deleteText(Y.index-1,1,S.default.sources.USER)}},tab:{key:G.keys.TAB,handler:function(Y){this.quill.history.cutoff();var X=new E.default().retain(Y.index).delete(Y.length).insert("	");this.quill.updateContents(X,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Y.index+1,S.default.sources.SILENT)}},"list empty enter":{key:G.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Y,X){this.quill.format("list",!1,S.default.sources.USER),X.format.indent&&this.quill.format("indent",!1,S.default.sources.USER)}},"checklist enter":{key:G.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Y){var X=this.quill.getLine(Y.index),J=o(X,2),se=J[0],pe=J[1],be=(0,p.default)({},se.formats(),{list:"checked"}),Ae=new E.default().retain(Y.index).insert(`
`,be).retain(se.length()-pe-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ae,S.default.sources.USER),this.quill.setSelection(Y.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:G.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Y,X){var J=this.quill.getLine(Y.index),se=o(J,2),pe=se[0],be=se[1],Ae=new E.default().retain(Y.index).insert(`
`,X.format).retain(pe.length()-be-1).retain(1,{header:null});this.quill.updateContents(Ae,S.default.sources.USER),this.quill.setSelection(Y.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Y,X){var J=X.prefix.length,se=this.quill.getLine(Y.index),pe=o(se,2),be=pe[0],Ae=pe[1];if(Ae>J)return!0;var Ve=void 0;switch(X.prefix.trim()){case"[]":case"[ ]":Ve="unchecked";break;case"[x]":Ve="checked";break;case"-":case"*":Ve="bullet";break;default:Ve="ordered"}this.quill.insertText(Y.index," ",S.default.sources.USER),this.quill.history.cutoff();var Ze=new E.default().retain(Y.index-Ae).delete(J+1).retain(be.length()-2-Ae).retain(1,{list:Ve});this.quill.updateContents(Ze,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Y.index-J,S.default.sources.SILENT)}},"code exit":{key:G.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Y){var X=this.quill.getLine(Y.index),J=o(X,2),se=J[0],pe=J[1],be=new E.default().retain(Y.index+se.length()-pe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(be,S.default.sources.USER)}},"embed left":Q(G.keys.LEFT,!1),"embed left shift":Q(G.keys.LEFT,!0),"embed right":Q(G.keys.RIGHT,!1),"embed right shift":Q(G.keys.RIGHT,!0)}};function Q(U,Y){var X,J=U===G.keys.LEFT?"prefix":"suffix";return X={key:U,shiftKey:Y,altKey:null},A(X,J,/^$/),A(X,"handler",function(pe){var be=pe.index;U===G.keys.RIGHT&&(be+=pe.length+1);var Ae=this.quill.getLeaf(be),Ve=o(Ae,1),Ze=Ve[0];return Ze instanceof T.default.Embed?(U===G.keys.LEFT?Y?this.quill.setSelection(pe.index-1,pe.length+1,S.default.sources.USER):this.quill.setSelection(pe.index-1,S.default.sources.USER):Y?this.quill.setSelection(pe.index,pe.length+1,S.default.sources.USER):this.quill.setSelection(pe.index+pe.length+1,S.default.sources.USER),!1):!0}),X}function z(U,Y){if(!(U.index===0||this.quill.getLength()<=1)){var X=this.quill.getLine(U.index),J=o(X,1),se=J[0],pe={};if(Y.offset===0){var be=this.quill.getLine(U.index-1),Ae=o(be,1),Ve=Ae[0];if(Ve!=null&&Ve.length()>1){var Ze=se.formats(),un=this.quill.getFormat(U.index-1,1);pe=g.default.attributes.diff(Ze,un)||{}}}var Dt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Y.prefix)?2:1;this.quill.deleteText(U.index-Dt,Dt,S.default.sources.USER),Object.keys(pe).length>0&&this.quill.formatLine(U.index-Dt,Dt,pe,S.default.sources.USER),this.quill.focus()}}function F(U,Y){var X=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Y.suffix)?2:1;if(!(U.index>=this.quill.getLength()-X)){var J={},se=0,pe=this.quill.getLine(U.index),be=o(pe,1),Ae=be[0];if(Y.offset>=Ae.length()-1){var Ve=this.quill.getLine(U.index+1),Ze=o(Ve,1),un=Ze[0];if(un){var Dt=Ae.formats(),te=this.quill.getFormat(U.index,1);J=g.default.attributes.diff(Dt,te)||{},se=un.length()}}this.quill.deleteText(U.index,X,S.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine(U.index+se-1,X,J,S.default.sources.USER)}}function D(U){var Y=this.quill.getLines(U),X={};if(Y.length>1){var J=Y[0].formats(),se=Y[Y.length-1].formats();X=g.default.attributes.diff(se,J)||{}}this.quill.deleteText(U,S.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(U.index,1,X,S.default.sources.USER),this.quill.setSelection(U.index,S.default.sources.SILENT),this.quill.focus()}function V(U,Y){var X=this;U.length>0&&this.quill.scroll.deleteAt(U.index,U.length);var J=Object.keys(Y.format).reduce(function(se,pe){return T.default.query(pe,T.default.Scope.BLOCK)&&!Array.isArray(Y.format[pe])&&(se[pe]=Y.format[pe]),se},{});this.quill.insertText(U.index,`
`,J,S.default.sources.USER),this.quill.setSelection(U.index+1,S.default.sources.SILENT),this.quill.focus(),Object.keys(Y.format).forEach(function(se){J[se]==null&&(Array.isArray(Y.format[se])||se!=="link"&&X.quill.format(se,Y.format[se],S.default.sources.USER))})}function B(U){return{key:G.keys.TAB,shiftKey:!U,format:{"code-block":!0},handler:function(X){var J=T.default.query("code-block"),se=X.index,pe=X.length,be=this.quill.scroll.descendant(J,se),Ae=o(be,2),Ve=Ae[0],Ze=Ae[1];if(Ve!=null){var un=this.quill.getIndex(Ve),Dt=Ve.newlineIndex(Ze,!0)+1,te=Ve.newlineIndex(un+Ze+pe),ne=Ve.domNode.textContent.slice(Dt,te).split(`
`);Ze=0,ne.forEach(function(fe,ce){U?(Ve.insertAt(Dt+Ze,J.TAB),Ze+=J.TAB.length,ce===0?se+=J.TAB.length:pe+=J.TAB.length):fe.startsWith(J.TAB)&&(Ve.deleteAt(Dt+Ze,J.TAB.length),Ze-=J.TAB.length,ce===0?se-=J.TAB.length:pe-=J.TAB.length),Ze+=fe.length+1}),this.quill.update(S.default.sources.USER),this.quill.setSelection(se,pe,S.default.sources.SILENT)}}}}function Z(U){return{key:U[0].toUpperCase(),shortKey:!0,handler:function(X,J){this.quill.format(U,!J.format[U],S.default.sources.USER)}}}function q(U){if(typeof U=="string"||typeof U=="number")return q({key:U});if((typeof U>"u"?"undefined":s(U))==="object"&&(U=(0,c.default)(U,!1)),typeof U.key=="string")if(G.keys[U.key.toUpperCase()]!=null)U.key=G.keys[U.key.toUpperCase()];else if(U.key.length===1)U.key=U.key.toUpperCase().charCodeAt(0);else return null;return U.shortKey&&(U[H]=U.shortKey,delete U.shortKey),U}r.default=G,r.SHORTKEY=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(m,T){var v=[],S=!0,P=!1,I=void 0;try{for(var x=m[Symbol.iterator](),N;!(S=(N=x.next()).done)&&(v.push(N.value),!(T&&v.length===T));S=!0);}catch(b){P=!0,I=b}finally{try{!S&&x.return&&x.return()}finally{if(P)throw I}}return v}return function(m,T){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return g(m,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function g(m,T,v){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,T);if(S===void 0){var P=Object.getPrototypeOf(m);return P===null?void 0:g(P,T,v)}else{if("value"in S)return S.value;var I=S.get;return I===void 0?void 0:I.call(v)}},a=function(){function g(m,T){for(var v=0;v<T.length;v++){var S=T[v];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,T,v){return T&&g(m.prototype,T),v&&g(m,v),m}}(),l=i(0),c=d(l),f=i(7),h=d(f);function d(g){return g&&g.__esModule?g:{default:g}}function p(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function w(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function E(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var _=function(g){E(m,g),a(m,null,[{key:"value",value:function(){}}]);function m(T,v){p(this,m);var S=w(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,T));return S.selection=v,S.textNode=document.createTextNode(m.CONTENTS),S.domNode.appendChild(S.textNode),S._length=0,S}return a(m,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(v,S){if(this._length!==0)return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,v,S);for(var P=this,I=0;P!=null&&P.statics.scope!==c.default.Scope.BLOCK_BLOT;)I+=P.offset(P.parent),P=P.parent;P!=null&&(this._length=m.CONTENTS.length,P.optimize(),P.formatAt(I,m.CONTENTS.length,v,S),this._length=0)}},{key:"index",value:function(v,S){return v===this.textNode?0:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,v,S)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var v=this.textNode,S=this.selection.getNativeRange(),P=void 0,I=void 0,x=void 0;if(S!=null&&S.start.node===v&&S.end.node===v){var N=[v,S.start.offset,S.end.offset];P=N[0],I=N[1],x=N[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==m.CONTENTS){var b=this.textNode.data.split(m.CONTENTS).join("");this.next instanceof h.default?(P=this.next.domNode,this.next.insertAt(0,b),this.textNode.data=m.CONTENTS):(this.textNode.data=b,this.parent.insertBefore(c.default.create(this.textNode),this),this.textNode=document.createTextNode(m.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),I!=null){var A=[I,x].map(function(M){return Math.max(0,Math.min(P.data.length,M-1))}),C=s(A,2);return I=C[0],x=C[1],{startNode:P,startOffset:I,endNode:P,endOffset:x}}}}},{key:"update",value:function(v,S){var P=this;if(v.some(function(x){return x.type==="characterData"&&x.target===P.textNode})){var I=this.restore();I&&(S.range=I)}}},{key:"value",value:function(){return""}}]),m}(c.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=c(s),a=i(4),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function h(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function d(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var p=function(w){d(E,w);function E(){return f(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return E}(o.default.Container);p.allowedChildren=[l.default,a.BlockEmbed,p],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=function(){function _(g,m){for(var T=0;T<m.length;T++){var v=m[T];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,m,T){return m&&_(g.prototype,m),T&&_(g,T),g}}(),o=function _(g,m,T){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,m);if(v===void 0){var S=Object.getPrototypeOf(g);return S===null?void 0:_(S,m,T)}else{if("value"in v)return v.value;var P=v.get;return P===void 0?void 0:P.call(T)}},a=i(0),l=c(a);function c(_){return _&&_.__esModule?_:{default:_}}function f(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function h(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function d(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var p=function(_){d(g,_);function g(){return f(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"value",value:function(T){var v=o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,T);return v.startsWith("rgb(")?(v=v.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+v.split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join("")):v}}]),g}(l.default.Attributor.Style),w=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),E=new p("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=w,r.ColorStyle=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=function(){function E(_,g){for(var m=0;m<g.length;m++){var T=g[m];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}return function(_,g,m){return g&&E(_.prototype,g),m&&E(_,m),_}}(),o=function E(_,g,m){_===null&&(_=Function.prototype);var T=Object.getOwnPropertyDescriptor(_,g);if(T===void 0){var v=Object.getPrototypeOf(_);return v===null?void 0:E(v,g,m)}else{if("value"in T)return T.value;var S=T.get;return S===void 0?void 0:S.call(m)}},a=i(6),l=c(a);function c(E){return E&&E.__esModule?E:{default:E}}function f(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function h(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function d(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var p=function(E){d(_,E);function _(){return f(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"format",value:function(m,T){if(m!==this.statics.blotName||!T)return o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,m,T);T=this.constructor.sanitize(T),this.domNode.setAttribute("href",T)}}],[{key:"create",value:function(m){var T=o(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,m);return m=this.sanitize(m),T.setAttribute("href",m),T.setAttribute("rel","noopener noreferrer"),T.setAttribute("target","_blank"),T}},{key:"formats",value:function(m){return m.getAttribute("href")}},{key:"sanitize",value:function(m){return w(m,this.PROTOCOL_WHITELIST)?m:this.SANITIZED_URL}}]),_}(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function w(E,_){var g=document.createElement("a");g.href=E;var m=g.href.slice(0,g.href.indexOf(":"));return _.indexOf(m)>-1}r.default=p,r.sanitize=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},o=function(){function _(g,m){for(var T=0;T<m.length;T++){var v=m[T];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,m,T){return m&&_(g.prototype,m),T&&_(g,T),g}}(),a=i(23),l=h(a),c=i(107),f=h(c);function h(_){return _&&_.__esModule?_:{default:_}}function d(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}var p=0;function w(_,g){_.setAttribute(g,_.getAttribute(g)!=="true")}var E=function(){function _(g){var m=this;d(this,_),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){m.togglePicker()}),this.label.addEventListener("keydown",function(T){switch(T.keyCode){case l.default.keys.ENTER:m.togglePicker();break;case l.default.keys.ESCAPE:m.escape(),T.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),w(this.label,"aria-expanded"),w(this.options,"aria-hidden")}},{key:"buildItem",value:function(m){var T=this,v=document.createElement("span");return v.tabIndex="0",v.setAttribute("role","button"),v.classList.add("ql-picker-item"),m.hasAttribute("value")&&v.setAttribute("data-value",m.getAttribute("value")),m.textContent&&v.setAttribute("data-label",m.textContent),v.addEventListener("click",function(){T.selectItem(v,!0)}),v.addEventListener("keydown",function(S){switch(S.keyCode){case l.default.keys.ENTER:T.selectItem(v,!0),S.preventDefault();break;case l.default.keys.ESCAPE:T.escape(),S.preventDefault();break}}),v}},{key:"buildLabel",value:function(){var m=document.createElement("span");return m.classList.add("ql-picker-label"),m.innerHTML=f.default,m.tabIndex="0",m.setAttribute("role","button"),m.setAttribute("aria-expanded","false"),this.container.appendChild(m),m}},{key:"buildOptions",value:function(){var m=this,T=document.createElement("span");T.classList.add("ql-picker-options"),T.setAttribute("aria-hidden","true"),T.tabIndex="-1",T.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",T.id),this.options=T,[].slice.call(this.select.options).forEach(function(v){var S=m.buildItem(v);T.appendChild(S),v.selected===!0&&m.selectItem(S)}),this.container.appendChild(T)}},{key:"buildPicker",value:function(){var m=this;[].slice.call(this.select.attributes).forEach(function(T){m.container.setAttribute(T.name,T.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var m=this;this.close(),setTimeout(function(){return m.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(m){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=this.container.querySelector(".ql-selected");if(m!==v&&(v!=null&&v.classList.remove("ql-selected"),m!=null&&(m.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(m.parentNode.children,m),m.hasAttribute("data-value")?this.label.setAttribute("data-value",m.getAttribute("data-value")):this.label.removeAttribute("data-value"),m.hasAttribute("data-label")?this.label.setAttribute("data-label",m.getAttribute("data-label")):this.label.removeAttribute("data-label"),T))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var S=document.createEvent("Event");S.initEvent("change",!0,!0),this.select.dispatchEvent(S)}this.close()}}},{key:"update",value:function(){var m=void 0;if(this.select.selectedIndex>-1){var T=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];m=this.select.options[this.select.selectedIndex],this.selectItem(T)}else this.selectItem(null);var v=m!=null&&m!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",v)}}]),_}();r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=$(s),a=i(5),l=$(a),c=i(4),f=$(c),h=i(16),d=$(h),p=i(25),w=$(p),E=i(24),_=$(E),g=i(35),m=$(g),T=i(6),v=$(T),S=i(22),P=$(S),I=i(7),x=$(I),N=i(55),b=$(N),A=i(42),C=$(A),M=i(23),j=$(M);function $(H){return H&&H.__esModule?H:{default:H}}l.default.register({"blots/block":f.default,"blots/block/embed":c.BlockEmbed,"blots/break":d.default,"blots/container":w.default,"blots/cursor":_.default,"blots/embed":m.default,"blots/inline":v.default,"blots/scroll":P.default,"blots/text":x.default,"modules/clipboard":b.default,"modules/history":C.default,"modules/keyboard":j.default}),o.default.register(f.default,d.default,_.default,v.default,P.default,x.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?c=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?c=document.createElement(l):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},a.prototype.deleteAt=function(l,c){var f=this.isolate(l,c);f.remove()},a.prototype.formatAt=function(l,c,f,h){var d=this.isolate(l,c);if(s.query(f,s.Scope.BLOT)!=null&&h)d.wrap(f,h);else if(s.query(f,s.Scope.ATTRIBUTE)!=null){var p=s.create(this.statics.scope);d.wrap(p),p.format(f,h)}},a.prototype.insertAt=function(l,c,f){var h=f==null?s.create("text",c):s.create(c,f),d=this.split(l);this.parent.insertBefore(h,d)},a.prototype.insertInto=function(l,c){c===void 0&&(c=null),this.parent!=null&&this.parent.children.remove(this);var f=null;l.children.insertBefore(this,c),c!=null&&(f=c.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=f)&&l.domNode.insertBefore(this.domNode,f),this.parent=l,this.attach()},a.prototype.isolate=function(l,c){var f=this.split(l);return f.split(c),f},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,c){var f=typeof l=="string"?s.create(l,c):l;return f.replace(this),f},a.prototype.split=function(l,c){return l===0?this:this.next},a.prototype.update=function(l,c){},a.prototype.wrap=function(l,c){var f=typeof l=="string"?s.create(l,c):l;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},a.blotName="abstract",a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),o=i(32),a=i(33),l=i(1),c=function(){function f(h){this.attributes={},this.domNode=h,this.build()}return f.prototype.attribute=function(h,d){d?h.add(this.domNode,d)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},f.prototype.build=function(){var h=this;this.attributes={};var d=s.default.keys(this.domNode),p=o.default.keys(this.domNode),w=a.default.keys(this.domNode);d.concat(p).concat(w).forEach(function(E){var _=l.query(E,l.Scope.ATTRIBUTE);_ instanceof s.default&&(h.attributes[_.attrName]=_)})},f.prototype.copy=function(h){var d=this;Object.keys(this.attributes).forEach(function(p){var w=d.attributes[p].value(d.domNode);h.format(p,w)})},f.prototype.move=function(h){var d=this;this.copy(h),Object.keys(this.attributes).forEach(function(p){d.attributes[p].remove(d.domNode)}),this.attributes={}},f.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(d,p){return d[p]=h.attributes[p].value(h.domNode),d},{})},f}();r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){c(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(c,f){var h=c.getAttribute("class")||"";return h.split(/\s+/).filter(function(d){return d.indexOf(f+"-")===0})}var l=function(c){s(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},f.prototype.add=function(h,d){return this.canAdd(h,d)?(this.remove(h),h.classList.add(this.keyName+"-"+d),!0):!1},f.prototype.remove=function(h){var d=a(h,this.keyName);d.forEach(function(p){h.classList.remove(p)}),h.classList.length===0&&h.removeAttribute("class")},f.prototype.value=function(h){var d=a(h,this.keyName)[0]||"",p=d.slice(this.keyName.length+1);return this.canAdd(h,p)?p:""},f}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){c(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(c){var f=c.split("-"),h=f.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return f[0]+h}var l=function(c){s(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(d){var p=d.split(":");return p[0].trim()})},f.prototype.add=function(h,d){return this.canAdd(h,d)?(h.style[a(this.keyName)]=d,!0):!1},f.prototype.remove=function(h){h.style[a(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},f.prototype.value=function(h){var d=h.style[a(this.keyName)];return this.canAdd(h,d)?d:""},f}(o.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(c,f){for(var h=0;h<f.length;h++){var d=f[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,f,h){return f&&l(c.prototype,f),h&&l(c,h),c}}();function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(c,f){o(this,l),this.quill=c,this.options=f,this.modules={}}return s(l,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(h){f.modules[h]==null&&f.addModule(h)})}},{key:"addModule",value:function(f){var h=this.quill.constructor.import("modules/"+f);return this.modules[f]=new h(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(m,T){for(var v=0;v<T.length;v++){var S=T[v];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,T,v){return T&&g(m.prototype,T),v&&g(m,v),m}}(),o=function g(m,T,v){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,T);if(S===void 0){var P=Object.getPrototypeOf(m);return P===null?void 0:g(P,T,v)}else{if("value"in S)return S.value;var I=S.get;return I===void 0?void 0:I.call(v)}},a=i(0),l=h(a),c=i(7),f=h(c);function h(g){return g&&g.__esModule?g:{default:g}}function d(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function p(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function w(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var E="\uFEFF",_=function(g){w(m,g);function m(T){d(this,m);var v=p(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,T));return v.contentNode=document.createElement("span"),v.contentNode.setAttribute("contenteditable",!1),[].slice.call(v.domNode.childNodes).forEach(function(S){v.contentNode.appendChild(S)}),v.leftGuard=document.createTextNode(E),v.rightGuard=document.createTextNode(E),v.domNode.appendChild(v.leftGuard),v.domNode.appendChild(v.contentNode),v.domNode.appendChild(v.rightGuard),v}return s(m,[{key:"index",value:function(v,S){return v===this.leftGuard?0:v===this.rightGuard?1:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,v,S)}},{key:"restore",value:function(v){var S=void 0,P=void 0,I=v.data.split(E).join("");if(v===this.leftGuard)if(this.prev instanceof f.default){var x=this.prev.length();this.prev.insertAt(x,I),S={startNode:this.prev.domNode,startOffset:x+I.length}}else P=document.createTextNode(I),this.parent.insertBefore(l.default.create(P),this),S={startNode:P,startOffset:I.length};else v===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,I),S={startNode:this.next.domNode,startOffset:I.length}):(P=document.createTextNode(I),this.parent.insertBefore(l.default.create(P),this.next),S={startNode:P,startOffset:I.length}));return v.data=E,S}},{key:"update",value:function(v,S){var P=this;v.forEach(function(I){if(I.type==="characterData"&&(I.target===P.leftGuard||I.target===P.rightGuard)){var x=P.restore(I.target);x&&(S.range=x)}})}}]),m}(l.default.Embed);r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},c=new o.default.Attributor.Attribute("align","align",l),f=new o.default.Attributor.Class("align","ql-align",l),h=new o.default.Attributor.Style("align","text-align",l);r.AlignAttribute=c,r.AlignClass=f,r.AlignStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),o=l(s),a=i(26);function l(h){return h&&h.__esModule?h:{default:h}}var c=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),f=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=c,r.BackgroundStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},c=new o.default.Attributor.Attribute("direction","dir",l),f=new o.default.Attributor.Class("direction","ql-direction",l),h=new o.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=c,r.DirectionClass=f,r.DirectionStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=function(){function g(m,T){for(var v=0;v<T.length;v++){var S=T[v];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,T,v){return T&&g(m.prototype,T),v&&g(m,v),m}}(),o=function g(m,T,v){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,T);if(S===void 0){var P=Object.getPrototypeOf(m);return P===null?void 0:g(P,T,v)}else{if("value"in S)return S.value;var I=S.get;return I===void 0?void 0:I.call(v)}},a=i(0),l=c(a);function c(g){return g&&g.__esModule?g:{default:g}}function f(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function h(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function d(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},w=new l.default.Attributor.Class("font","ql-font",p),E=function(g){d(m,g);function m(){return f(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"value",value:function(v){return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,v).replace(/["']/g,"")}}]),m}(l.default.Attributor.Style),_=new E("font","font-family",p);r.FontStyle=_,r.FontClass=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),c=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=c},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=function(){function T(v,S){for(var P=0;P<S.length;P++){var I=S[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,S,P){return S&&T(v.prototype,S),P&&T(v,P),v}}(),o=i(0),a=d(o),l=i(5),c=d(l),f=i(9),h=d(f);function d(T){return T&&T.__esModule?T:{default:T}}function p(T,v){if(!(T instanceof v))throw new TypeError("Cannot call a class as a function")}function w(T,v){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:T}function E(T,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);T.prototype=Object.create(v&&v.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(T,v):T.__proto__=v)}var _=function(T){E(v,T);function v(S,P){p(this,v);var I=w(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,S,P));return I.lastRecorded=0,I.ignoreChange=!1,I.clear(),I.quill.on(c.default.events.EDITOR_CHANGE,function(x,N,b,A){x!==c.default.events.TEXT_CHANGE||I.ignoreChange||(!I.options.userOnly||A===c.default.sources.USER?I.record(N,b):I.transform(N))}),I.quill.keyboard.addBinding({key:"Z",shortKey:!0},I.undo.bind(I)),I.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},I.redo.bind(I)),/Win/i.test(navigator.platform)&&I.quill.keyboard.addBinding({key:"Y",shortKey:!0},I.redo.bind(I)),I}return s(v,[{key:"change",value:function(P,I){if(this.stack[P].length!==0){var x=this.stack[P].pop();this.stack[I].push(x),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(x[P],c.default.sources.USER),this.ignoreChange=!1;var N=m(x[P]);this.quill.setSelection(N)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(P,I){if(P.ops.length!==0){this.stack.redo=[];var x=this.quill.getContents().diff(I),N=Date.now();if(this.lastRecorded+this.options.delay>N&&this.stack.undo.length>0){var b=this.stack.undo.pop();x=x.compose(b.undo),P=b.redo.compose(P)}else this.lastRecorded=N;this.stack.undo.push({redo:P,undo:x}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(P){this.stack.undo.forEach(function(I){I.undo=P.transform(I.undo,!0),I.redo=P.transform(I.redo,!0)}),this.stack.redo.forEach(function(I){I.undo=P.transform(I.undo,!0),I.redo=P.transform(I.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),v}(h.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(T){var v=T.ops[T.ops.length-1];return v==null?!1:v.insert!=null?typeof v.insert=="string"&&v.insert.endsWith(`
`):v.attributes!=null?Object.keys(v.attributes).some(function(S){return a.default.query(S,a.default.Scope.BLOCK)!=null}):!1}function m(T){var v=T.reduce(function(P,I){return P+=I.delete||0,P},0),S=T.length()-v;return g(T)&&(S-=1),S}r.default=_,r.getLastChangeIndex=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=function(){function V(B,Z){for(var q=0;q<Z.length;q++){var U=Z[q];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(B,U.key,U)}}return function(B,Z,q){return Z&&V(B.prototype,Z),q&&V(B,q),B}}(),o=function V(B,Z,q){B===null&&(B=Function.prototype);var U=Object.getOwnPropertyDescriptor(B,Z);if(U===void 0){var Y=Object.getPrototypeOf(B);return Y===null?void 0:V(Y,Z,q)}else{if("value"in U)return U.value;var X=U.get;return X===void 0?void 0:X.call(q)}},a=i(3),l=N(a),c=i(2),f=N(c),h=i(8),d=N(h),p=i(23),w=N(p),E=i(34),_=N(E),g=i(59),m=N(g),T=i(60),v=N(T),S=i(28),P=N(S),I=i(61),x=N(I);function N(V){return V&&V.__esModule?V:{default:V}}function b(V,B){if(!(V instanceof B))throw new TypeError("Cannot call a class as a function")}function A(V,B){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:V}function C(V,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);V.prototype=Object.create(B&&B.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(V,B):V.__proto__=B)}var M=[!1,"center","right","justify"],j=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],$=[!1,"serif","monospace"],H=["1","2","3",!1],G=["small",!1,"large","huge"],Q=function(V){C(B,V);function B(Z,q){b(this,B);var U=A(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,Z,q)),Y=function X(J){if(!document.body.contains(Z.root))return document.body.removeEventListener("click",X);U.tooltip!=null&&!U.tooltip.root.contains(J.target)&&document.activeElement!==U.tooltip.textbox&&!U.quill.hasFocus()&&U.tooltip.hide(),U.pickers!=null&&U.pickers.forEach(function(se){se.container.contains(J.target)||se.close()})};return Z.emitter.listenDOM("click",document.body,Y),U}return s(B,[{key:"addModule",value:function(q){var U=o(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"addModule",this).call(this,q);return q==="toolbar"&&this.extendToolbar(U),U}},{key:"buildButtons",value:function(q,U){q.forEach(function(Y){var X=Y.getAttribute("class")||"";X.split(/\s+/).forEach(function(J){if(J.startsWith("ql-")&&(J=J.slice(3),U[J]!=null))if(J==="direction")Y.innerHTML=U[J][""]+U[J].rtl;else if(typeof U[J]=="string")Y.innerHTML=U[J];else{var se=Y.value||"";se!=null&&U[J][se]&&(Y.innerHTML=U[J][se])}})})}},{key:"buildPickers",value:function(q,U){var Y=this;this.pickers=q.map(function(J){if(J.classList.contains("ql-align"))return J.querySelector("option")==null&&D(J,M),new v.default(J,U.align);if(J.classList.contains("ql-background")||J.classList.contains("ql-color")){var se=J.classList.contains("ql-background")?"background":"color";return J.querySelector("option")==null&&D(J,j,se==="background"?"#ffffff":"#000000"),new m.default(J,U[se])}else return J.querySelector("option")==null&&(J.classList.contains("ql-font")?D(J,$):J.classList.contains("ql-header")?D(J,H):J.classList.contains("ql-size")&&D(J,G)),new P.default(J)});var X=function(){Y.pickers.forEach(function(se){se.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,X)}}]),B}(_.default);Q.DEFAULTS=(0,l.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var B=this,Z=this.container.querySelector("input.ql-image[type=file]");Z==null&&(Z=document.createElement("input"),Z.setAttribute("type","file"),Z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Z.classList.add("ql-image"),Z.addEventListener("change",function(){if(Z.files!=null&&Z.files[0]!=null){var q=new FileReader;q.onload=function(U){var Y=B.quill.getSelection(!0);B.quill.updateContents(new f.default().retain(Y.index).delete(Y.length).insert({image:U.target.result}),d.default.sources.USER),B.quill.setSelection(Y.index+1,d.default.sources.SILENT),Z.value=""},q.readAsDataURL(Z.files[0])}}),this.container.appendChild(Z)),Z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var z=function(V){C(B,V);function B(Z,q){b(this,B);var U=A(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,Z,q));return U.textbox=U.root.querySelector('input[type="text"]'),U.listen(),U}return s(B,[{key:"listen",value:function(){var q=this;this.textbox.addEventListener("keydown",function(U){w.default.match(U,"enter")?(q.save(),U.preventDefault()):w.default.match(U,"escape")&&(q.cancel(),U.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),U!=null?this.textbox.value=U:q!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+q)||""),this.root.setAttribute("data-mode",q)}},{key:"restoreFocus",value:function(){var q=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=q}},{key:"save",value:function(){var q=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var U=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",q,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",q,d.default.sources.USER)),this.quill.root.scrollTop=U;break}case"video":q=F(q);case"formula":{if(!q)break;var Y=this.quill.getSelection(!0);if(Y!=null){var X=Y.index+Y.length;this.quill.insertEmbed(X,this.root.getAttribute("data-mode"),q,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(X+1," ",d.default.sources.USER),this.quill.setSelection(X+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),B}(x.default);function F(V){var B=V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return B?(B[1]||"https")+"://www.youtube.com/embed/"+B[2]+"?showinfo=0":(B=V.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(B[1]||"https")+"://player.vimeo.com/video/"+B[2]+"/":V}function D(V,B){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;B.forEach(function(q){var U=document.createElement("option");q===Z?U.setAttribute("selected","selected"):U.setAttribute("value",q),V.appendChild(U)})}r.BaseTooltip=z,r.default=Q},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},o.prototype.contains=function(a){for(var l,c=this.iterator();l=c();)if(l===a)return!0;return!1},o.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},o.prototype.offset=function(a){for(var l=0,c=this.head;c!=null;){if(c===a)return l;l+=c.length(),c=c.next}return-1},o.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},o.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},o.prototype.find=function(a,l){l===void 0&&(l=!1);for(var c,f=this.iterator();c=f();){var h=c.length();if(a<h||l&&a===h&&(c.next==null||c.next.length()!==0))return[c,a];a-=h}return[null,0]},o.prototype.forEach=function(a){for(var l,c=this.iterator();l=c();)a(l)},o.prototype.forEachAt=function(a,l,c){if(!(l<=0))for(var f=this.find(a),h=f[0],d=f[1],p,w=a-d,E=this.iterator(h);(p=E())&&w<a+l;){var _=p.length();a>w?c(p,a-w,Math.min(l,w+_-a)):c(p,0,Math.min(_,a+l-w)),w+=_}},o.prototype.map=function(a){return this.reduce(function(l,c){return l.push(a(c)),l},[])},o.prototype.reduce=function(a,l){for(var c,f=this.iterator();c=f();)l=a(l,c);return l},o}();r.default=s},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var w in p)p.hasOwnProperty(w)&&(d[w]=p[w])};return function(d,p){h(d,p);function w(){this.constructor=d}d.prototype=p===null?Object.create(p):(w.prototype=p.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=100,f=function(h){s(d,h);function d(p){var w=h.call(this,p)||this;return w.scroll=w,w.observer=new MutationObserver(function(E){w.update(E)}),w.observer.observe(w.domNode,l),w.attach(),w}return d.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(p,w){this.update(),p===0&&w===this.length()?this.children.forEach(function(E){E.remove()}):h.prototype.deleteAt.call(this,p,w)},d.prototype.formatAt=function(p,w,E,_){this.update(),h.prototype.formatAt.call(this,p,w,E,_)},d.prototype.insertAt=function(p,w,E){this.update(),h.prototype.insertAt.call(this,p,w,E)},d.prototype.optimize=function(p,w){var E=this;p===void 0&&(p=[]),w===void 0&&(w={}),h.prototype.optimize.call(this,w);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)p.push(_.pop());for(var g=function(S,P){P===void 0&&(P=!0),!(S==null||S===E)&&S.domNode.parentNode!=null&&(S.domNode[a.DATA_KEY].mutations==null&&(S.domNode[a.DATA_KEY].mutations=[]),P&&g(S.parent))},m=function(S){S.domNode[a.DATA_KEY]==null||S.domNode[a.DATA_KEY].mutations==null||(S instanceof o.default&&S.children.forEach(m),S.optimize(w))},T=p,v=0;T.length>0;v+=1){if(v>=c)throw new Error("[Parchment] Maximum optimize iterations reached");for(T.forEach(function(S){var P=a.find(S.target,!0);P!=null&&(P.domNode===S.target&&(S.type==="childList"?(g(a.find(S.previousSibling,!1)),[].forEach.call(S.addedNodes,function(I){var x=a.find(I,!1);g(x,!1),x instanceof o.default&&x.children.forEach(function(N){g(N,!1)})})):S.type==="attributes"&&g(P.prev)),g(P))}),this.children.forEach(m),T=[].slice.call(this.observer.takeRecords()),_=T.slice();_.length>0;)p.push(_.pop())}},d.prototype.update=function(p,w){var E=this;w===void 0&&(w={}),p=p||this.observer.takeRecords(),p.map(function(_){var g=a.find(_.target,!0);return g==null?null:g.domNode[a.DATA_KEY].mutations==null?(g.domNode[a.DATA_KEY].mutations=[_],g):(g.domNode[a.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===E||_.domNode[a.DATA_KEY]==null||_.update(_.domNode[a.DATA_KEY].mutations||[],w)}),this.domNode[a.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,w),this.optimize(p,w)},d.blotName="scroll",d.defaultChild="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="DIV",d}(o.default);r.default=f},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var p in d)d.hasOwnProperty(p)&&(h[p]=d[p])};return function(h,d){f(h,d);function p(){this.constructor=h}h.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1);function l(f,h){if(Object.keys(f).length!==Object.keys(h).length)return!1;for(var d in f)if(f[d]!==h[d])return!1;return!0}var c=function(f){s(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.formats=function(d){if(d.tagName!==h.tagName)return f.formats.call(this,d)},h.prototype.format=function(d,p){var w=this;d===this.statics.blotName&&!p?(this.children.forEach(function(E){E instanceof o.default||(E=E.wrap(h.blotName,!0)),w.attributes.copy(E)}),this.unwrap()):f.prototype.format.call(this,d,p)},h.prototype.formatAt=function(d,p,w,E){if(this.formats()[w]!=null||a.query(w,a.Scope.ATTRIBUTE)){var _=this.isolate(d,p);_.format(w,E)}else f.prototype.formatAt.call(this,d,p,w,E)},h.prototype.optimize=function(d){f.prototype.optimize.call(this,d);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var w=this.next;w instanceof h&&w.prev===this&&l(p,w.formats())&&(w.moveChildren(this),w.remove())},h.blotName="inline",h.scope=a.Scope.INLINE_BLOT,h.tagName="SPAN",h}(o.default);r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){c(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1),l=function(c){s(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.formats=function(h){var d=a.query(f.blotName).tagName;if(h.tagName!==d)return c.formats.call(this,h)},f.prototype.format=function(h,d){a.query(h,a.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!d?this.replaceWith(f.blotName):c.prototype.format.call(this,h,d))},f.prototype.formatAt=function(h,d,p,w){a.query(p,a.Scope.BLOCK)!=null?this.format(p,w):c.prototype.formatAt.call(this,h,d,p,w)},f.prototype.insertAt=function(h,d,p){if(p==null||a.query(d,a.Scope.INLINE)!=null)c.prototype.insertAt.call(this,h,d,p);else{var w=this.split(h),E=a.create(d,p);w.parent.insertBefore(E,w)}},f.prototype.update=function(h,d){navigator.userAgent.match(/Trident/)?this.build():c.prototype.update.call(this,h,d)},f.blotName="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="P",f}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])};return function(c,f){l(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=function(l){s(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.formats=function(f){},c.prototype.format=function(f,h){l.prototype.formatAt.call(this,0,this.length(),f,h)},c.prototype.formatAt=function(f,h,d,p){f===0&&h===this.length()?this.format(d,p):l.prototype.formatAt.call(this,f,h,d,p)},c.prototype.formats=function(){return this.statics.formats(this.domNode)},c}(o.default);r.default=a},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){c(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=i(1),l=function(c){s(f,c);function f(h){var d=c.call(this,h)||this;return d.text=d.statics.value(d.domNode),d}return f.create=function(h){return document.createTextNode(h)},f.value=function(h){var d=h.data;return d.normalize&&(d=d.normalize()),d},f.prototype.deleteAt=function(h,d){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+d)},f.prototype.index=function(h,d){return this.domNode===h?d:-1},f.prototype.insertAt=function(h,d,p){p==null?(this.text=this.text.slice(0,h)+d+this.text.slice(h),this.domNode.data=this.text):c.prototype.insertAt.call(this,h,d,p)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(h){c.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(h,d){return[this.domNode,h]},f.prototype.split=function(h,d){if(d===void 0&&(d=!1),!d){if(h===0)return this;if(h===this.length())return this.next}var p=a.create(this.domNode.splitText(h));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},f.prototype.update=function(h,d){var p=this;h.some(function(w){return w.type==="characterData"&&w.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=a.Scope.INLINE_BLOT,f}(o.default);r.default=l},function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:o.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var c=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>c.length)&&(l=c.length),l-=a.length;var f=c.indexOf(a,l);return f!==-1&&f===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var c=Object(this),f=c.length>>>0,h=arguments[1],d,p=0;p<f;p++)if(d=c[p],l.call(h,d,p,c))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,s=1,o=0;function a(v,S,P){if(v==S)return v?[[o,v]]:[];(P<0||v.length<P)&&(P=null);var I=h(v,S),x=v.substring(0,I);v=v.substring(I),S=S.substring(I),I=d(v,S);var N=v.substring(v.length-I);v=v.substring(0,v.length-I),S=S.substring(0,S.length-I);var b=l(v,S);return x&&b.unshift([o,x]),N&&b.push([o,N]),w(b),P!=null&&(b=g(b,P)),b=m(b),b}function l(v,S){var P;if(!v)return[[s,S]];if(!S)return[[i,v]];var I=v.length>S.length?v:S,x=v.length>S.length?S:v,N=I.indexOf(x);if(N!=-1)return P=[[s,I.substring(0,N)],[o,x],[s,I.substring(N+x.length)]],v.length>S.length&&(P[0][0]=P[2][0]=i),P;if(x.length==1)return[[i,v],[s,S]];var b=p(v,S);if(b){var A=b[0],C=b[1],M=b[2],j=b[3],$=b[4],H=a(A,M),G=a(C,j);return H.concat([[o,$]],G)}return c(v,S)}function c(v,S){for(var P=v.length,I=S.length,x=Math.ceil((P+I)/2),N=x,b=2*x,A=new Array(b),C=new Array(b),M=0;M<b;M++)A[M]=-1,C[M]=-1;A[N+1]=0,C[N+1]=0;for(var j=P-I,$=j%2!=0,H=0,G=0,Q=0,z=0,F=0;F<x;F++){for(var D=-F+H;D<=F-G;D+=2){var V=N+D,B;D==-F||D!=F&&A[V-1]<A[V+1]?B=A[V+1]:B=A[V-1]+1;for(var Z=B-D;B<P&&Z<I&&v.charAt(B)==S.charAt(Z);)B++,Z++;if(A[V]=B,B>P)G+=2;else if(Z>I)H+=2;else if($){var q=N+j-D;if(q>=0&&q<b&&C[q]!=-1){var U=P-C[q];if(B>=U)return f(v,S,B,Z)}}}for(var Y=-F+Q;Y<=F-z;Y+=2){var q=N+Y,U;Y==-F||Y!=F&&C[q-1]<C[q+1]?U=C[q+1]:U=C[q-1]+1;for(var X=U-Y;U<P&&X<I&&v.charAt(P-U-1)==S.charAt(I-X-1);)U++,X++;if(C[q]=U,U>P)z+=2;else if(X>I)Q+=2;else if(!$){var V=N+j-Y;if(V>=0&&V<b&&A[V]!=-1){var B=A[V],Z=N+B-V;if(U=P-U,B>=U)return f(v,S,B,Z)}}}}return[[i,v],[s,S]]}function f(v,S,P,I){var x=v.substring(0,P),N=S.substring(0,I),b=v.substring(P),A=S.substring(I),C=a(x,N),M=a(b,A);return C.concat(M)}function h(v,S){if(!v||!S||v.charAt(0)!=S.charAt(0))return 0;for(var P=0,I=Math.min(v.length,S.length),x=I,N=0;P<x;)v.substring(N,x)==S.substring(N,x)?(P=x,N=P):I=x,x=Math.floor((I-P)/2+P);return x}function d(v,S){if(!v||!S||v.charAt(v.length-1)!=S.charAt(S.length-1))return 0;for(var P=0,I=Math.min(v.length,S.length),x=I,N=0;P<x;)v.substring(v.length-x,v.length-N)==S.substring(S.length-x,S.length-N)?(P=x,N=P):I=x,x=Math.floor((I-P)/2+P);return x}function p(v,S){var P=v.length>S.length?v:S,I=v.length>S.length?S:v;if(P.length<4||I.length*2<P.length)return null;function x(G,Q,z){for(var F=G.substring(z,z+Math.floor(G.length/4)),D=-1,V="",B,Z,q,U;(D=Q.indexOf(F,D+1))!=-1;){var Y=h(G.substring(z),Q.substring(D)),X=d(G.substring(0,z),Q.substring(0,D));V.length<X+Y&&(V=Q.substring(D-X,D)+Q.substring(D,D+Y),B=G.substring(0,z-X),Z=G.substring(z+Y),q=Q.substring(0,D-X),U=Q.substring(D+Y))}return V.length*2>=G.length?[B,Z,q,U,V]:null}var N=x(P,I,Math.ceil(P.length/4)),b=x(P,I,Math.ceil(P.length/2)),A;if(!N&&!b)return null;b?N?A=N[4].length>b[4].length?N:b:A=b:A=N;var C,M,j,$;v.length>S.length?(C=A[0],M=A[1],j=A[2],$=A[3]):(j=A[0],$=A[1],C=A[2],M=A[3]);var H=A[4];return[C,M,j,$,H]}function w(v){v.push([o,""]);for(var S=0,P=0,I=0,x="",N="",b;S<v.length;)switch(v[S][0]){case s:I++,N+=v[S][1],S++;break;case i:P++,x+=v[S][1],S++;break;case o:P+I>1?(P!==0&&I!==0&&(b=h(N,x),b!==0&&(S-P-I>0&&v[S-P-I-1][0]==o?v[S-P-I-1][1]+=N.substring(0,b):(v.splice(0,0,[o,N.substring(0,b)]),S++),N=N.substring(b),x=x.substring(b)),b=d(N,x),b!==0&&(v[S][1]=N.substring(N.length-b)+v[S][1],N=N.substring(0,N.length-b),x=x.substring(0,x.length-b))),P===0?v.splice(S-I,P+I,[s,N]):I===0?v.splice(S-P,P+I,[i,x]):v.splice(S-P-I,P+I,[i,x],[s,N]),S=S-P-I+(P?1:0)+(I?1:0)+1):S!==0&&v[S-1][0]==o?(v[S-1][1]+=v[S][1],v.splice(S,1)):S++,I=0,P=0,x="",N="";break}v[v.length-1][1]===""&&v.pop();var A=!1;for(S=1;S<v.length-1;)v[S-1][0]==o&&v[S+1][0]==o&&(v[S][1].substring(v[S][1].length-v[S-1][1].length)==v[S-1][1]?(v[S][1]=v[S-1][1]+v[S][1].substring(0,v[S][1].length-v[S-1][1].length),v[S+1][1]=v[S-1][1]+v[S+1][1],v.splice(S-1,1),A=!0):v[S][1].substring(0,v[S+1][1].length)==v[S+1][1]&&(v[S-1][1]+=v[S+1][1],v[S][1]=v[S][1].substring(v[S+1][1].length)+v[S+1][1],v.splice(S+1,1),A=!0)),S++;A&&w(v)}var E=a;E.INSERT=s,E.DELETE=i,E.EQUAL=o,n.exports=E;function _(v,S){if(S===0)return[o,v];for(var P=0,I=0;I<v.length;I++){var x=v[I];if(x[0]===i||x[0]===o){var N=P+x[1].length;if(S===N)return[I+1,v];if(S<N){v=v.slice();var b=S-P,A=[x[0],x[1].slice(0,b)],C=[x[0],x[1].slice(b)];return v.splice(I,1,A,C),[I+1,v]}else P=N}}throw new Error("cursor_pos is out of bounds!")}function g(v,S){var P=_(v,S),I=P[1],x=P[0],N=I[x],b=I[x+1];if(N==null)return v;if(N[0]!==o)return v;if(b!=null&&N[1]+b[1]===b[1]+N[1])return I.splice(x,2,b,N),T(I,x,2);if(b!=null&&b[1].indexOf(N[1])===0){I.splice(x,2,[b[0],N[1]],[0,N[1]]);var A=b[1].slice(N[1].length);return A.length>0&&I.splice(x+2,0,[b[0],A]),T(I,x,3)}else return v}function m(v){for(var S=!1,P=function(b){return b.charCodeAt(0)>=56320&&b.charCodeAt(0)<=57343},I=function(b){return b.charCodeAt(b.length-1)>=55296&&b.charCodeAt(b.length-1)<=56319},x=2;x<v.length;x+=1)v[x-2][0]===o&&I(v[x-2][1])&&v[x-1][0]===i&&P(v[x-1][1])&&v[x][0]===s&&P(v[x][1])&&(S=!0,v[x-1][1]=v[x-2][1].slice(-1)+v[x-1][1],v[x][1]=v[x-2][1].slice(-1)+v[x][1],v[x-2][1]=v[x-2][1].slice(0,-1));if(!S)return v;for(var N=[],x=0;x<v.length;x+=1)v[x][1].length>0&&N.push(v[x]);return N}function T(v,S,P){for(var I=S+P-1;I>=0&&I>=S-1;I--)if(I+1<v.length){var x=v[I],N=v[I+1];x[0]===N[1]&&v.splice(I,2,[x[0],x[1]+N[1]])}return v}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var o=[];for(var a in s)o.push(a);return o}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?s:o,r.supported=s;function s(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=o;function o(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function a(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,d;if(this._eventsCount===0)return f;for(d in h=this._events)i.call(h,d)&&f.push(s?d.slice(1):d);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f,h){var d=s?s+f:f,p=this._events[d];if(h)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var w=0,E=p.length,_=new Array(E);w<E;w++)_[w]=p[w].fn;return _},l.prototype.emit=function(f,h,d,p,w,E){var _=s?s+f:f;if(!this._events[_])return!1;var g=this._events[_],m=arguments.length,T,v;if(g.fn){switch(g.once&&this.removeListener(f,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,h),!0;case 3:return g.fn.call(g.context,h,d),!0;case 4:return g.fn.call(g.context,h,d,p),!0;case 5:return g.fn.call(g.context,h,d,p,w),!0;case 6:return g.fn.call(g.context,h,d,p,w,E),!0}for(v=1,T=new Array(m-1);v<m;v++)T[v-1]=arguments[v];g.fn.apply(g.context,T)}else{var S=g.length,P;for(v=0;v<S;v++)switch(g[v].once&&this.removeListener(f,g[v].fn,void 0,!0),m){case 1:g[v].fn.call(g[v].context);break;case 2:g[v].fn.call(g[v].context,h);break;case 3:g[v].fn.call(g[v].context,h,d);break;case 4:g[v].fn.call(g[v].context,h,d,p);break;default:if(!T)for(P=1,T=new Array(m-1);P<m;P++)T[P-1]=arguments[P];g[v].fn.apply(g[v].context,T)}}return!0},l.prototype.on=function(f,h,d){var p=new a(h,d||this),w=s?s+f:f;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],p]:this._events[w].push(p):(this._events[w]=p,this._eventsCount++),this},l.prototype.once=function(f,h,d){var p=new a(h,d||this,!0),w=s?s+f:f;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],p]:this._events[w].push(p):(this._events[w]=p,this._eventsCount++),this},l.prototype.removeListener=function(f,h,d,p){var w=s?s+f:f;if(!this._events[w])return this;if(!h)return--this._eventsCount===0?this._events=new o:delete this._events[w],this;var E=this._events[w];if(E.fn)E.fn===h&&(!p||E.once)&&(!d||E.context===d)&&(--this._eventsCount===0?this._events=new o:delete this._events[w]);else{for(var _=0,g=[],m=E.length;_<m;_++)(E[_].fn!==h||p&&!E[_].once||d&&E[_].context!==d)&&g.push(E[_]);g.length?this._events[w]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new o:delete this._events[w]}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=s?s+f:f,this._events[h]&&(--this._eventsCount===0?this._events=new o:delete this._events[h])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},o=function(){function te(ne,fe){var ce=[],re=!0,Re=!1,Ce=void 0;try{for(var Se=ne[Symbol.iterator](),Mn;!(re=(Mn=Se.next()).done)&&(ce.push(Mn.value),!(fe&&ce.length===fe));re=!0);}catch(Ln){Re=!0,Ce=Ln}finally{try{!re&&Se.return&&Se.return()}finally{if(Re)throw Ce}}return ce}return function(ne,fe){if(Array.isArray(ne))return ne;if(Symbol.iterator in Object(ne))return te(ne,fe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function te(ne,fe){for(var ce=0;ce<fe.length;ce++){var re=fe[ce];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(ne,re.key,re)}}return function(ne,fe,ce){return fe&&te(ne.prototype,fe),ce&&te(ne,ce),ne}}(),l=i(3),c=C(l),f=i(2),h=C(f),d=i(0),p=C(d),w=i(5),E=C(w),_=i(10),g=C(_),m=i(9),T=C(m),v=i(36),S=i(37),P=i(13),I=C(P),x=i(26),N=i(38),b=i(39),A=i(40);function C(te){return te&&te.__esModule?te:{default:te}}function M(te,ne,fe){return ne in te?Object.defineProperty(te,ne,{value:fe,enumerable:!0,configurable:!0,writable:!0}):te[ne]=fe,te}function j(te,ne){if(!(te instanceof ne))throw new TypeError("Cannot call a class as a function")}function $(te,ne){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne&&(typeof ne=="object"||typeof ne=="function")?ne:te}function H(te,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ne);te.prototype=Object.create(ne&&ne.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),ne&&(Object.setPrototypeOf?Object.setPrototypeOf(te,ne):te.__proto__=ne)}var G=(0,g.default)("quill:clipboard"),Q="__ql-matcher",z=[[Node.TEXT_NODE,Dt],[Node.TEXT_NODE,Ve],["br",pe],[Node.ELEMENT_NODE,Ve],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,Ze],[Node.ELEMENT_NODE,J],[Node.ELEMENT_NODE,un],["li",Ae],["b",X.bind(X,"bold")],["i",X.bind(X,"italic")],["style",be]],F=[v.AlignAttribute,N.DirectionAttribute].reduce(function(te,ne){return te[ne.keyName]=ne,te},{}),D=[v.AlignStyle,S.BackgroundStyle,x.ColorStyle,N.DirectionStyle,b.FontStyle,A.SizeStyle].reduce(function(te,ne){return te[ne.keyName]=ne,te},{}),V=function(te){H(ne,te);function ne(fe,ce){j(this,ne);var re=$(this,(ne.__proto__||Object.getPrototypeOf(ne)).call(this,fe,ce));return re.quill.root.addEventListener("paste",re.onPaste.bind(re)),re.container=re.quill.addContainer("ql-clipboard"),re.container.setAttribute("contenteditable",!0),re.container.setAttribute("tabindex",-1),re.matchers=[],z.concat(re.options.matchers).forEach(function(Re){var Ce=o(Re,2),Se=Ce[0],Mn=Ce[1];!ce.matchVisual&&Mn===Ze||re.addMatcher(Se,Mn)}),re}return a(ne,[{key:"addMatcher",value:function(ce,re){this.matchers.push([ce,re])}},{key:"convert",value:function(ce){if(typeof ce=="string")return this.container.innerHTML=ce.replace(/\>\r?\n +\</g,"><"),this.convert();var re=this.quill.getFormat(this.quill.selection.savedRange.index);if(re[I.default.blotName]){var Re=this.container.innerText;return this.container.innerHTML="",new h.default().insert(Re,M({},I.default.blotName,re[I.default.blotName]))}var Ce=this.prepareMatching(),Se=o(Ce,2),Mn=Se[0],Ln=Se[1],Fe=Y(this.container,Mn,Ln);return q(Fe,`
`)&&Fe.ops[Fe.ops.length-1].attributes==null&&(Fe=Fe.compose(new h.default().retain(Fe.length()-1).delete(1))),G.log("convert",this.container.innerHTML,Fe),this.container.innerHTML="",Fe}},{key:"dangerouslyPasteHTML",value:function(ce,re){var Re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E.default.sources.API;if(typeof ce=="string")this.quill.setContents(this.convert(ce),re),this.quill.setSelection(0,E.default.sources.SILENT);else{var Ce=this.convert(re);this.quill.updateContents(new h.default().retain(ce).concat(Ce),Re),this.quill.setSelection(ce+Ce.length(),E.default.sources.SILENT)}}},{key:"onPaste",value:function(ce){var re=this;if(!(ce.defaultPrevented||!this.quill.isEnabled())){var Re=this.quill.getSelection(),Ce=new h.default().retain(Re.index),Se=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(E.default.sources.SILENT),setTimeout(function(){Ce=Ce.concat(re.convert()).delete(Re.length),re.quill.updateContents(Ce,E.default.sources.USER),re.quill.setSelection(Ce.length()-Re.length,E.default.sources.SILENT),re.quill.scrollingContainer.scrollTop=Se,re.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ce=this,re=[],Re=[];return this.matchers.forEach(function(Ce){var Se=o(Ce,2),Mn=Se[0],Ln=Se[1];switch(Mn){case Node.TEXT_NODE:Re.push(Ln);break;case Node.ELEMENT_NODE:re.push(Ln);break;default:[].forEach.call(ce.container.querySelectorAll(Mn),function(Fe){Fe[Q]=Fe[Q]||[],Fe[Q].push(Ln)});break}}),[re,Re]}}]),ne}(T.default);V.DEFAULTS={matchers:[],matchVisual:!0};function B(te,ne,fe){return(typeof ne>"u"?"undefined":s(ne))==="object"?Object.keys(ne).reduce(function(ce,re){return B(ce,re,ne[re])},te):te.reduce(function(ce,re){return re.attributes&&re.attributes[ne]?ce.push(re):ce.insert(re.insert,(0,c.default)({},M({},ne,fe),re.attributes))},new h.default)}function Z(te){if(te.nodeType!==Node.ELEMENT_NODE)return{};var ne="__ql-computed-style";return te[ne]||(te[ne]=window.getComputedStyle(te))}function q(te,ne){for(var fe="",ce=te.ops.length-1;ce>=0&&fe.length<ne.length;--ce){var re=te.ops[ce];if(typeof re.insert!="string")break;fe=re.insert+fe}return fe.slice(-1*ne.length)===ne}function U(te){if(te.childNodes.length===0)return!1;var ne=Z(te);return["block","list-item"].indexOf(ne.display)>-1}function Y(te,ne,fe){return te.nodeType===te.TEXT_NODE?fe.reduce(function(ce,re){return re(te,ce)},new h.default):te.nodeType===te.ELEMENT_NODE?[].reduce.call(te.childNodes||[],function(ce,re){var Re=Y(re,ne,fe);return re.nodeType===te.ELEMENT_NODE&&(Re=ne.reduce(function(Ce,Se){return Se(re,Ce)},Re),Re=(re[Q]||[]).reduce(function(Ce,Se){return Se(re,Ce)},Re)),ce.concat(Re)},new h.default):new h.default}function X(te,ne,fe){return B(fe,te,!0)}function J(te,ne){var fe=p.default.Attributor.Attribute.keys(te),ce=p.default.Attributor.Class.keys(te),re=p.default.Attributor.Style.keys(te),Re={};return fe.concat(ce).concat(re).forEach(function(Ce){var Se=p.default.query(Ce,p.default.Scope.ATTRIBUTE);Se!=null&&(Re[Se.attrName]=Se.value(te),Re[Se.attrName])||(Se=F[Ce],Se!=null&&(Se.attrName===Ce||Se.keyName===Ce)&&(Re[Se.attrName]=Se.value(te)||void 0),Se=D[Ce],Se!=null&&(Se.attrName===Ce||Se.keyName===Ce)&&(Se=D[Ce],Re[Se.attrName]=Se.value(te)||void 0))}),Object.keys(Re).length>0&&(ne=B(ne,Re)),ne}function se(te,ne){var fe=p.default.query(te);if(fe==null)return ne;if(fe.prototype instanceof p.default.Embed){var ce={},re=fe.value(te);re!=null&&(ce[fe.blotName]=re,ne=new h.default().insert(ce,fe.formats(te)))}else typeof fe.formats=="function"&&(ne=B(ne,fe.blotName,fe.formats(te)));return ne}function pe(te,ne){return q(ne,`
`)||ne.insert(`
`),ne}function be(){return new h.default}function Ae(te,ne){var fe=p.default.query(te);if(fe==null||fe.blotName!=="list-item"||!q(ne,`
`))return ne;for(var ce=-1,re=te.parentNode;!re.classList.contains("ql-clipboard");)(p.default.query(re)||{}).blotName==="list"&&(ce+=1),re=re.parentNode;return ce<=0?ne:ne.compose(new h.default().retain(ne.length()-1).retain(1,{indent:ce}))}function Ve(te,ne){return q(ne,`
`)||(U(te)||ne.length()>0&&te.nextSibling&&U(te.nextSibling))&&ne.insert(`
`),ne}function Ze(te,ne){if(U(te)&&te.nextElementSibling!=null&&!q(ne,`

`)){var fe=te.offsetHeight+parseFloat(Z(te).marginTop)+parseFloat(Z(te).marginBottom);te.nextElementSibling.offsetTop>te.offsetTop+fe*1.5&&ne.insert(`
`)}return ne}function un(te,ne){var fe={},ce=te.style||{};return ce.fontStyle&&Z(te).fontStyle==="italic"&&(fe.italic=!0),ce.fontWeight&&(Z(te).fontWeight.startsWith("bold")||parseInt(Z(te).fontWeight)>=700)&&(fe.bold=!0),Object.keys(fe).length>0&&(ne=B(ne,fe)),parseFloat(ce.textIndent||0)>0&&(ne=new h.default().insert("	").concat(ne)),ne}function Dt(te,ne){var fe=te.data;if(te.parentNode.tagName==="O:P")return ne.insert(fe.trim());if(fe.trim().length===0&&te.parentNode.classList.contains("ql-clipboard"))return ne;if(!Z(te.parentNode).whiteSpace.startsWith("pre")){var ce=function(Re,Ce){return Ce=Ce.replace(/[^\u00a0]/g,""),Ce.length<1&&Re?" ":Ce};fe=fe.replace(/\r\n/g," ").replace(/\n/g," "),fe=fe.replace(/\s\s+/g,ce.bind(ce,!0)),(te.previousSibling==null&&U(te.parentNode)||te.previousSibling!=null&&U(te.previousSibling))&&(fe=fe.replace(/^\s+/,ce.bind(ce,!1))),(te.nextSibling==null&&U(te.parentNode)||te.nextSibling!=null&&U(te.nextSibling))&&(fe=fe.replace(/\s+$/,ce.bind(ce,!1)))}return ne.insert(fe)}r.default=V,r.matchAttributor=J,r.matchBlot=se,r.matchNewline=Ve,r.matchSpacing=Ze,r.matchText=Dt},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(E,_){for(var g=0;g<_.length;g++){var m=_[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(E,m.key,m)}}return function(E,_,g){return _&&w(E.prototype,_),g&&w(E,g),E}}(),o=function w(E,_,g){E===null&&(E=Function.prototype);var m=Object.getOwnPropertyDescriptor(E,_);if(m===void 0){var T=Object.getPrototypeOf(E);return T===null?void 0:w(T,_,g)}else{if("value"in m)return m.value;var v=m.get;return v===void 0?void 0:v.call(g)}},a=i(6),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function h(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function d(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var p=function(w){d(E,w);function E(){return f(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return s(E,[{key:"optimize",value:function(g){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),E}(l.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=function(){function A(C,M){var j=[],$=!0,H=!1,G=void 0;try{for(var Q=C[Symbol.iterator](),z;!($=(z=Q.next()).done)&&(j.push(z.value),!(M&&j.length===M));$=!0);}catch(F){H=!0,G=F}finally{try{!$&&Q.return&&Q.return()}finally{if(H)throw G}}return j}return function(C,M){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return A(C,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function A(C,M){for(var j=0;j<M.length;j++){var $=M[j];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(C,$.key,$)}}return function(C,M,j){return M&&A(C.prototype,M),j&&A(C,j),C}}(),a=i(2),l=g(a),c=i(0),f=g(c),h=i(5),d=g(h),p=i(10),w=g(p),E=i(9),_=g(E);function g(A){return A&&A.__esModule?A:{default:A}}function m(A,C,M){return C in A?Object.defineProperty(A,C,{value:M,enumerable:!0,configurable:!0,writable:!0}):A[C]=M,A}function T(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function v(A,C){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:A}function S(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}var P=(0,w.default)("quill:toolbar"),I=function(A){S(C,A);function C(M,j){T(this,C);var $=v(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,M,j));if(Array.isArray($.options.container)){var H=document.createElement("div");N(H,$.options.container),M.container.parentNode.insertBefore(H,M.container),$.container=H}else typeof $.options.container=="string"?$.container=document.querySelector($.options.container):$.container=$.options.container;if(!($.container instanceof HTMLElement)){var G;return G=P.error("Container required for toolbar",$.options),v($,G)}return $.container.classList.add("ql-toolbar"),$.controls=[],$.handlers={},Object.keys($.options.handlers).forEach(function(Q){$.addHandler(Q,$.options.handlers[Q])}),[].forEach.call($.container.querySelectorAll("button, select"),function(Q){$.attach(Q)}),$.quill.on(d.default.events.EDITOR_CHANGE,function(Q,z){Q===d.default.events.SELECTION_CHANGE&&$.update(z)}),$.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var Q=$.quill.selection.getRange(),z=s(Q,1),F=z[0];$.update(F)}),$}return o(C,[{key:"addHandler",value:function(j,$){this.handlers[j]=$}},{key:"attach",value:function(j){var $=this,H=[].find.call(j.classList,function(Q){return Q.indexOf("ql-")===0});if(H){if(H=H.slice(3),j.tagName==="BUTTON"&&j.setAttribute("type","button"),this.handlers[H]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[H]==null){P.warn("ignoring attaching to disabled format",H,j);return}if(f.default.query(H)==null){P.warn("ignoring attaching to nonexistent format",H,j);return}}var G=j.tagName==="SELECT"?"change":"click";j.addEventListener(G,function(Q){var z=void 0;if(j.tagName==="SELECT"){if(j.selectedIndex<0)return;var F=j.options[j.selectedIndex];F.hasAttribute("selected")?z=!1:z=F.value||!1}else j.classList.contains("ql-active")?z=!1:z=j.value||!j.hasAttribute("value"),Q.preventDefault();$.quill.focus();var D=$.quill.selection.getRange(),V=s(D,1),B=V[0];if($.handlers[H]!=null)$.handlers[H].call($,z);else if(f.default.query(H).prototype instanceof f.default.Embed){if(z=prompt("Enter "+H),!z)return;$.quill.updateContents(new l.default().retain(B.index).delete(B.length).insert(m({},H,z)),d.default.sources.USER)}else $.quill.format(H,z,d.default.sources.USER);$.update(B)}),this.controls.push([H,j])}}},{key:"update",value:function(j){var $=j==null?{}:this.quill.getFormat(j);this.controls.forEach(function(H){var G=s(H,2),Q=G[0],z=G[1];if(z.tagName==="SELECT"){var F=void 0;if(j==null)F=null;else if($[Q]==null)F=z.querySelector("option[selected]");else if(!Array.isArray($[Q])){var D=$[Q];typeof D=="string"&&(D=D.replace(/\"/g,'\\"')),F=z.querySelector('option[value="'+D+'"]')}F==null?(z.value="",z.selectedIndex=-1):F.selected=!0}else if(j==null)z.classList.remove("ql-active");else if(z.hasAttribute("value")){var V=$[Q]===z.getAttribute("value")||$[Q]!=null&&$[Q].toString()===z.getAttribute("value")||$[Q]==null&&!z.getAttribute("value");z.classList.toggle("ql-active",V)}else z.classList.toggle("ql-active",$[Q]!=null)})}}]),C}(_.default);I.DEFAULTS={};function x(A,C,M){var j=document.createElement("button");j.setAttribute("type","button"),j.classList.add("ql-"+C),M!=null&&(j.value=M),A.appendChild(j)}function N(A,C){Array.isArray(C[0])||(C=[C]),C.forEach(function(M){var j=document.createElement("span");j.classList.add("ql-formats"),M.forEach(function($){if(typeof $=="string")x(j,$);else{var H=Object.keys($)[0],G=$[H];Array.isArray(G)?b(j,H,G):x(j,H,G)}}),A.appendChild(j)})}function b(A,C,M){var j=document.createElement("select");j.classList.add("ql-"+C),M.forEach(function($){var H=document.createElement("option");$!==!1?H.setAttribute("value",$):H.setAttribute("selected","selected"),j.appendChild(H)}),A.appendChild(j)}I.DEFAULTS={container:null,handlers:{clean:function(){var C=this,M=this.quill.getSelection();if(M!=null)if(M.length==0){var j=this.quill.getFormat();Object.keys(j).forEach(function($){f.default.query($,f.default.Scope.INLINE)!=null&&C.quill.format($,!1)})}else this.quill.removeFormat(M,d.default.sources.USER)},direction:function(C){var M=this.quill.getFormat().align;C==="rtl"&&M==null?this.quill.format("align","right",d.default.sources.USER):!C&&M==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",C,d.default.sources.USER)},indent:function(C){var M=this.quill.getSelection(),j=this.quill.getFormat(M),$=parseInt(j.indent||0);if(C==="+1"||C==="-1"){var H=C==="+1"?1:-1;j.direction==="rtl"&&(H*=-1),this.quill.format("indent",$+H,d.default.sources.USER)}},link:function(C){C===!0&&(C=prompt("Enter link URL:")),this.quill.format("link",C,d.default.sources.USER)},list:function(C){var M=this.quill.getSelection(),j=this.quill.getFormat(M);C==="check"?j.list==="checked"||j.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",C,d.default.sources.USER)}}},r.default=I,r.addControls=N},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(E,_){for(var g=0;g<_.length;g++){var m=_[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(E,m.key,m)}}return function(E,_,g){return _&&w(E.prototype,_),g&&w(E,g),E}}(),o=function w(E,_,g){E===null&&(E=Function.prototype);var m=Object.getOwnPropertyDescriptor(E,_);if(m===void 0){var T=Object.getPrototypeOf(E);return T===null?void 0:w(T,_,g)}else{if("value"in m)return m.value;var v=m.get;return v===void 0?void 0:v.call(g)}},a=i(28),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function h(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function d(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var p=function(w){d(E,w);function E(_,g){f(this,E);var m=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,_));return m.label.innerHTML=g,m.container.classList.add("ql-color-picker"),[].slice.call(m.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(T){T.classList.add("ql-primary")}),m}return s(E,[{key:"buildItem",value:function(g){var m=o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"buildItem",this).call(this,g);return m.style.backgroundColor=g.getAttribute("value")||"",m}},{key:"selectItem",value:function(g,m){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"selectItem",this).call(this,g,m);var T=this.label.querySelector(".ql-color-label"),v=g&&g.getAttribute("data-value")||"";T&&(T.tagName==="line"?T.style.stroke=v:T.style.fill=v)}}]),E}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(E,_){for(var g=0;g<_.length;g++){var m=_[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(E,m.key,m)}}return function(E,_,g){return _&&w(E.prototype,_),g&&w(E,g),E}}(),o=function w(E,_,g){E===null&&(E=Function.prototype);var m=Object.getOwnPropertyDescriptor(E,_);if(m===void 0){var T=Object.getPrototypeOf(E);return T===null?void 0:w(T,_,g)}else{if("value"in m)return m.value;var v=m.get;return v===void 0?void 0:v.call(g)}},a=i(28),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function h(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function d(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var p=function(w){d(E,w);function E(_,g){f(this,E);var m=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,_));return m.container.classList.add("ql-icon-picker"),[].forEach.call(m.container.querySelectorAll(".ql-picker-item"),function(T){T.innerHTML=g[T.getAttribute("data-value")||""]}),m.defaultItem=m.container.querySelector(".ql-selected"),m.selectItem(m.defaultItem),m}return s(E,[{key:"selectItem",value:function(g,m){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"selectItem",this).call(this,g,m),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),E}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(c,f){for(var h=0;h<f.length;h++){var d=f[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,f,h){return f&&l(c.prototype,f),h&&l(c,h),c}}();function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(c,f){var h=this;o(this,l),this.quill=c,this.boundsContainer=f||document.body,this.root=c.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var h=f.left+f.width/2-this.root.offsetWidth/2,d=f.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),w=this.root.getBoundingClientRect(),E=0;if(w.right>p.right&&(E=p.right-w.right,this.root.style.left=h+E+"px"),w.left<p.left&&(E=p.left-w.left,this.root.style.left=h+E+"px"),w.bottom>p.bottom){var _=w.bottom-w.top,g=f.bottom-f.top+_;this.root.style.top=d-g+"px",this.root.classList.add("ql-flip")}return E}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function b(A,C){var M=[],j=!0,$=!1,H=void 0;try{for(var G=A[Symbol.iterator](),Q;!(j=(Q=G.next()).done)&&(M.push(Q.value),!(C&&M.length===C));j=!0);}catch(z){$=!0,H=z}finally{try{!j&&G.return&&G.return()}finally{if($)throw H}}return M}return function(A,C){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return b(A,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function b(A,C,M){A===null&&(A=Function.prototype);var j=Object.getOwnPropertyDescriptor(A,C);if(j===void 0){var $=Object.getPrototypeOf(A);return $===null?void 0:b($,C,M)}else{if("value"in j)return j.value;var H=j.get;return H===void 0?void 0:H.call(M)}},a=function(){function b(A,C){for(var M=0;M<C.length;M++){var j=C[M];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(A,j.key,j)}}return function(A,C,M){return C&&b(A.prototype,C),M&&b(A,M),A}}(),l=i(3),c=T(l),f=i(8),h=T(f),d=i(43),p=T(d),w=i(27),E=T(w),_=i(15),g=i(41),m=T(g);function T(b){return b&&b.__esModule?b:{default:b}}function v(b,A){if(!(b instanceof A))throw new TypeError("Cannot call a class as a function")}function S(b,A){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:b}function P(b,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);b.prototype=Object.create(A&&A.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(b,A):b.__proto__=A)}var I=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],x=function(b){P(A,b);function A(C,M){v(this,A),M.modules.toolbar!=null&&M.modules.toolbar.container==null&&(M.modules.toolbar.container=I);var j=S(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,C,M));return j.quill.container.classList.add("ql-snow"),j}return a(A,[{key:"extendToolbar",value:function(M){M.container.classList.add("ql-snow"),this.buildButtons([].slice.call(M.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(M.container.querySelectorAll("select")),m.default),this.tooltip=new N(this.quill,this.options.bounds),M.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(j,$){M.handlers.link.call(M,!$.format.link)})}}]),A}(p.default);x.DEFAULTS=(0,c.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){if(A){var C=this.quill.getSelection();if(C==null||C.length==0)return;var M=this.quill.getText(C);/^\S+@\S+\.\S+$/.test(M)&&M.indexOf("mailto:")!==0&&(M="mailto:"+M);var j=this.quill.theme.tooltip;j.edit("link",M)}else this.quill.format("link",!1)}}}}});var N=function(b){P(A,b);function A(C,M){v(this,A);var j=S(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,C,M));return j.preview=j.root.querySelector("a.ql-preview"),j}return a(A,[{key:"listen",value:function(){var M=this;o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(j){M.root.classList.contains("ql-editing")?M.save():M.edit("link",M.preview.textContent),j.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(j){if(M.linkRange!=null){var $=M.linkRange;M.restoreFocus(),M.quill.formatText($,"link",!1,h.default.sources.USER),delete M.linkRange}j.preventDefault(),M.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(j,$,H){if(j!=null){if(j.length===0&&H===h.default.sources.USER){var G=M.quill.scroll.descendant(E.default,j.index),Q=s(G,2),z=Q[0],F=Q[1];if(z!=null){M.linkRange=new _.Range(j.index-F,z.length());var D=E.default.formats(z.domNode);M.preview.textContent=D,M.preview.setAttribute("href",D),M.show(),M.position(M.quill.getBounds(M.linkRange));return}}else delete M.linkRange;M.hide()}})}},{key:"show",value:function(){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),A}(d.BaseTooltip);N.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),o=re(s),a=i(36),l=i(38),c=i(64),f=i(65),h=re(f),d=i(66),p=re(d),w=i(67),E=re(w),_=i(37),g=i(26),m=i(39),T=i(40),v=i(56),S=re(v),P=i(68),I=re(P),x=i(27),N=re(x),b=i(69),A=re(b),C=i(70),M=re(C),j=i(71),$=re(j),H=i(72),G=re(H),Q=i(73),z=re(Q),F=i(13),D=re(F),V=i(74),B=re(V),Z=i(75),q=re(Z),U=i(57),Y=re(U),X=i(41),J=re(X),se=i(28),pe=re(se),be=i(59),Ae=re(be),Ve=i(60),Ze=re(Ve),un=i(61),Dt=re(un),te=i(108),ne=re(te),fe=i(62),ce=re(fe);function re(Re){return Re&&Re.__esModule?Re:{default:Re}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":T.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":T.SizeStyle},!0),o.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":c.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":m.FontClass,"formats/size":T.SizeClass,"formats/blockquote":h.default,"formats/code-block":D.default,"formats/header":p.default,"formats/list":E.default,"formats/bold":S.default,"formats/code":F.Code,"formats/italic":I.default,"formats/link":N.default,"formats/script":A.default,"formats/strike":M.default,"formats/underline":$.default,"formats/image":G.default,"formats/video":z.default,"formats/list/item":w.ListItem,"modules/formula":B.default,"modules/syntax":q.default,"modules/toolbar":Y.default,"themes/bubble":ne.default,"themes/snow":ce.default,"ui/icons":J.default,"ui/picker":pe.default,"ui/icon-picker":Ze.default,"ui/color-picker":Ae.default,"ui/tooltip":Dt.default},!0),r.default=o.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=function(){function E(_,g){for(var m=0;m<g.length;m++){var T=g[m];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}return function(_,g,m){return g&&E(_.prototype,g),m&&E(_,m),_}}(),o=function E(_,g,m){_===null&&(_=Function.prototype);var T=Object.getOwnPropertyDescriptor(_,g);if(T===void 0){var v=Object.getPrototypeOf(_);return v===null?void 0:E(v,g,m)}else{if("value"in T)return T.value;var S=T.get;return S===void 0?void 0:S.call(m)}},a=i(0),l=c(a);function c(E){return E&&E.__esModule?E:{default:E}}function f(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function h(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function d(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var p=function(E){d(_,E);function _(){return f(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"add",value:function(m,T){if(T==="+1"||T==="-1"){var v=this.value(m)||0;T=T==="+1"?v+1:v-1}return T===0?(this.remove(m),!0):o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,m,T)}},{key:"canAdd",value:function(m,T){return o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,m,T)||o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,m,parseInt(T))}},{key:"value",value:function(m){return parseInt(o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,m))||void 0}}]),_}(l.default.Attributor.Class),w=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function c(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function f(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var h=function(d){f(p,d);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);h.blotName="blockquote",h.tagName="blockquote",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(w,E){for(var _=0;_<E.length;_++){var g=E[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(w,g.key,g)}}return function(w,E,_){return E&&p(w.prototype,E),_&&p(w,_),w}}(),o=i(4),a=l(o);function l(p){return p&&p.__esModule?p:{default:p}}function c(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}function f(p,w){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:p}function h(p,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);p.prototype=Object.create(w&&w.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(p,w):p.__proto__=w)}var d=function(p){h(w,p);function w(){return c(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),w}(a.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=function(){function v(S,P){for(var I=0;I<P.length;I++){var x=P[I];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(S,x.key,x)}}return function(S,P,I){return P&&v(S.prototype,P),I&&v(S,I),S}}(),o=function v(S,P,I){S===null&&(S=Function.prototype);var x=Object.getOwnPropertyDescriptor(S,P);if(x===void 0){var N=Object.getPrototypeOf(S);return N===null?void 0:v(N,P,I)}else{if("value"in x)return x.value;var b=x.get;return b===void 0?void 0:b.call(I)}},a=i(0),l=p(a),c=i(4),f=p(c),h=i(25),d=p(h);function p(v){return v&&v.__esModule?v:{default:v}}function w(v,S,P){return S in v?Object.defineProperty(v,S,{value:P,enumerable:!0,configurable:!0,writable:!0}):v[S]=P,v}function E(v,S){if(!(v instanceof S))throw new TypeError("Cannot call a class as a function")}function _(v,S){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:v}function g(v,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);v.prototype=Object.create(S&&S.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(v,S):v.__proto__=S)}var m=function(v){g(S,v);function S(){return E(this,S),_(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,[{key:"format",value:function(I,x){I===T.blotName&&!x?this.replaceWith(l.default.create(this.statics.scope)):o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,I,x)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(I,x){return this.parent.isolate(this.offset(this.parent),this.length()),I===this.parent.statics.blotName?(this.parent.replaceWith(I,x),this):(this.parent.unwrap(),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,I,x))}}],[{key:"formats",value:function(I){return I.tagName===this.tagName?void 0:o(S.__proto__||Object.getPrototypeOf(S),"formats",this).call(this,I)}}]),S}(f.default);m.blotName="list-item",m.tagName="LI";var T=function(v){g(S,v),s(S,null,[{key:"create",value:function(I){var x=I==="ordered"?"OL":"UL",N=o(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,x);return(I==="checked"||I==="unchecked")&&N.setAttribute("data-checked",I==="checked"),N}},{key:"formats",value:function(I){if(I.tagName==="OL")return"ordered";if(I.tagName==="UL")return I.hasAttribute("data-checked")?I.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function S(P){E(this,S);var I=_(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,P)),x=function(b){if(b.target.parentNode===P){var A=I.statics.formats(P),C=l.default.find(b.target);A==="checked"?C.format("list","unchecked"):A==="unchecked"&&C.format("list","checked")}};return P.addEventListener("touchstart",x),P.addEventListener("mousedown",x),I}return s(S,[{key:"format",value:function(I,x){this.children.length>0&&this.children.tail.format(I,x)}},{key:"formats",value:function(){return w({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(I,x){if(I instanceof m)o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,I,x);else{var N=x==null?this.length():x.offset(this),b=this.split(N);b.parent.insertBefore(I,b)}}},{key:"optimize",value:function(I){o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,I);var x=this.next;x!=null&&x.prev===this&&x.statics.blotName===this.statics.blotName&&x.domNode.tagName===this.domNode.tagName&&x.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(x.moveChildren(this),x.remove())}},{key:"replace",value:function(I){if(I.statics.blotName!==this.statics.blotName){var x=l.default.create(this.statics.defaultChild);I.moveChildren(x),this.appendChild(x)}o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,I)}}]),S}(d.default);T.blotName="list",T.scope=l.default.Scope.BLOCK_BLOT,T.tagName=["OL","UL"],T.defaultChild="list-item",T.allowedChildren=[m],r.ListItem=m,r.default=T},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function c(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function f(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var h=function(d){f(p,d);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);h.blotName="italic",h.tagName=["EM","I"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(E,_){for(var g=0;g<_.length;g++){var m=_[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(E,m.key,m)}}return function(E,_,g){return _&&w(E.prototype,_),g&&w(E,g),E}}(),o=function w(E,_,g){E===null&&(E=Function.prototype);var m=Object.getOwnPropertyDescriptor(E,_);if(m===void 0){var T=Object.getPrototypeOf(E);return T===null?void 0:w(T,_,g)}else{if("value"in m)return m.value;var v=m.get;return v===void 0?void 0:v.call(g)}},a=i(6),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function h(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function d(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var p=function(w){d(E,w);function E(){return f(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return s(E,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):o(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),E}(l.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function c(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function f(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var h=function(d){f(p,d);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);h.blotName="strike",h.tagName="S",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function c(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function f(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var h=function(d){f(p,d);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);h.blotName="underline",h.tagName="U",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function _(g,m){for(var T=0;T<m.length;T++){var v=m[T];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,m,T){return m&&_(g.prototype,m),T&&_(g,T),g}}(),o=function _(g,m,T){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,m);if(v===void 0){var S=Object.getPrototypeOf(g);return S===null?void 0:_(S,m,T)}else{if("value"in v)return v.value;var P=v.get;return P===void 0?void 0:P.call(T)}},a=i(0),l=f(a),c=i(27);function f(_){return _&&_.__esModule?_:{default:_}}function h(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function d(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function p(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var w=["alt","height","width"],E=function(_){p(g,_);function g(){return h(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"format",value:function(T,v){w.indexOf(T)>-1?v?this.domNode.setAttribute(T,v):this.domNode.removeAttribute(T):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,T,v)}}],[{key:"create",value:function(T){var v=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,T);return typeof T=="string"&&v.setAttribute("src",this.sanitize(T)),v}},{key:"formats",value:function(T){return w.reduce(function(v,S){return T.hasAttribute(S)&&(v[S]=T.getAttribute(S)),v},{})}},{key:"match",value:function(T){return/\.(jpe?g|gif|png)$/.test(T)||/^data:image\/.+;base64/.test(T)}},{key:"sanitize",value:function(T){return(0,c.sanitize)(T,["http","https","data"])?T:"//:0"}},{key:"value",value:function(T){return T.getAttribute("src")}}]),g}(l.default.Embed);E.blotName="image",E.tagName="IMG",r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function _(g,m){for(var T=0;T<m.length;T++){var v=m[T];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,m,T){return m&&_(g.prototype,m),T&&_(g,T),g}}(),o=function _(g,m,T){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,m);if(v===void 0){var S=Object.getPrototypeOf(g);return S===null?void 0:_(S,m,T)}else{if("value"in v)return v.value;var P=v.get;return P===void 0?void 0:P.call(T)}},a=i(4),l=i(27),c=f(l);function f(_){return _&&_.__esModule?_:{default:_}}function h(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function d(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function p(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var w=["height","width"],E=function(_){p(g,_);function g(){return h(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"format",value:function(T,v){w.indexOf(T)>-1?v?this.domNode.setAttribute(T,v):this.domNode.removeAttribute(T):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,T,v)}}],[{key:"create",value:function(T){var v=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,T);return v.setAttribute("frameborder","0"),v.setAttribute("allowfullscreen",!0),v.setAttribute("src",this.sanitize(T)),v}},{key:"formats",value:function(T){return w.reduce(function(v,S){return T.hasAttribute(S)&&(v[S]=T.getAttribute(S)),v},{})}},{key:"sanitize",value:function(T){return c.default.sanitize(T)}},{key:"value",value:function(T){return T.getAttribute("src")}}]),g}(a.BlockEmbed);E.blotName="video",E.className="ql-video",E.tagName="IFRAME",r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=function(){function T(v,S){for(var P=0;P<S.length;P++){var I=S[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,S,P){return S&&T(v.prototype,S),P&&T(v,P),v}}(),o=function T(v,S,P){v===null&&(v=Function.prototype);var I=Object.getOwnPropertyDescriptor(v,S);if(I===void 0){var x=Object.getPrototypeOf(v);return x===null?void 0:T(x,S,P)}else{if("value"in I)return I.value;var N=I.get;return N===void 0?void 0:N.call(P)}},a=i(35),l=p(a),c=i(5),f=p(c),h=i(9),d=p(h);function p(T){return T&&T.__esModule?T:{default:T}}function w(T,v){if(!(T instanceof v))throw new TypeError("Cannot call a class as a function")}function E(T,v){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:T}function _(T,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);T.prototype=Object.create(v&&v.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(T,v):T.__proto__=v)}var g=function(T){_(v,T);function v(){return w(this,v),E(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,null,[{key:"create",value:function(P){var I=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,P);return typeof P=="string"&&(window.katex.render(P,I,{throwOnError:!1,errorColor:"#f00"}),I.setAttribute("data-value",P)),I}},{key:"value",value:function(P){return P.getAttribute("data-value")}}]),v}(l.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var m=function(T){_(v,T),s(v,null,[{key:"register",value:function(){f.default.register(g,!0)}}]);function v(){w(this,v);var S=E(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return S}return v}(d.default);r.FormulaBlot=g,r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=function(){function P(I,x){for(var N=0;N<x.length;N++){var b=x[N];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(I,b.key,b)}}return function(I,x,N){return x&&P(I.prototype,x),N&&P(I,N),I}}(),o=function P(I,x,N){I===null&&(I=Function.prototype);var b=Object.getOwnPropertyDescriptor(I,x);if(b===void 0){var A=Object.getPrototypeOf(I);return A===null?void 0:P(A,x,N)}else{if("value"in b)return b.value;var C=b.get;return C===void 0?void 0:C.call(N)}},a=i(0),l=E(a),c=i(5),f=E(c),h=i(9),d=E(h),p=i(13),w=E(p);function E(P){return P&&P.__esModule?P:{default:P}}function _(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function g(P,I){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:P}function m(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(P,I):P.__proto__=I)}var T=function(P){m(I,P);function I(){return _(this,I),g(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return s(I,[{key:"replaceWith",value:function(N){this.domNode.textContent=this.domNode.textContent,this.attach(),o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replaceWith",this).call(this,N)}},{key:"highlight",value:function(N){var b=this.domNode.textContent;this.cachedText!==b&&((b.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=N(b),this.domNode.normalize(),this.attach()),this.cachedText=b)}}]),I}(w.default);T.className="ql-syntax";var v=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),S=function(P){m(I,P),s(I,null,[{key:"register",value:function(){f.default.register(v,!0),f.default.register(T,!0)}}]);function I(x,N){_(this,I);var b=g(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,x,N));if(typeof b.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var A=null;return b.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(A),A=setTimeout(function(){b.highlight(),A=null},b.options.interval)}),b.highlight(),b}return s(I,[{key:"highlight",value:function(){var N=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var b=this.quill.getSelection();this.quill.scroll.descendants(T).forEach(function(A){A.highlight(N.options.highlight)}),this.quill.update(f.default.sources.SILENT),b!=null&&this.quill.setSelection(b,f.default.sources.SILENT)}}}]),I}(d.default);S.DEFAULTS={highlight:function(){return window.hljs==null?null:function(P){var I=window.hljs.highlightAuto(P);return I.value}}(),interval:1e3},r.CodeBlock=T,r.CodeToken=v,r.default=S},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function I(x,N,b){x===null&&(x=Function.prototype);var A=Object.getOwnPropertyDescriptor(x,N);if(A===void 0){var C=Object.getPrototypeOf(x);return C===null?void 0:I(C,N,b)}else{if("value"in A)return A.value;var M=A.get;return M===void 0?void 0:M.call(b)}},o=function(){function I(x,N){for(var b=0;b<N.length;b++){var A=N[b];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(x,A.key,A)}}return function(x,N,b){return N&&I(x.prototype,N),b&&I(x,b),x}}(),a=i(3),l=_(a),c=i(8),f=_(c),h=i(43),d=_(h),p=i(15),w=i(41),E=_(w);function _(I){return I&&I.__esModule?I:{default:I}}function g(I,x){if(!(I instanceof x))throw new TypeError("Cannot call a class as a function")}function m(I,x){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:I}function T(I,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);I.prototype=Object.create(x&&x.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(I,x):I.__proto__=x)}var v=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],S=function(I){T(x,I);function x(N,b){g(this,x),b.modules.toolbar!=null&&b.modules.toolbar.container==null&&(b.modules.toolbar.container=v);var A=m(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,N,b));return A.quill.container.classList.add("ql-bubble"),A}return o(x,[{key:"extendToolbar",value:function(b){this.tooltip=new P(this.quill,this.options.bounds),this.tooltip.root.appendChild(b.container),this.buildButtons([].slice.call(b.container.querySelectorAll("button")),E.default),this.buildPickers([].slice.call(b.container.querySelectorAll("select")),E.default)}}]),x}(d.default);S.DEFAULTS=(0,l.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(x){x?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var P=function(I){T(x,I);function x(N,b){g(this,x);var A=m(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,N,b));return A.quill.on(f.default.events.EDITOR_CHANGE,function(C,M,j,$){if(C===f.default.events.SELECTION_CHANGE)if(M!=null&&M.length>0&&$===f.default.sources.USER){A.show(),A.root.style.left="0px",A.root.style.width="",A.root.style.width=A.root.offsetWidth+"px";var H=A.quill.getLines(M.index,M.length);if(H.length===1)A.position(A.quill.getBounds(M));else{var G=H[H.length-1],Q=A.quill.getIndex(G),z=Math.min(G.length()-1,M.index+M.length-Q),F=A.quill.getBounds(new p.Range(Q,z));A.position(F)}}else document.activeElement!==A.textbox&&A.quill.hasFocus()&&A.hide()}),A}return o(x,[{key:"listen",value:function(){var b=this;s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){b.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!b.root.classList.contains("ql-hidden")){var A=b.quill.getSelection();A!=null&&b.position(b.quill.getBounds(A))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(b){var A=s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"position",this).call(this,b),C=this.root.querySelector(".ql-tooltip-arrow");if(C.style.marginLeft="",A===0)return A;C.style.marginLeft=-1*A-C.offsetWidth/2+"px"}}]),x}(h.BaseTooltip);P.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=P,r.default=S},function(n,r,i){n.exports=i(63)}]).default})})(YA);var BQ=YA.exports,zQ=Pn&&Pn.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hd=Pn&&Pn.__assign||function(){return hd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},hd.apply(this,arguments)},qQ=Pn&&Pn.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r},Vp=Pn&&Pn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},jr=Vp(K),WQ=Vp(Mk),Nl=Vp($Q),p2=Vp(BQ),HQ=function(t){zQ(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(s,o,a,l){var c,f,h,d;s==="text-change"?(f=(c=r).onEditorChangeText)===null||f===void 0||f.call(c,r.editor.root.innerHTML,o,l,r.unprivilegedEditor):s==="selection-change"&&((d=(h=r).onEditorChangeSelection)===null||d===void 0||d.call(h,o,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(jr.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(jr.default.Children.count(n.children)){var i=jr.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,s;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var o=this.getEditorContents(),a=(s=n.value,s??"");this.isEqualValue(a,o)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),qQ(this.cleanProps,this.dirtyProps).some(function(l){return!Nl.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!Nl.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var s=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:s,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,s=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var c=this.editor;c.setContents(s),m2(function(){return i.setEditorSelection(c,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new p2.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?Nl.default(n.ops,r.ops):Nl.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var s=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),m2(function(){return i.setEditorSelection(n,s)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,s;!((s=(i=n)===null||i===void 0?void 0:i.scroll)===null||s===void 0)&&s.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=WQ.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,s=r.preserveWhitespace,o=this.state.generation,a={key:o,ref:function(l){n.editingArea=l}};return jr.default.Children.count(i)?jr.default.cloneElement(jr.default.Children.only(i),a):s?jr.default.createElement("pre",hd({},a)):jr.default.createElement("div",hd({},a))},e.prototype.render=function(){var n;return jr.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,s){var o,a;if(this.editor){var l=this.isDelta(this.value)?s.getContents():s.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(o=this.props).onChange)===null||a===void 0||a.call(o,n,r,i,s))}},e.prototype.onEditorChangeSelection=function(n,r,i){var s,o,a,l,c,f;if(this.editor){var h=this.getEditorSelection(),d=!h&&n,p=h&&!n;Nl.default(n,h)||(this.selection=n,(o=(s=this.props).onChangeSelection)===null||o===void 0||o.call(s,n,r,i),d?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):p&&((f=(c=this.props).onBlur)===null||f===void 0||f.call(c,h,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=p2.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(jr.default.Component);function m2(t){Promise.resolve().then(t)}var YQ=HQ;const Q_=$a(YQ);var iv={exports:{}},hg={exports:{}},dg,g2;function GQ(){if(g2)return dg;g2=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dg=t,dg}var pg,y2;function KQ(){if(y2)return pg;y2=1;var t=GQ();function e(){}function n(){}return n.resetWarningCache=e,pg=function(){function r(o,a,l,c,f,h){if(h!==t){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},pg}var v2;function QQ(){return v2||(v2=1,hg.exports=KQ()()),hg.exports}(function(t,e){(function(n,r){r(e,K,QQ())})(Pn,function(n,r,i){Object.defineProperty(n,"__esModule",{value:!0});var s=o(r);o(i);function o(P){return P&&P.__esModule?P:{default:P}}function a(P,I,x){return I in P?Object.defineProperty(P,I,{value:x,enumerable:!0,configurable:!0,writable:!0}):P[I]=x,P}function l(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}var c=function(){function P(I,x){for(var N=0;N<x.length;N++){var b=x[N];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(I,b.key,b)}}return function(I,x,N){return x&&P(I.prototype,x),N&&P(I,N),I}}();function f(P,I){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:P}function h(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(P,I):P.__proto__=I)}var d=Object.assign||function(P){for(var I=1;I<arguments.length;I++){var x=arguments[I];for(var N in x)Object.prototype.hasOwnProperty.call(x,N)&&(P[N]=x[N])}return P};function p(P,I){var x={};for(var N in P)I.indexOf(N)>=0||Object.prototype.hasOwnProperty.call(P,N)&&(x[N]=P[N]);return x}function w(P){for(var I=[],x=0;x<P.length;x++)I.indexOf(P[x])===-1&&I.push(typeof P[x]=="string"?P[x].trim():P[x]);return I}function E(P){return window.clipboardData?window.clipboardData.getData("Text"):P.clipboardData?P.clipboardData.getData("text/plain"):""}function _(P){var I=P.tag,x=P.key,N=P.disabled,b=P.onRemove,A=P.classNameRemove,C=P.getTagDisplayValue,M=p(P,["tag","key","disabled","onRemove","classNameRemove","getTagDisplayValue"]);return s.default.createElement("span",d({key:x},M),C(I),!N&&s.default.createElement("a",{className:A,onClick:function($){return b(x)}}))}function g(P){P.addTag;var I=p(P,["addTag"]),x=I.onChange,N=I.value,b=p(I,["onChange","value"]);return s.default.createElement("input",d({type:"text",onChange:x,value:N},b))}function m(P,I){return s.default.createElement("span",null,P,I)}function T(P){return P.split(" ").map(function(I){return I.trim()})}var v={className:"react-tagsinput-input",placeholder:"Add a tag"},S=function(P){h(I,P);function I(){l(this,I);var x=f(this,(I.__proto__||Object.getPrototypeOf(I)).call(this));return x.state={tag:"",isFocused:!1},x.focus=x.focus.bind(x),x.blur=x.blur.bind(x),x.accept=x.accept.bind(x),x}return c(I,[{key:"_getTagDisplayValue",value:function(N){var b=this.props.tagDisplayProp;return b?N[b]:N}},{key:"_makeTag",value:function(N){var b=this.props.tagDisplayProp;return b?a({},b,N):N}},{key:"_removeTag",value:function(N){var b=this.props.value.concat([]);if(N>-1&&N<b.length){var A=b.splice(N,1);this.props.onChange(b,A,[N])}}},{key:"_clearInput",value:function(){this.hasControlledInput()?this.props.onChangeInput(""):this.setState({tag:""})}},{key:"_tag",value:function(){return this.hasControlledInput()?this.props.inputValue:this.state.tag}},{key:"_addTags",value:function(N){var b=this,A=this.props,C=A.onChange,M=A.onValidationReject,j=A.onlyUnique,$=A.maxTags,H=A.value;j&&(N=w(N),N=N.filter(function(V){return H.every(function(B){return b._getTagDisplayValue(B)!==b._getTagDisplayValue(V)})}));var G=N.filter(function(V){return!b._validate(b._getTagDisplayValue(V))});if(N=N.filter(function(V){return b._validate(b._getTagDisplayValue(V))}),N=N.filter(function(V){var B=b._getTagDisplayValue(V);return typeof B.trim=="function"?B.trim().length>=0:B}),$>=0){var Q=Math.max($-H.length,0);N=N.slice(0,Q)}if(M&&G.length>0&&M(G),N.length>0){for(var z=H.concat(N),F=[],D=0;D<N.length;D++)F.push(H.length+D);return C(z,N,F),this._clearInput(),!0}return G.length>0||this._clearInput(),!1}},{key:"_validate",value:function(N){var b=this.props,A=b.validate,C=b.validationRegex;return A(N)&&C.test(N)}},{key:"_shouldPreventDefaultEventOnAdd",value:function(N,b,A){return N?!0:A==="Enter"?this.props.preventSubmit||!this.props.preventSubmit&&!b:!1}},{key:"focus",value:function(){this.input&&typeof this.input.focus=="function"&&this.input.focus(),this.handleOnFocus()}},{key:"blur",value:function(){this.input&&typeof this.input.blur=="function"&&this.input.blur(),this.handleOnBlur()}},{key:"accept",value:function(){var N=this.props.preventSubmit,b=this._tag();return b!==""||!N?(b=this._makeTag(b),this._addTags([b])):!1}},{key:"addTag",value:function(N){return this._addTags([N])}},{key:"clearInput",value:function(){this._clearInput()}},{key:"handlePaste",value:function(N){var b=this,A=this.props,C=A.addOnPaste,M=A.pasteSplit;if(C){N.preventDefault();var j=E(N),$=M(j).map(function(H){return b._makeTag(H)});this._addTags($)}}},{key:"handleKeyDown",value:function(N){if(!N.defaultPrevented){var b=this.props,A=b.value,C=b.removeKeys,M=b.addKeys,j=this._tag(),$=j==="",H=N.keyCode,G=N.key,Q=M.indexOf(H)!==-1||M.indexOf(G)!==-1,z=C.indexOf(H)!==-1||C.indexOf(G)!==-1;if(Q){var F=this.accept();this._shouldPreventDefaultEventOnAdd(F,$,G)&&N.preventDefault()}z&&A.length>0&&$&&(N.preventDefault(),this._removeTag(A.length-1))}}},{key:"handleClick",value:function(N){var b=N.target,A=N.target&&N.target.parentElement;(b===this.div||A===this.div)&&this.focus()}},{key:"handleChange",value:function(N){var b=this.props.onChangeInput,A=this.props.inputProps.onChange,C=N.target.value;A&&A(N),this.hasControlledInput()?b(C):this.setState({tag:C})}},{key:"handleOnFocus",value:function(N){var b=this.props.inputProps.onFocus;b&&b(N),this.setState({isFocused:!0})}},{key:"handleOnBlur",value:function(N){var b=this.props.inputProps.onBlur;if(this.setState({isFocused:!1}),N!=null&&(b&&b(N),this.props.addOnBlur&&N.target.value)){var A=this._makeTag(N.target.value);this._addTags([A])}}},{key:"handleRemove",value:function(N){this._removeTag(N)}},{key:"inputProps",value:function(){var N=this.props.inputProps;N.onChange,N.onFocus,N.onBlur;var b=p(N,["onChange","onFocus","onBlur"]),A=d({},v,b);return this.props.disabled&&(A.disabled=!0),A}},{key:"inputValue",value:function(N){return N.currentValue||N.inputValue||""}},{key:"hasControlledInput",value:function(){var N=this.props,b=N.inputValue,A=N.onChangeInput;return typeof A=="function"&&typeof b=="string"}},{key:"componentDidMount",value:function(){this.hasControlledInput()||this.setState({tag:this.inputValue(this.props)})}},{key:"componentDidUpdate",value:function(N){this.hasControlledInput()||this.inputValue(this.props)&&this.inputValue(N)!==this.inputValue(this.props)&&this.setState({tag:this.inputValue(this.props)})}},{key:"render",value:function(){var N=this,b=this.props,A=b.value,C=b.tagProps,M=b.renderLayout,j=b.renderTag,$=b.renderInput,H=b.className,G=b.focusedClassName,Q=b.disabled,z=this.state.isFocused,F=A.map(function(V,B){return j(d({key:B,tag:V,onRemove:N.handleRemove.bind(N),disabled:Q,getTagDisplayValue:N._getTagDisplayValue.bind(N)},C))}),D=$(d({ref:function(B){N.input=B},value:this._tag(),onPaste:this.handlePaste.bind(this),onKeyDown:this.handleKeyDown.bind(this),onChange:this.handleChange.bind(this),onFocus:this.handleOnFocus.bind(this),onBlur:this.handleOnBlur.bind(this),addTag:this.addTag.bind(this)},this.inputProps()));return s.default.createElement("div",{ref:function(B){N.div=B},onClick:this.handleClick.bind(this),className:H+(z?" "+G:"")},M(F,D))}}]),I}(s.default.Component);S.defaultProps={className:"react-tagsinput",focusedClassName:"react-tagsinput--focused",addKeys:["Tab","Enter"],addOnBlur:!1,addOnPaste:!1,inputProps:{},removeKeys:["Backspace"],renderInput:g,renderTag:_,renderLayout:m,pasteSplit:T,tagProps:{className:"react-tagsinput-tag",classNameRemove:"react-tagsinput-remove"},onlyUnique:!1,maxTags:-1,validate:function(){return!0},validationRegex:/.*/,disabled:!1,tagDisplayProp:null,preventSubmit:!0},n.default=S,t.exports=n.default})})(iv,iv.exports);var ZQ=iv.exports;const XQ=$a(ZQ),JQ=({setPublish:t,description:e,title:n})=>{const r=K.useRef(null),[i,s]=K.useState(""),[o,a]=K.useState([]),[l,c]=K.useState(""),{currentUser:f}=yt(),h=kn(),[d,p]=K.useState(!1),[w,E]=K.useState({title:"",photo:""});K.useEffect(()=>{n||e?(E({...w,title:n}),c(e)):(E({...w,title:""}),c(""))},[n,e]);const _=()=>{r.current.click()},g=async()=>{p(!0);try{if(w.title===""||l===""||o.length===0){we.error("All fields are required!!!");return}w.title.length<15&&we.error("Title must be at least 15 letters");const m=Ac(Tt,"posts");let T;if(i){const v=ax(PO,`image/${w.photo.name}`);await sx(v,w==null?void 0:w.photo),T=await ox(v)}await OO(m,{userId:f==null?void 0:f.uid,title:w.title,desc:l,tags:o,postImg:T||"",created:Date.now(),pageViews:0}),we.success("Post has been added"),h("/"),t(!1),E({title:"",photo:""})}catch(m){we.error(m.message)}finally{p(!1)}};return R.jsx("section",{className:"absolute inset-0 bg-white z-30",children:R.jsxs("div",{className:"size my-[2rem]",children:[R.jsx("span",{onClick:()=>t(!1),className:"absolute right-[1rem] md:right-[5rem] top-[3rem] text-2xl cursor-pointer",children:R.jsx(Lc,{})}),R.jsxs("div",{className:"mt-[8rem] flex flex-col md:flex-row gap-10",children:[R.jsxs("div",{className:"flex-[1]",children:[R.jsx("h3",{children:"Story Preview"}),R.jsx("div",{style:{backgroundImage:`url(${i})`},onClick:_,className:`w-full h-[200px] object-cover bg-gray-100 my-3 grid \r
                place-items-center cursor-pointer bg-cover bg-no-repeat `,children:!i&&"Add Image"}),R.jsx("input",{onChange:m=>{s(URL.createObjectURL(m.target.files[0])),E({...w,photo:m.target.files[0]})},ref:r,type:"file",hidden:!0}),R.jsx("input",{type:"text",placeholder:"Title",className:"outline-none w-full border-b border-gray-300 py-2",value:w.title,onChange:m=>E({...w,title:m.target.value})}),R.jsx(Q_,{theme:"bubble",value:l,onChange:c,placeholder:"Tell Your Story...",className:"py-3 border-b border-gray-300"}),R.jsxs("p",{className:"text-gray-500 pt-4 text-sm",children:[R.jsx("span",{className:"font-bold",children:"Note:"})," Changes here will affect how your story appears in public places like Mediums homepage and in subscribers inboxes  not the contents of the story itself."]})]}),R.jsxs("div",{className:"flex-[1] flex flex-col gap-4 mb-5 md:mb-0",children:[R.jsxs("h3",{className:"text-2xl",children:["Publishing to:",R.jsx("span",{className:"font-bold capitalize",children:"Warmisharrow"})]}),R.jsx("p",{children:"Add or change topics up to 5 so readers know what your story is about"}),R.jsx(XQ,{value:o,onChange:a}),R.jsx("button",{onClick:g,className:"btn !bg-green-800 !w-fit !text-white !rounded-full",children:d?"Submitting...":"Publish Now"})]})]})]})})},eZ=()=>{const[t,e]=K.useState(""),[n,r]=K.useState(""),{publish:i,setPublish:s}=yt();return R.jsxs("section",{className:"w-[90%] md:w-[90%] lg:w-[60%] mx-auto py-[3rem]",children:[R.jsx("input",{value:n,onChange:o=>r(o.target.value),type:"text",placeholder:"Title",className:"text-4xl outline-none w-full"}),R.jsx(Q_,{theme:"bubble",value:t,onChange:e,placeholder:"Tell Your Story...",className:"write my-5"}),R.jsx("div",{className:`${i?"visible opacity-100":"invisible opacity-0"} transition-all duration-200`,children:R.jsx(JQ,{setPublish:s,description:t,title:n})})]})};function tZ(t){return st({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M201.55,185.73v0A71.73,71.73,0,0,0,194.12,132l-19-32.91A17.46,17.46,0,0,0,174,97.34l-9.8-14.77L170.77,94v0a18,18,0,0,0-27.22,22.27L120,75.51,109,59l6.6,11.44h0A18,18,0,0,0,88,92.07l-.06.05-7.2-12.47-4.35-5.06L69.81,63.15a18,18,0,1,1,31.18-18l7.2,12.47L109,59a18,18,0,1,1,31.18-18l24,41.57a18,18,0,0,1,31.18-18l19,32.91A72,72,0,0,1,201.55,185.73Z",opacity:"0.2"}},{tag:"path",attr:{d:"M168,24V8a8,8,0,0,1,16,0V24a8,8,0,0,1-16,0Zm35.83,17A7.9,7.9,0,0,0,208,42.13a8,8,0,0,0,6.84-3.83l8-13.11a8,8,0,1,0-13.66-8.33l-8,13.1A8,8,0,0,0,203.83,41Zm17.44,52.53A79.71,79.71,0,0,1,208.68,190,80,80,0,0,1,62.49,208l-35-60.63A26,26,0,0,1,46.67,108.6l-4-6.94A26,26,0,0,1,61,63,26,26,0,0,1,72.4,31.63a26.05,26.05,0,0,1,30.81,3.58A26,26,0,0,1,147.09,37l12,20.79a26,26,0,0,1,43.18,2.78ZM115.92,55h0l5.93,10.27a25.87,25.87,0,0,1,5,6.24l12,20.75a26.2,26.2,0,0,1,16-9.78L133.24,45a10,10,0,0,0-13.66-3.66A10,10,0,0,0,115.92,55ZM76.74,59.15l5.93,10.28.32.29A25.93,25.93,0,0,1,99.71,58.94l-5.65-9.79a10,10,0,0,0-18.32,2.41A9.92,9.92,0,0,0,76.74,59.15ZM187.19,136l-19-32.91a10,10,0,0,0-17.74,9.18L161.87,132A8,8,0,1,1,148,140L113,79.53A10,10,0,0,0,95.63,89.4L120.26,132a8,8,0,1,1-13.85,8L73.84,83.66a10,10,0,1,0-17.32,10l36,62.36a8,8,0,1,1-13.86,8l-20-34.64a10,10,0,0,0-17.32,10l35,60.63a64,64,0,1,0,110.85-64Zm20.22-34.51-19-32.91a10,10,0,0,0-17.32,10h0L177,88.83a26.06,26.06,0,0,1,5,6.26l19,32.91a80.13,80.13,0,0,1,10.13,30A63.82,63.82,0,0,0,207.41,101.49Zm43.86-47.94a8,8,0,0,0-10.07-5.16l-15,4.85a8,8,0,0,0,2.45,15.62,8.15,8.15,0,0,0,2.46-.39l15-4.85A8,8,0,0,0,251.27,53.55Z"}}]})(t)}const nZ=({postId:t})=>{const[e,n]=K.useState(!1),{currentUser:r,setAuthModel:i}=yt(),{data:s}=To("posts",t,"likes");K.useEffect(()=>{n(s&&s.findIndex(a=>a.id===(r==null?void 0:r.uid))!==-1)},[s]);const o=async()=>{try{if(r){const a=Ht(Tt,"posts",t,"likes",r==null?void 0:r.uid);e?await Ti(a):await Ua(a,{userId:r==null?void 0:r.uid})}else i(!0)}catch(a){we.error(a.message)}};return R.jsxs("button",{onClick:o,className:"flex items-center gap-1 text-sm",children:[R.jsx(tZ,{className:`text-xl ${e?"text-black":"text-gray-500"}`}),R.jsx("span",{children:Wk(s==null?void 0:s.length)})]})};function rZ(t){return st({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"}}]})(t)}const iZ=()=>{const{setShowComment:t,commentLength:e}=yt();return R.jsxs("button",{onClick:()=>t(!0),className:"flex items-center gap-1 text-sm",children:[R.jsx(rZ,{className:"text-lg"}),R.jsx("span",{children:Wk(e)})]})};var GA={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(GA);var sZ=GA.exports;const KA=$a(sZ);var sv={exports:{}},ov={exports:{}},ec=1e3,tc=ec*60,nc=tc*60,rc=nc*24,oZ=rc*365.25,aZ=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return lZ(t);if(n==="number"&&isNaN(t)===!1)return e.long?cZ(t):uZ(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function lZ(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*oZ;case"days":case"day":case"d":return n*rc;case"hours":case"hour":case"hrs":case"hr":case"h":return n*nc;case"minutes":case"minute":case"mins":case"min":case"m":return n*tc;case"seconds":case"second":case"secs":case"sec":case"s":return n*ec;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function uZ(t){return t>=rc?Math.round(t/rc)+"d":t>=nc?Math.round(t/nc)+"h":t>=tc?Math.round(t/tc)+"m":t>=ec?Math.round(t/ec)+"s":t+"ms"}function cZ(t){return Mf(t,rc,"day")||Mf(t,nc,"hour")||Mf(t,tc,"minute")||Mf(t,ec,"second")||t+" ms"}function Mf(t,e,n){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}(function(t,e){e=t.exports=i.debug=i.default=i,e.coerce=l,e.disable=o,e.enable=s,e.enabled=a,e.humanize=aZ,e.names=[],e.skips=[],e.formatters={};var n;function r(c){var f=0,h;for(h in c)f=(f<<5)-f+c.charCodeAt(h),f|=0;return e.colors[Math.abs(f)%e.colors.length]}function i(c){function f(){if(f.enabled){var h=f,d=+new Date,p=d-(n||d);h.diff=p,h.prev=n,h.curr=d,n=d;for(var w=new Array(arguments.length),E=0;E<w.length;E++)w[E]=arguments[E];w[0]=e.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");var _=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,function(m,T){if(m==="%%")return m;_++;var v=e.formatters[T];if(typeof v=="function"){var S=w[_];m=v.call(h,S),w.splice(_,1),_--}return m}),e.formatArgs.call(h,w);var g=f.log||e.log||console.log.bind(console);g.apply(h,w)}}return f.namespace=c,f.enabled=e.enabled(c),f.useColors=e.useColors(),f.color=r(c),typeof e.init=="function"&&e.init(f),f}function s(c){e.save(c),e.names=[],e.skips=[];for(var f=(typeof c=="string"?c:"").split(/[\s,]+/),h=f.length,d=0;d<h;d++)f[d]&&(c=f[d].replace(/\*/g,".*?"),c[0]==="-"?e.skips.push(new RegExp("^"+c.substr(1)+"$")):e.names.push(new RegExp("^"+c+"$")))}function o(){e.enable("")}function a(c){var f,h;for(f=0,h=e.skips.length;f<h;f++)if(e.skips[f].test(c))return!1;for(f=0,h=e.names.length;f<h;f++)if(e.names[f].test(c))return!0;return!1}function l(c){return c instanceof Error?c.stack||c.message:c}})(ov,ov.exports);var fZ=ov.exports;(function(t,e){e=t.exports=fZ,e.log=i,e.formatArgs=r,e.save=s,e.load=o,e.useColors=n,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:a(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}};function r(l){var c=this.useColors;if(l[0]=(c?"%c":"")+this.namespace+(c?" %c":" ")+l[0]+(c?"%c ":" ")+"+"+e.humanize(this.diff),!!c){var f="color: "+this.color;l.splice(1,0,f,"color: inherit");var h=0,d=0;l[0].replace(/%[a-zA-Z%]/g,function(p){p!=="%%"&&(h++,p==="%c"&&(d=h))}),l.splice(d,0,f)}}function i(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(l){try{l==null?e.storage.removeItem("debug"):e.storage.debug=l}catch{}}function o(){var l;try{l=e.storage.debug}catch{}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}e.enable(o());function a(){try{return window.localStorage}catch{}}})(sv,sv.exports);var hZ=sv.exports,_2=hZ("jsonp"),dZ=gZ,pZ=0;function mZ(){}function gZ(t,e,n){typeof e=="function"&&(n=e,e={}),e||(e={});var r=e.prefix||"__jp",i=e.name||r+pZ++,s=e.param||"callback",o=e.timeout!=null?e.timeout:6e4,a=encodeURIComponent,l=document.getElementsByTagName("script")[0]||document.head,c,f;o&&(f=setTimeout(function(){h(),n&&n(new Error("Timeout"))},o));function h(){c.parentNode&&c.parentNode.removeChild(c),window[i]=mZ,f&&clearTimeout(f)}function d(){window[i]&&h()}return window[i]=function(p){_2("jsonp got",p),h(),n&&n(null,p)},t+=(~t.indexOf("?")?"&":"?")+s+"="+a(i),t=t.replace("?&","?"),_2('jsonp req "%s"',t),c=document.createElement("script"),c.src=t,l.parentNode.insertBefore(c,l),d}const Do=$a(dZ);var yZ=Object.defineProperty,vZ=Object.defineProperties,_Z=Object.getOwnPropertyDescriptors,dd=Object.getOwnPropertySymbols,QA=Object.prototype.hasOwnProperty,ZA=Object.prototype.propertyIsEnumerable,w2=(t,e,n)=>e in t?yZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ur=(t,e)=>{for(var n in e||(e={}))QA.call(e,n)&&w2(t,n,e[n]);if(dd)for(var n of dd(e))ZA.call(e,n)&&w2(t,n,e[n]);return t},Z_=(t,e)=>vZ(t,_Z(e)),X_=(t,e)=>{var n={};for(var r in t)QA.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&dd)for(var r of dd(t))e.indexOf(r)<0&&ZA.call(t,r)&&(n[r]=t[r]);return n};function at(t){const e=Object.entries(t).filter(([,n])=>n!=null).map(([n,r])=>`${encodeURIComponent(n)}=${encodeURIComponent(String(r))}`);return e.length>0?`?${e.join("&")}`:""}const wZ=t=>!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function",EZ=(t,e)=>({left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-t/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-e/2}),TZ=(t,e)=>({top:(window.screen.height-e)/2,left:(window.screen.width-t)/2});function SZ(t,e,n){var r=e,{height:i,width:s}=r,o=X_(r,["height","width"]);const a=ur({height:i,width:s,location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"},o),l=window.open(t,"",Object.keys(a).map(c=>`${c}=${a[c]}`).join(", "));if(n){const c=window.setInterval(()=>{try{(l===null||l.closed)&&(window.clearInterval(c),n(l))}catch(f){console.error(f)}},1e3)}return l}function kZ(t){var e=t,{beforeOnClick:n,children:r,className:i,disabled:s,disabledStyle:o={opacity:.6},forwardedRef:a,networkLink:l,networkName:c,onClick:f,onShareWindowClose:h,openShareDialogOnClick:d=!0,opts:p,resetButtonStyle:w=!0,style:E,url:_,windowHeight:g=400,windowPosition:m="windowCenter",windowWidth:T=550}=e,v=X_(e,["beforeOnClick","children","className","disabled","disabledStyle","forwardedRef","networkLink","networkName","onClick","onShareWindowClose","openShareDialogOnClick","opts","resetButtonStyle","style","url","windowHeight","windowPosition","windowWidth"]);const S=async x=>{const N=l(_,p);if(!s){if(x.preventDefault(),n){const b=n();wZ(b)&&await b}if(d){const b=ur({height:g,width:T},m==="windowCenter"?EZ(T,g):TZ(T,g));SZ(N,b,h)}f&&f(x,N)}},P=KA("react-share__ShareButton",{"react-share__ShareButton--disabled":!!s,disabled:!!s},i),I=ur(ur(w?{backgroundColor:"transparent",border:"none",padding:0,font:"inherit",color:"inherit",cursor:"pointer"}:{},E),s&&o);return R.jsx("button",Z_(ur({},v),{className:P,onClick:S,ref:a,style:I,children:r}))}function Ct(t,e,n,r){function i(s,o){const a=n(s),l=ur({},s);return Object.keys(a).forEach(f=>{delete l[f]}),R.jsx(kZ,Z_(ur(ur({},r),l),{forwardedRef:o,networkName:t,networkLink:e,opts:n(s)}))}return i.displayName=`ShareButton-${t}`,K.forwardRef(i)}function bZ(t,{subject:e,body:n,separator:r}){return"mailto:"+at({subject:e,body:n?n+r+t:t})}Ct("email",bZ,t=>({subject:t.subject,body:t.body,separator:t.separator||" "}),{openShareDialogOnClick:!1,onClick:(t,e)=>{window.location.href=e}});function xZ(t,{appId:e,redirectUri:n,to:r}){return"https://www.facebook.com/dialog/send"+at({link:t,redirect_uri:n||t,app_id:e,to:r})}Ct("facebookmessenger",xZ,t=>({appId:t.appId,redirectUri:t.redirectUri,to:t.to}),{windowWidth:1e3,windowHeight:820});class IZ extends Error{constructor(e){super(e),this.name="AssertionError"}}function bt(t,e){if(!t)throw new IZ(e)}function OZ(t,{hashtag:e}){return bt(t,"facebook.url"),"https://www.facebook.com/sharer/sharer.php"+at({u:t,hashtag:e})}const AZ=Ct("facebook",OZ,t=>({hashtag:t.hashtag}),{windowWidth:550,windowHeight:400}),PZ=AZ;function RZ(){const t=K.useRef(!1);return K.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),K.useCallback(()=>t.current,[])}function NZ(t){var e=t,{children:n=d=>d,className:r,getCount:i,url:s}=e,o=X_(e,["children","className","getCount","url"]);const a=RZ(),[l,c]=K.useState(void 0),[f,h]=K.useState(!1);return K.useEffect(()=>{h(!0),i(s,d=>{a()&&(c(d),h(!1))})},[s]),R.jsx("span",Z_(ur({className:KA("react-share__ShareCount",r)},o),{children:!f&&l!==void 0&&n(l)}))}function Mo(t){const e=n=>R.jsx(NZ,ur({getCount:t},n));return e.displayName=`ShareCount(${t.name})`,e}function CZ(t,e){const n=`https://graph.facebook.com/?id=${t}&fields=og_object{engagement}`;Do(n,(r,i)=>{e(!r&&i&&i.og_object&&i.og_object.engagement?i.og_object.engagement.count:void 0)})}Mo(CZ);function DZ(t,{title:e}){return bt(t,"hatena.url"),`http://b.hatena.ne.jp/add?mode=confirm&url=${t}&title=${e}`}Ct("hatena",DZ,t=>({title:t.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function MZ(t,e){Do("https://bookmark.hatenaapis.com/count/entry"+at({url:t}),(r,i)=>{e(i??void 0)})}Mo(MZ);function LZ(t,{title:e,description:n}){return bt(t,"instapaper.url"),"http://www.instapaper.com/hello2"+at({url:t,title:e,description:n})}Ct("instapaper",LZ,t=>({title:t.title,description:t.description}),{windowWidth:500,windowHeight:500,windowPosition:"windowCenter"});function jZ(t,{title:e}){return bt(t,"line.url"),"https://social-plugins.line.me/lineit/share"+at({url:t,text:e})}Ct("line",jZ,t=>({title:t.title}),{windowWidth:500,windowHeight:500});function VZ(t,{title:e,summary:n,source:r}){return bt(t,"linkedin.url"),"https://linkedin.com/shareArticle"+at({url:t,mini:"true",title:e,summary:n,source:r})}const FZ=Ct("linkedin",VZ,({title:t,summary:e,source:n})=>({title:t,summary:e,source:n}),{windowWidth:750,windowHeight:600}),UZ=FZ;function $Z(t,{title:e,description:n}){return bt(t,"livejournal.url"),"https://www.livejournal.com/update.bml"+at({subject:e,event:n})}Ct("livejournal",$Z,t=>({title:t.title,description:t.description}),{windowWidth:660,windowHeight:460});function BZ(t,{title:e,description:n,imageUrl:r}){return bt(t,"mailru.url"),"https://connect.mail.ru/share"+at({url:t,title:e,description:n,image_url:r})}Ct("mailru",BZ,t=>({title:t.title,description:t.description,imageUrl:t.imageUrl}),{windowWidth:660,windowHeight:460});function zZ(t,{title:e,description:n,image:r}){return bt(t,"ok.url"),"https://connect.ok.ru/offer"+at({url:t,title:e,description:n,imageUrl:r})}Ct("ok",zZ,t=>({title:t.title,description:t.description,image:t.image}),{windowWidth:588,windowHeight:480,windowPosition:"screenCenter"});function qZ(t,e){window.OK||(window.OK={Share:{count:function(s,o){var a,l;(l=(a=window.OK.callbacks)[s])==null||l.call(a,o)}},callbacks:[]});const n="https://connect.ok.ru/dk",r=window.OK.callbacks.length;return window.ODKL={updateCount(i,s){var o,a;const l=i===""?0:parseInt(i.replace("react-share-",""),10);(a=(o=window.OK.callbacks)[l])==null||a.call(o,s===""?void 0:parseInt(s,10))}},window.OK.callbacks.push(e),Do(n+at({"st.cmd":"extLike",uid:`react-share-${r}`,ref:t}))}Mo(qZ);function WZ(t,{media:e,description:n,pinId:r}){return r?`https://pinterest.com/pin/${r}/repin/x/`:(bt(t,"pinterest.url"),bt(e,"pinterest.media"),"https://pinterest.com/pin/create/button/"+at({url:t,media:e,description:n}))}Ct("pinterest",WZ,t=>({media:t.media,description:t.description,pinId:t.pinId}),{windowWidth:1e3,windowHeight:730});function HZ(t,e){Do("https://api.pinterest.com/v1/urls/count.json"+at({url:t}),(r,i)=>{e(i?i.count:void 0)})}Mo(HZ);function YZ(t,{title:e}){return bt(t,"pocket.url"),"https://getpocket.com/save"+at({url:t,title:e})}Ct("pocket",YZ,t=>({title:t.title}),{windowWidth:500,windowHeight:500});function GZ(t,{title:e}){return bt(t,"reddit.url"),"https://www.reddit.com/submit"+at({url:t,title:e})}Ct("reddit",GZ,t=>({title:t.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function KZ(t,{title:e}){return bt(t,"gab.url"),"https://gab.com/compose"+at({url:t,text:e})}Ct("gab",KZ,t=>({title:t.title}),{windowWidth:660,windowHeight:640,windowPosition:"windowCenter"});function QZ(t,e){const n=`https://www.reddit.com/api/info.json?limit=1&url=${t}`;Do(n,{param:"jsonp"},(r,i)=>{e(!r&&i&&i.data&&i.data.children.length>0&&i.data.children[0].data.score?i.data.children[0].data.score:void 0)})}Mo(QZ);function ZZ(t,{title:e}){return bt(t,"telegram.url"),"https://telegram.me/share/url"+at({url:t,text:e})}Ct("telegram",ZZ,t=>({title:t.title}),{windowWidth:550,windowHeight:400});function XZ(t,{title:e,caption:n,tags:r,posttype:i}){return bt(t,"tumblr.url"),"https://www.tumblr.com/widgets/share/tool"+at({canonicalUrl:t,title:e,caption:n,tags:r,posttype:i})}Ct("tumblr",XZ,t=>({title:t.title,tags:(t.tags||[]).join(","),caption:t.caption,posttype:t.posttype||"link"}),{windowWidth:660,windowHeight:460});function JZ(t,e){return Do("https://api.tumblr.com/v2/share/stats"+at({url:t}),(r,i)=>{e(!r&&i&&i.response?i.response.note_count:void 0)})}Mo(JZ);function eX(t,{title:e,via:n,hashtags:r=[],related:i=[]}){return bt(t,"twitter.url"),bt(Array.isArray(r),"twitter.hashtags is not an array"),bt(Array.isArray(i),"twitter.related is not an array"),"https://twitter.com/intent/tweet"+at({url:t,text:e,via:n,hashtags:r.length>0?r.join(","):void 0,related:i.length>0?i.join(","):void 0})}const tX=Ct("twitter",eX,t=>({hashtags:t.hashtags,title:t.title,via:t.via,related:t.related}),{windowWidth:550,windowHeight:400}),nX=tX;function rX(t,{title:e,separator:n}){return bt(t,"viber.url"),"viber://forward"+at({text:e?e+n+t:t})}Ct("viber",rX,t=>({title:t.title,separator:t.separator||" "}),{windowWidth:660,windowHeight:460});function iX(t,{title:e,image:n,noParse:r,noVkLinks:i}){return bt(t,"vk.url"),"https://vk.com/share.php"+at({url:t,title:e,image:n,noparse:r?1:0,no_vk_links:i?1:0})}Ct("vk",iX,t=>({title:t.title,image:t.image,noParse:t.noParse,noVkLinks:t.noVkLinks}),{windowWidth:660,windowHeight:460});function sX(t,e){window.VK||(window.VK={}),window.VK.Share={count:(i,s)=>{var o,a;return(a=(o=window.VK.callbacks)==null?void 0:o[i])==null?void 0:a.call(o,s)}},window.VK.callbacks=[];const n="https://vk.com/share.php",r=window.VK.callbacks.length;return window.VK.callbacks.push(e),Do(n+at({act:"count",index:r,url:t}))}Mo(sX);function oX(t,{title:e,image:n}){return bt(t,"weibo.url"),"http://service.weibo.com/share/share.php"+at({url:t,title:e,pic:n})}Ct("weibo",oX,t=>({title:t.title,image:t.image}),{windowWidth:660,windowHeight:550,windowPosition:"screenCenter"});function aX(){return/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)}function lX(t,{title:e,separator:n}){return bt(t,"whatsapp.url"),"https://"+(aX()?"api":"web")+".whatsapp.com/send"+at({text:e?e+n+t:t})}Ct("whatsapp",lX,t=>({title:t.title,separator:t.separator||" "}),{windowWidth:550,windowHeight:400});function uX(t,{quote:e,hashtag:n}){return bt(t,"workplace.url"),"https://work.facebook.com/sharer.php"+at({u:t,quote:e,hashtag:n})}Ct("workplace",uX,t=>({quote:t.quote,hashtag:t.hashtag}),{windowWidth:550,windowHeight:400});const cX=()=>{const[t,e]=K.useState(!1),n=window.location.href,r=async()=>{try{await navigator.clipboard.writeText(n),we.success("Link has been copied"),e(!1)}catch(i){we.error(i.message),e(!1)}};return R.jsxs("div",{className:"relative",children:[R.jsx("button",{onClick:()=>e(!t),children:R.jsx(dL,{className:"text-2xl"})}),R.jsxs(x_,{showDrop:t,setShowDrop:e,size:"w-[12rem]",children:[R.jsx(Lf,{click:r,title:"Copy Link",icon:R.jsx(Yz,{})}),R.jsx(nX,{url:n,children:R.jsx(Lf,{title:"Share On Twitter",icon:R.jsx(Xz,{})})}),R.jsx(PZ,{url:n,children:R.jsx(Lf,{title:"Share On Facebook",icon:R.jsx(Qz,{})})}),R.jsx(UZ,{url:n,children:R.jsx(Lf,{title:"Share On LinkedIn",icon:R.jsx(Zz,{})})})]})]})},Lf=({click:t,icon:e,title:n})=>R.jsxs("button",{onClick:t,className:`p-2 hover:bg-gray-200 hover:text-black/80 w-full text-sm text-left\r
      flex items-center gap-2 cursor-pointer text-gray-500`,children:[R.jsx("span",{className:"text-[1.2rem]",children:e}),n]}),fX=({post:t})=>{const{data:e}=b_("posts"),[n,r]=K.useState([]);return K.useEffect(()=>{let i=[];e&&e.forEach(a=>{if(a.id===t.id)return;const c=a.tags.filter(f=>{var h;return(h=t==null?void 0:t.tags)==null?void 0:h.includes(f)});c.length>0&&i.push({...a,commonTags:c})}),i.sort(()=>Math.round()*-.5);const s=4,o=i.slice(0,s);r(o)},[e,t]),R.jsx("section",{className:"bg-gray-100",children:R.jsxs("div",{className:"w-[90%] md:w-[90%] lg:w-[60%] mx-auto py-[3rem]",children:[R.jsx("h2",{className:"text-xl font-bold",children:"Recommended from Medium"}),n.length<0?R.jsx("p",{children:"No recommended posts found based on your preference"}):R.jsx("div",{className:"grid grid-cols-card gap-[2rem] my-[3rem]",children:n.map(i=>R.jsx(hX,{post:i},i.id))})]})})},hX=({post:t})=>{const{title:e,desc:n,created:r,postImg:i,id:s,userId:o}=t,{data:a}=b_("users"),l=kn(),{username:c,userImg:f}=a&&a.find(h=>(h==null?void 0:h.id)===o);return R.jsxs("div",{onClick:()=>l(`/post/${s}`),className:"w-full cursor-pointer",children:[i&&R.jsx("img",{className:"w-full h-[200px] object-cover",src:i,alt:"post-img"}),R.jsxs("div",{className:"flex items-center gap-1 py-3",children:[R.jsx("img",{className:"w-[2rem] h-[2rem] object-cover rounded-full",src:f,alt:"userImg"}),R.jsx("h3",{className:"text-sm capitalize",children:c})]}),R.jsx("h2",{className:"font-extrabold leading-5 line-clamp-2",children:e}),R.jsx("div",{className:"line-clamp-2 my-3 text-gray-500 leading-5",dangerouslySetInnerHTML:{__html:n}}),R.jsxs("p",{className:"text-sm text-gray-600",children:[Rd({__html:n})," min read",R.jsx("span",{className:"ml-3",children:de(r).format("MMM DD")})]})]})},dX=({item:t,postId:e})=>{const{allUsers:n,currentUser:r}=yt(),[i,s]=K.useState(!1),[o,a]=K.useState(!1),[l,c]=K.useState(!1),[f,h]=K.useState(!1),d=n.find(S=>S.id===(t==null?void 0:t.userId)),[p,w]=K.useState(""),{userId:E,commentText:_,created:g}=t,m=async()=>{try{const S=Ht(Tt,"posts",e,"comments",t==null?void 0:t.id);await Ti(S),s(!1),we.success("Comment has been removed")}catch(S){we.error(S.message)}},T=()=>{c(!0),s(!1),w(_)},v=async()=>{h(!0);try{const S=Ht(Tt,"posts",e,"comments",t.id);await mp(S,{commentText:p,create:Date.now(),userId:r==null?void 0:r.uid}),w(""),c(!1),s(!1),we.success("Comment has been updated")}catch(S){we.success(S.message)}finally{h(!1)}};return R.jsx("section",{className:"border-b",children:l?R.jsxs("div",{className:"bg-white shadows p-4",children:[R.jsx("textarea",{value:p,onChange:S=>w(S.target.value),placeholder:"Write your update text...",className:"w-full resize-none outline-none text-sm"}),R.jsxs("div",{className:"flex items-center justify-end gap-2",children:[R.jsx("button",{onClick:()=>c(!1),className:"w-fit text-sm",children:"Cancel"}),R.jsx("button",{onClick:v,className:"btn !text-white !bg-green-700 !rounded-full !text-xs",children:f?"Updating...":"Update"})]})]}):R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"flex items-center gap-5",children:[R.jsx("img",{className:"w-[2rem] h-[2rem] object-cover rounded-full",src:(d==null?void 0:d.userImg)||"/profile.jpg",alt:"user-img"}),R.jsxs("div",{className:"flex-1 flex justify-between",children:[R.jsxs("div",{children:[R.jsx("h2",{className:"text-sm capitalize",children:d==null?void 0:d.username}),R.jsx("p",{className:"text-sm text-gray-400",children:de(g).fromNow()})]}),R.jsx("div",{className:"relative",children:r&&(r==null?void 0:r.uid)===E&&R.jsxs(R.Fragment,{children:[R.jsx("button",{onClick:()=>s(!i),className:"text-2xl hover:opacity-70",children:R.jsx(Hz,{})}),R.jsxs(x_,{showDrop:i,setShowDrop:s,size:"w-[10rem]",children:[R.jsx(E2,{click:T,title:"Edit this response"}),R.jsx(E2,{click:m,title:"Delete"})]})]})})]})]}),R.jsxs("p",{className:"py-4 text-sm",children:[o?_:_.substring(0,100),_.length>100&&R.jsx("button",{onClick:()=>a(!o),children:o?"...less":"...more"})]})]})})},E2=({click:t,title:e})=>R.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-200 text-black/80 w-full text-sm text-left",children:e}),pX=({postId:t})=>{const{currentUser:e,allUsers:n,showComment:r,setShowComment:i,setCommentLength:s}=yt(),[o,a]=K.useState(""),l=n.find(d=>d.id===(e==null?void 0:e.uid)),{data:c,loading:f}=To("posts",t,"comments"),h=async()=>{try{o===""&&we.error("The input must be filled.");const d=Ac(Tt,"posts",t,"comments");await OO(d,{commentText:o,created:Date.now(),userId:e==null?void 0:e.uid}),we.success("Comment has been added"),a("")}catch(d){we.error(d.message)}};return K.useEffect(()=>{c&&s(c.length)},[c]),R.jsx(nl,{setModal:i,modal:r,children:R.jsxs("section",{className:`fixed top-0 right-0 bottom-0 z-50 bg-white w-[22rem] shadows p-5
        overflow-y-auto transition-all duration-500
        ${r?"translate-x-0":"translate-x-[23rem]"}
      `,children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("h3",{className:"text-xl font-bold",children:["Responses(",c.length,")"]}),R.jsx("button",{onClick:()=>i(!1),className:"text-xl",children:R.jsx(Lc,{})})]}),e&&R.jsxs("div",{className:"shadows p-3 my-5 overflow-hidden",children:[R.jsxs("div",{className:"flex items-center gap-2 mb-5",children:[R.jsx("img",{className:"w-[2rem] h-[2rem] object-cover rounded-full",src:(l==null?void 0:l.userImg)||"/profile.jpg",alt:"user-img"}),R.jsx("h3",{className:"capitalize text-sm",children:l==null?void 0:l.username})]}),R.jsx("textarea",{value:o,onChange:d=>a(d.target.value),placeholder:"What are your thoughts?",className:"w-full outline-none resize-none text-sm border px-2 pt-4"}),R.jsxs("div",{className:"flex items-center justify-end gap-4 mt-[1rem]",children:[R.jsx("button",{onClick:()=>a(""),className:"text-sm",children:"Cancel"}),R.jsx("button",{onClick:h,className:"btn !text-xs !bg-green-700 !text-white !rounded-full",children:"Response"})]})]}),c&&c.length===0?R.jsx("p",{children:"This post has no comments"}):R.jsx("div",{className:"border-t py-4 mt-8 flex flex-col gap-8",children:c&&c.map((d,p)=>f?R.jsx(Cs,{}):R.jsx(dX,{item:d,postId:t},p))})]})})},mX=()=>{const{postId:t}=s0(),[e,n]=K.useState(""),[r,i]=K.useState(!1),{currentUser:s}=yt(),o=K.useRef(!0);K.useEffect(()=>{o!=null&&o.current&&(async()=>{try{const _=Ht(Tt,"posts",t);await mp(_,{pageViews:mF(1)},{merge:!0})}catch(_){we.error(_.message)}})(),o.current=!1},[]),K.useEffect(()=>{(async()=>{i(!0);try{const _=Ht(Tt,"posts",t),g=await Qu(_);if(g.exists()){const m=g.data();if(m!=null&&m.userId){const T=Ht(Tt,"users",m==null?void 0:m.userId),v=await Qu(T);if(v.exists()){const{created:S,...P}=v.data();n({...m,...P,id:t})}}}i(!1)}catch(_){we.error(_.message),i(!1)}})()},[t,e==null?void 0:e.userId]);const{title:a,desc:l,postImg:c,username:f,created:h,userImg:d,userId:p}=e,w=kn();return R.jsx(R.Fragment,{children:r?R.jsx(Cs,{}):R.jsxs(R.Fragment,{children:[R.jsxs("section",{className:"w-[90%] md:w-[80%] lg:w-[60%] mx-auto py-[3rem]",children:[R.jsx("h2",{className:"text-4xl font-extrabold capitalize",children:a}),R.jsxs("div",{className:"flex items-center gap-2 py-[2rem]",children:[R.jsx("img",{onClick:()=>w(`/profile/${p}`),className:"w-[3rem] h-[3rem] object-cover rounded-full cursor-pointer",src:d,alt:"user-img"}),R.jsxs("div",{children:[R.jsxs("div",{className:"capitalize",children:[R.jsxs("span",{children:[f," ."]}),s&&(s==null?void 0:s.uid)!==p&&R.jsx(VO,{userId:p})]}),R.jsxs("p",{className:"text-sm text-gray-500",children:[Rd({__html:l})," min read .",R.jsx("span",{className:"ml-1",children:Yk(h).fromNow()})]})]})]}),R.jsxs("div",{className:"flex items-center justify-between border-b border-t border-gray-200 py-[0.5rem]",children:[R.jsxs("div",{className:"flex items-center gap-5",children:[R.jsx(nZ,{postId:t}),R.jsx(iZ,{})]}),R.jsxs("div",{className:"flex items-center pt-2 gap-5",children:[e&&R.jsx(MO,{post:e}),R.jsx(cX,{}),s&&(s==null?void 0:s.uid)===(e==null?void 0:e.userId)&&R.jsx(LO,{postId:t,title:a,desc:l})]})]}),R.jsxs("div",{className:"mt-[3rem]",children:[c&&R.jsx("img",{className:"w-full h-[400px] object-cover",src:c,alt:"post-img"}),R.jsx("div",{className:"mt-6",dangerouslySetInnerHTML:{__html:l}})]})]}),e&&R.jsx(fX,{post:e}),R.jsx(pX,{postId:t})]})})},gX=()=>{const{updateData:t,title:e,setTitle:n,description:r,setDescription:i}=yt();return K.useEffect(()=>{t&&(n(t.title),i(t.description))},[t]),R.jsxs("section",{className:"write w-[90%] md:w-[80%] lg:w-[60%] mx-auto py-[3rem]",children:[R.jsx("input",{type:"text",placeholder:"Title...",className:"text-4xl outline-none w-full",value:e,onChange:s=>n(s.target.value)}),R.jsx(Q_,{placeholder:"Description...",className:"!text-[4rem] my-3",theme:"bubble",value:r,onChange:i})]})},yX=()=>{const{tag:t}=s0(),{postData:e,postLoading:n}=yt(),r=e.filter(i=>i.tags.includes(t));return R.jsx("section",{className:"size my-[2rem]",children:R.jsxs("div",{children:[R.jsx("h3",{className:"text-3xl pb-6 border-b border-black mb-[3rem]",children:r.length?"Your Filtered Posts :":"There is no post with this tag"}),n?R.jsx(Cs,{}):R.jsx("div",{className:"lg:max-w-[60%] flex flex-col gap-[2rem]",children:r&&r.map((i,s)=>R.jsx(_p,{post:i},s))})]})})};function vX(){const{currentUser:t}=yt();return R.jsxs(R.Fragment,{children:[t?R.jsx(tq,{}):R.jsx(aq,{}),R.jsx(Wy,{}),R.jsxs(QM,{children:[t&&R.jsx(hi,{path:"/",element:R.jsx(NF,{})}),!t&&R.jsx(hi,{path:"/demo",element:R.jsx(Fz,{})}),R.jsx(hi,{path:"/profile/:userId",element:R.jsx(pq,{})}),R.jsx(hi,{path:"/write",element:R.jsx(eZ,{})}),R.jsx(hi,{path:"/post/:postId",element:R.jsx(mX,{})}),R.jsx(hi,{path:"/editPost/:postId",element:R.jsx(gX,{})}),R.jsx(hi,{path:"/filter/:tag",element:R.jsx(yX,{})}),R.jsx(hi,{path:"*",element:R.jsx(GM,{to:t?"/":"/demo"})})]})]})}mg.createRoot(document.getElementById("root")).render(R.jsx(We.StrictMode,{children:R.jsx(rL,{children:R.jsx(_F,{children:R.jsx(vX,{})})})}))});export default _X();
